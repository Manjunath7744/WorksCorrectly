@model AutoSherpa_project.Models.ViewModels.CallLoggingViewModel

@{
    /**/

    //ViewBag.Title = "Call_Logging";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@Styles.Render("~/bundles/CallLoggingCSS")

@{
    string roboclass = "";
    string fieldscheduledate = DateTime.Today.AddDays(1).ToString("dd-MM-yyyy");
    string policyscheduledate = DateTime.Today.AddDays(1).ToString("dd-MM-yyyy");
    string appointmntFieldtime = " ";
    string onlineapptmntDate = "";
    long? locfield = 0;
    long? agentinsuranceId = 0;
    double? insuIDV = 0.0;
    //Model.listingForm.issmsEnabled = true;

    if (Model.callinteraction != null && Model.callinteraction.appointmentbooked != null)
    {
        onlineapptmntDate = Convert.ToDateTime(Model.callinteraction.appointmentbooked.appointmentDate).ToString("dd-MM-yyyy");
    }

    if (Model.LatestInsurance.idv != null)
    {

        insuIDV = Model.LatestInsurance.idv;
    }
    if (ViewBag.typeOfDispo == "insurance")
    {

        if (Model.callinteraction != null && Model.callinteraction.appointmentbooked != null)
        {
            // if (Session["DealerCode"].ToString() != "PAWANHYUNDAI" && Model.callinteraction.appointmentbooked.typeOfPickup == "Field" && Model.callinteraction.appointmentbooked.appointmentDate != null && Model.callinteraction.appointmentbooked.appointmentFromTime != null)
            if (Model.callinteraction.appointmentbooked.typeOfPickup == "Field" && Model.callinteraction.appointmentbooked.appointmentDate != null && Model.callinteraction.appointmentbooked.appointmentFromTime != null && ViewBag.ISFIELDENABLED == "True")
            {
                fieldscheduledate = Convert.ToDateTime(Model.callinteraction.appointmentbooked.appointmentDate).ToString("dd-MM-yyyy");
                appointmntFieldtime = Model.callinteraction.appointmentbooked.appointmentFromTime;
                locfield = Model.callinteraction.appointmentbooked.fieldWalkinLocation;
                agentinsuranceId = Model.callinteraction.appointmentbooked.insuranceAgent_insuranceAgentId;
            }
        }
    }
    //if (Model.cust.addresses.FirstOrDefault(m => m.isPreferred == true).concatenatedAdress != null)
    //{
    //    string address = Model.cust.addresses.FirstOrDefault(m => m.isPreferred == true).concatenatedAdress;
    //    Model.addressesAdd = new AutoSherpa_project.Models.address();
    //    Model.addressesAdd.concatenatedAdress = address;
    //}

    int defaultWorkshopId = 0;

    if (Model.cust.insurances != null)
    {
        Model.cust.insurances = Model.cust.insurances.OrderByDescending(i => i.policyDueDate).ToList();

    }

}

<style>

    /*.dataTables_scrollBody {
        overflow-x: hidden !important;
        overflow-y: auto !important;
    }*/


    .panel-info > .panel-heading {
        color: #f4fafd;
        background-color: #3586af;
        border-color: #bce8f1;
    }

    .dataTables_scrollBody {
        overflow-x: hidden;
    }

    .dataTables_scrollHead {
        overflow: auto;
    }

    #InduspullOutIns > tbody > tr, td {
        border: 1px solid #000;
    }

    #dispoHistBody {
        font-weight: 300;
    }

    .dispoScroll {
        overflow-y: scroll;
        max-height: 300px;
        min-height: 100px;
    }

    table.dataTable tbody th, table.dataTable tbody td {
        white-space: break-spaces;
    }
    /*table.dataTable tbody th,
    table.dataTable tbody td {
        white-space: nowrap;
    }*/
    .dataTables_scroll {
        margin-right: -9px;
    }

    .dataTables_filter {
        display: none;
    }

    .ins-col {
        border: 3px solid red;
    }

        .ins-col > label {
            border-left: 3px solid blue;
            margin-left: 5px;
        }


    @@media only screen and (max-width: 768px) {
        /* For mobile phones: */
        .dataTables_filter {
            display: none;
        }
    }

    .img-container {
        display: flex;
    }

    .img-Subcontainer {
        padding: 5px 8px;
        /*white-space: pre-wrap;*/
        width: 15%;
        cursor: pointer;
    }

        .img-Subcontainer span {
            font-size: 10pt;
        }

    .ColorGreen {
        background-color: green;
    }

    .ColorRed {
        background-color: red;
    }

    .schis th,
    .schis td {
        border: 2px solid black;
    }

    .LightSeaGreen {
        background-color: #20B2AA;
    }

    .control-holder {
        display: inline-flex
    }

        .control-holder div {
            margin: 0px 5px;
        }

    @@media only screen and (max-width: 768px) {
        /* For mobile phones: */
        /*.sidebar1 {
            display: none;
        }*/
        .divscroll {
            min-height: 190px;
            max-height: 190px;
            overflow: scroll;
        }

        #dispoHistBody {
            font-weight: 600;
        }

        .img-container {
            flex-flow: column;
        }

        .control-holder {
            overflow-x: scroll;
            width: 106%;
            margin-left: -10px;
            margin-right: -9px;
        }

        @@media (min-width: 992px) {
            .modal-dialog {
                width: 70%;
            }
        }

        @@media (max-width:768px) {
            .modal-dialog {
                margin-left: 0px !important;
                width: 100%;
                margin-top: 100px;
            }

            .modal {
                top: auto;
            }

            .mbheight {
                min-height: 400px;
                overflow-y: scroll;
                max-height: 400px;
            }
        }
</style>
@*@Scripts.Render("~/bundles/jquery")*@
<input type="hidden" id="hdndispohisttype" value="">
<input type="hidden" id="txtwyzuserphonenum" value="@Model.wyzuser.phoneNumber">
<input type="hidden" id="txtwyzuserManagerphonenum" value="@Model.wyzUserMngPhn">
<input type="hidden" id="txtwyzuserfirstname" value="@Model.wyzuser.firstName">
<input type="hidden" id="PkOEM" value="@Session["OEM"].ToString()" />
<input type="hidden" id="PkDnd" value="@Model.cust.doNotDisturb.ToString()" />
<input type="hidden" id="PkDealercode" value="@Session["DealerCode"].ToString()" />
<input type="hidden" id="role1" value="@Session["UserRole1"].ToString()" />

<input type="hidden" id="extensionId" value="@Model.wyzuser.extensionId" />

<input type="hidden" id="PkUsername" value="@Session["UserName"].ToString()" />
<input type="hidden" id="userrole" name="userrole" value="@Model.wyzuser.role">
<input type="hidden" id="infoBipParams" name="whatsappParam" value="" />
<input type="hidden" id="ORAIParams" name="ORAIParams" value="" />
<input type="hidden" id="customerCat" name="customerCat" value="@ViewBag.CustCategory" />
@if (ViewBag.typeOfDispo == "Service" || ViewBag.typeOfDispo == "insurance" || ViewBag.TypeOfDispo == "Service_MCP")
{
    <input type="hidden" id="fieldenabled" value="@ViewBag.ISFIELDENABLED" />
    <input type="hidden" id="policydropenabled" value="@ViewBag.ISPOLICYFIELDENABLED" />
    <input type="hidden" id="insQuotation" value="0">
    <input type="hidden" id="insQuotationMsg" value="0">

    <input type="hidden" id="insQuotationId" value="0">
    <input type="hidden" id="bucketId" value="@Session["BucketId"]">
    <input type="hidden" id="dndCust" value="@Model.cust.doNotDisturb">
    <input type="hidden" id="ddl_emails" value="@if (Model.cust.emails.FirstOrDefault(m => m.isPreferredEmail == true) != null) {@Model.cust.emails.FirstOrDefault(m => m.isPreferredEmail == true).emailAddress}">
    <input type="hidden" id="typeOfDispoPageView" name="typeOfDispoPageView" value="@ViewBag.typeOfDispo">
    <input type="hidden" id="pFlag" name="pFlag" value=" @if (Model.cust.addresses.FirstOrDefault(m => m.isPreferred == true) != null) { @Model.cust.addresses.FirstOrDefault(m => m.isPreferred == true).addressType}">
    <input type="hidden" id="hdnCustmoerAddress" name="hdnCustmoerAddress" value=" @if (Model.cust.addresses.FirstOrDefault(m => m.isPreferred == true) != null) { @Model.cust.addresses.FirstOrDefault(m => m.isPreferred == true).concatenatedAdress }">
    <input type="hidden" id="hdnscheduleDateTime" name="hdnscheduleDateTime" value=" @if (Model.cust.servicebookeds.FirstOrDefault() != null) { @Model.cust.servicebookeds.FirstOrDefault().scheduledDateTime }">
    <input type="hidden" name="customer_Id" id="customer_Id" value="@Model.cust.id">
    <input type="hidden" id="wyzUser_Id" name="wyzUser_Id" value="@Model.wyzuser.id">
    <input type="hidden" id="vehical_Id" name="vehicalId" value="@Model.vehi.vehicle_id">
    <input type="hidden" id="serviceDueDate" name="serviceDueDate" value="@Model.NextServiceDate">
    <input type="hidden" id="appointmentDate" name="appointmentDate" value=" @if (Model.cust.appointmentbookeds.FirstOrDefault() != null) { @Model.cust.appointmentbookeds.FirstOrDefault().appointmentDate}">
    <input type="hidden" id="appointmentTimes" name="appointmentTimes" value=" @if (Model.cust.appointmentbookeds.FirstOrDefault() != null) { @Model.cust.appointmentbookeds.FirstOrDefault().appointmentFromTime}">
    <input type="hidden" id="hdnPolicyExprDate" name="hdnPolicyExprDate" value=" @if (Model.cust.insuranceassignedinteractions.FirstOrDefault() != null) { @Model.cust.insuranceassignedinteractions.FirstOrDefault().policyDueDate}">
    @*<input type="hidden" id="hdnWyzMngerNum" name="hdnWyzMngerNum" value="@ViewBag.wyzMngrNum">*@

    @*<input type="hidden" id="appointmentDate" name="appointmentDate" value="@Model.appointbooked.appointmentDate">
        <input type="hidden" id="appointmentTime" name="appointmentTime" value="@Model.appointbooked.appointmentFromTime">*@

    <input type="hidden" name="uniqueidForCallSync" id="uniqueidForCallSync" value="0">
    <input type="hidden" name="uniqueIdGSM" id="uniqueIdGSM" value="0">
    <input type="hidden" id="makeCallFromGSM" name="makeCallFrom" value="MOBILE">
    @*<input type="hidden" id="workshopIdis" value="@if (Model.Latestservices.workshop != null) {@Model.Latestservices.workshop.id }">*@
    <input type="hidden" id="workshopIdis" value="@if (Model.Latestservices != null && Model.Latestservices.workshop != null) {@Model.Latestservices.workshop.id; } else { @defaultWorkshopId }" />
    <input type="hidden" id="location_Id" value="@Model.wyzuser.location.cityId">

    <input type="hidden" name="callInteractionId" value="@Model.callinteraction.id">
    <input type="hidden" id="smrtagid" value="0">
    <input type="hidden" id="instagid" value="0">
    if (ViewBag.typeOfDispo == "Service" || ViewBag.TypeOfDispo == "Service_MCP")
    {
        <input type="hidden" id="srdispo_id" value="@if (Model.callinteraction.srdispositions.Count() != 0) {@Model.callinteraction.srdispositions.FirstOrDefault().id; }">
        /**/
        <input type="hidden" id="servicebook_id" name="serviceBookId" value="@if (Model.callinteraction.servicebooked != null) {@Model.callinteraction.servicebooked.serviceBookedId; }">
        /**/
        <input type="hidden" id="selectedFBComp" value="@if (Model.callinteraction.srdispositions.Count() != 0) { @Model.callinteraction.srdispositions.FirstOrDefault().complaintOrFB_TagTo; }">
        /**/
        <input type="hidden" id="enteredRMFB" value="@if (Model.callinteraction.srdispositions.Count() != 0) {@Model.callinteraction.srdispositions.FirstOrDefault().remarksOfFB; }">
        /**/
        <input type="hidden" id="depForFB" value="@if (Model.callinteraction.srdispositions.Count() != 0) {@Model.callinteraction.srdispositions.FirstOrDefault().departmentForFB; }">
        /**/
        <input type="hidden" id="selectedUpselOpp" value="@if (Model.callinteraction.srdispositions.Count() != 0) {@Model.callinteraction.srdispositions.FirstOrDefault().upsellCount; }">
        /**/
        <input type="hidden" id="selectedModeOfCont" value="@if (Model.callinteraction.servicebooked != null) {@Model.callinteraction.servicebooked.typeOfPickup; }">
        /**/
    }
    <input type="hidden" id="viewIS" value="@Model.wyzuser.dealerName">
    if (ViewBag.typeOfDispo == "insurance")
    {
        <input type="hidden" id="appointBookId" name="appointBookId" value="@if (Model.callinteraction.appointmentbooked != null) {@Model.callinteraction.appointmentbooked.appointmentId; }">
        /**/

        if (Model.callinteraction.appointmentbooked != null)
        {
            Session["appointBookId"] = Model.callinteraction.appointmentbooked.appointmentId;
        }
    }
}
else if (ViewBag.typeOfDispo == "PSF" || ViewBag.typeOfDispo == "PostSalesFeedback")
{
    @:<input type="hidden" id="insQuotation" value="0">
    @:<input type="hidden" id="insQuotationMsg" value="0">
    @:<input type="hidden" id="insQuotationId" value="0">
    @:<input type="hidden" id="dndCust" value="@Model.cust.doNotDisturb">
    @:<input type="hidden" id="pFlag" name="pFlag" value=" @if (Model.cust.addresses.FirstOrDefault(m => m.isPreferred == true) != null) { @Model.cust.addresses.FirstOrDefault(m => m.isPreferred == true).addressType}">
    @:<input type="hidden" name="customer_Id" id="customer_Id" value="@Model.cust.id">
    @:<input type="hidden" id="wyzUser_Id" name="wyzUser_Id" value="@Model.wyzuser.id">
    @:<input type="hidden" id="vehical_Id" name="vehicalId" value="@Model.vehi.vehicle_id">
    @:<input type="hidden" id="uniqueidForCallSync" name="uniqueidForCallSync" value="0">
    @:<input type="hidden" name="uniqueIdGSMPSF" id="uniqueIdGSM" value="0">
    @*<input type="hidden" id="workshopIdis" value="@{if(latestService.getWorkshop()!=null){latestService.getWorkshop().getId()}}">*@
    @:<input type="hidden" id="location_Id" value="@Model.wyzuser.location.cityId">
    @:<input type="hidden" name="interactionid" value='@ViewBag.interactionid'>
    @:<input type="hidden" name="dispositionHistory" value='@ViewBag.dispositionHistory '>
    @:<input type="hidden" name="typeOfPSF" value='@ViewBag.typeOfPSF' id="txttypeOfPSF">
    @*<input type="hidden" name="oem" value='@oem'>*@
    @:<input type="hidden" id="makeCallFromGSM" name="makeCallFrom" value="MOBILE">
    @:<input type="hidden" id="smsrequestReference" value="@Model.vehi.vehicle_id">
    @:<input type="hidden" id="typeOfDispoPageView" name="typeOfDispoPageView" value="PSF">
 <!-- document upload id -->
    @:<input type="hidden" id="docUploadId" value="0">
    @:<input type="hidden" id="docUploadTypeTemplate" value="0">
    @:<input type="hidden" id="nextServDataId" value="@if (Model.vehi.nextServicedate != null) { @Convert.ToDateTime(Model.vehi.nextServicedate).ToString("dd-MM-yyyy"); }">
}


<!--------------------------------Side bar popup start------------------------------------------>
<div id="fixedsocial" class="sidebar1 animated bounceInDown">
    <div class="facebookflat" data-toggle="modal" data-target="#myModal1">
        <img src='~/public/images/sports-car.jpg' style="width: 50px; border-radius: 5px;" data-toggle="tooltip" data-placement="left" title="Vehicle" />
    </div>
    <div class="twitterflat" data-toggle="modal" data-target="#myModal2">
        <img src='~/public/images/service.jpg' style="width: 50px;border-radius: 5px;" data-toggle="tooltip" data-placement="left" title="Service" onclick="ajaxCallServiceLoadOfCustomer();" />
    </div>
    @if (Session["DealerCode"].ToString() == "INDUS" || Session["DealerCode"].ToString() == "PODDARCARWORLD" || Session["DealerCode"].ToString() == "POPULAR" || Session["DealerCode"].ToString() == "JAMMUMOTORS" || Session["DealerCode"].ToString() == "RISHABHFOURWHEELS" || Session["DealerCode"].ToString() == "BHANDARIAUTOMOBILE")
    {
        <div class="twitterflat" data-toggle="modal" data-target="#indusinsuPullouts">
            <img src='~/public/images/car-insu.jpg' style="width: 50px; border-radius: 5px;" data-toggle="tooltip" data-placement="left" title="Insurance" />
        </div>
    }
    else
    {
        <div class="twitterflat" data-toggle="modal" data-target="#myModal3">
            <img src='~/public/images/car-insu.jpg' style="width: 50px; border-radius: 5px;" data-toggle="tooltip" data-placement="left" title="Insurance" />
        </div>
    }
    @if (Session["UserRole1"].ToString() == "5")
    {
        <div class="twitterflat1" data-toggle="modal" data-target="#PostsalesPullModal">
            <img src='~/public/images/psf.jpeg' style="width: 50px; border-radius: 5px;" data-toggle="tooltip" data-placement="left" title="PSF" />
        </div>
    }
    else
    {
        <div class="twitterflat1" data-toggle="modal" data-target="#PsfPullModal" @*onclick="getPSFPullOuts();"*@>
            <img src='~/public/images/psf.jpeg' style="width: 50px; border-radius: 5px;" data-toggle="tooltip" data-placement="left" title="PSF" />
        </div>
    }
</div>

<div class="psfPullOutDiv">

</div>

<div class="row">
    <!-- 4User div Starts -->
    <div class="col-md-4 panelsm">
        <div id="panelDemo10" class="panel panel-info custinfoData">

            <div class="panel-heading" style="text-align:center; padding: 10px;">
                <b>
                    <i class="fa fa-user"></i>&nbsp;
                    <span id="custName">
                        @if (Model.cust.customerName != null)
                        {
                            <text>@Model.cust.customerName</text>
                        }
                        else
                        {
                            @Model.cust.customerFName;

                        }
                    </span>
                </b>
                @if (Session["PageFor"].ToString() == "CRE" || Session["PageFor"].ToString() == "CREHdd")
                {
                    if (ViewBag.TypeOfDispo == "Service")
                    {
                        @Html.ActionLink("Back", "ReturnToBucket", "CallLogging", new { @id = 1, @psfDay = 0 }, new { @class = "btn fa fa-arrow-left", @style = "float: left; display: block;color:white; background-color: red;", @id = "backRedirect" });

                    }
                    else if (ViewBag.TypeOfDispo == "Service_MCP")
                    {
                        @Html.ActionLink("Back", "ReturnToBucket", "CallLogging", new { @id = 101, @psfDay = 0 }, new { @class = "btn fa fa-arrow-left", @style = "float: left; display: block;color:white; background-color: red;", @id = "backRedirect" });

                    }
                    else if (ViewBag.TypeOfDispo == "insurance")
                    {
                        @Html.ActionLink("Back", "ReturnToBucket", "CallLogging", new { @id = 2, @psfDay = 0 }, new { @class = "btn fa fa-arrow-left", @style = "float: left; display: block;color:white; background-color: red;", @id = "backRedirect" });
                    }
                    else if (ViewBag.TypeOfDispo == "PSF")
                    {
                        if (ViewBag.typeOfPSF == 7)
                        {
                            @Html.ActionLink("Back", "ReturnToBucket", "CallLogging", new { @id = 3, @psfDay = 3 }, new { @class = "btn fa fa-arrow-left animated rubberBand", @style = "float: left; display: block;color:white; background-color: red;", @id = "backRedirect" });
                        }
                        else if (ViewBag.typeOfPSF == 4)
                        {
                            @Html.ActionLink("Back", "ReturnToBucket", "CallLogging", new { @id = 3, @psfDay = 6 }, new { @class = "btn fa fa-arrow-left animated rubberBand", @style = "float: left; display: block;color:white; background-color: red;", @id = "backRedirect" });
                        }
                        else if (ViewBag.typeOfPSF == 900)
                        {
                            @Html.ActionLink("Back", "ReturnToBucket", "CallLogging", new { @id = 900, @psfDay = 0 }, new { @class = "btn fa fa-arrow-left", @style = "float: left; display: block;color:white; background-color: red;", @id = "backRedirect" });
                        }
                        else
                        {
                            if (Session["isPSFRM"] != null && (bool)Session["isPSFRM"] == true)
                            {
                                @Html.ActionLink("Back", "ReturnToBucket", "CallLogging", new { @id = 500 }, new { @class = "btn fa fa-arrow-left", @style = "float: left; display: block;color:white; background-color: red;", @id = "backRedirect" });
                            }
                            else
                            {
                                @Html.ActionLink("Back", "ReturnToBucket", "CallLogging", new { @id = 3, @psfDay = 15 }, new { @class = "btn fa fa-arrow-left", @style = "float: left; display: block;color:white; background-color: red;", @id = "backRedirect" });
                            }


                        }
                    }
                    else if (ViewBag.TypeOfDispo == "PostSalesFeedback")
                    {
                        if (ViewBag.typeOfPSF == 9000)
                        {
                            @Html.ActionLink("Back", "ReturnToBucket", "CallLogging", new { @id = 9000, @psfDay = 0 }, new { @class = "btn fa fa-arrow-left", @style = "float: left; display: block;color:white; background-color: red;", @id = "backRedirect" });
                        }
                        else if (Model.postsalesDayName == "PostSales 2nd Day")
                        {
                            @Html.ActionLink("Back", "postSalesLogs", "postSalesDetails", new { @id = 2 }, new { @class = "btn fa fa-arrow-left animated rubberBand", @style = "float: left; display: block;color:white; background-color: red;", @id = "backRedirect" });
                        }
                        else if (Model.postsalesDayName == "PostSales 15th Day")
                        {
                            @Html.ActionLink("Back", "postSalesLogs", "postSalesDetails", new { @id = 15 }, new { @class = "btn fa fa-arrow-left animated rubberBand", @style = "float: left; display: block;color:white; background-color: red;", @id = "backRedirect" });
                        }
                        else if (Model.postsalesDayName == "PostSales 30th Day")
                        {
                            @Html.ActionLink("Back", "postSalesLogs", "postSalesDetails", new { @id = 30 }, new { @class = "btn fa fa-arrow-left animated rubberBand", @style = "float: left; display: block;color:white; background-color: red;", @id = "backRedirect" });
                        }

                    }
                }

                @if (Session["PageFor"].ToString() == "CREManager")
                {
                    if (Session["UserRole"].ToString() == "RM")
                    {
                        if (ViewBag.TypeOfDispo == "Service")
                        {
                            @Html.ActionLink("Back", "RM_serviceReminder", "RMCallLogReminder", null, new { @class = "btn fa fa-arrow-left", @style = "float: left; display: block;color:white; background-color: red;", @id = "backRedirect" });

                        }
                        else if (ViewBag.TypeOfDispo == "insurance")
                        {
                            @Html.ActionLink("Back", "RM_insuranceReminder", "RMCallLogReminder", null, new { @class = "btn fa fa-arrow-left", @style = "float: left; display: block;color:white; background-color: red;", @id = "backRedirect" });
                        }
                    }
                    else
                    {
                        if (ViewBag.TypeOfDispo == "Service")
                        {
                            @Html.ActionLink("Back", "serviceReminder", "callLogReminder", null, new { @class = "btn fa fa-arrow-left", @style = "float: left; display: block;color:white; background-color: red;", @id = "backRedirect" });

                        }
                        else if (ViewBag.TypeOfDispo == "insurance")
                        {
                            @Html.ActionLink("Back", "insuranceReminder", "callLogReminder", null, new { @class = "btn fa fa-arrow-left", @style = "float: left; display: block;color:white; background-color: red;", @id = "backRedirect" });
                        }
                    }
                    if (ViewBag.TypeOfDispo == "PostSalesFeedback")
                    {
                        if (ViewBag.typeOfPSF == 9000)
                        {
                            @Html.ActionLink("Back", "ReturnToBucket", "CallLogging", new { @id = 9000, @psfDay = 0 }, new { @class = "btn fa fa-arrow-left", @style = "float: left; display: block;color:white; background-color: red;", @id = "backRedirect" });
                        }
                        else if (Model.postsalesDayName == "PostSales 2nd Day")
                        {
                            @Html.ActionLink("Back", "postSalesLogs", "postSalesDetails", new { @id = 2 }, new { @class = "btn fa fa-arrow-left animated rubberBand", @style = "float: left; display: block;color:white; background-color: red;", @id = "backRedirect" });
                        }
                        else if (Model.postsalesDayName == "PostSales 15th Day")
                        {
                            @Html.ActionLink("Back", "postSalesLogs", "postSalesDetails", new { @id = 15 }, new { @class = "btn fa fa-arrow-left animated rubberBand", @style = "float: left; display: block;color:white; background-color: red;", @id = "backRedirect" });
                        }
                        else if (Model.postsalesDayName == "PostSales 30th Day")
                        {
                            @Html.ActionLink("Back", "postSalesLogs", "postSalesDetails", new { @id = 30 }, new { @class = "btn fa fa-arrow-left animated rubberBand", @style = "float: left; display: block;color:white; background-color: red;", @id = "backRedirect" });
                        }

                    }

                }

                @if (Session["PageFor"].ToString() == "Search")
                {
                    if (Session["UserRole"].ToString() != "Admin" && Session["UserRole1"].ToString() == "4")
                    {
                        @Html.ActionLink("Back", "searchCustomer", "Customer", new { id = 4 }, new { @class = "btn fa fa-arrow-left animated bounceInDown", @style = "float: left; display: block;color:white; background-color: red;", @id = "backRedirect" });
                    }
                    else
                    {
                        @Html.ActionLink("Back", "searchCustomer", "Customer", null, new { @class = "btn fa fa-arrow-left animated bounceInDown", @style = "float: left; display: block;color:white; background-color: red;", @id = "backRedirect" });

                    }
                }

                @*<button type="button" class="btn" style="float:left;display:none;background-color:red;" id="backRedirect" onclick="backRedirect();">@*<a id="backhref" href="/CRE/backRedirection/@typeDispo/@bucketid"><i class="fa fa-arrow-left" style="color:white;"></i><label style="font-size:initial;color:white;">Back</label></a></button>*@

                <br />
                <b>
                    <i class="fa fa-user-circle">
                        <input type="text" id="driverIdUpdate" class="animated rubberBand" style="border:none;background-color:#1797be;" value="@if (Model.cust.userDriver != null) {@Model.cust.userDriver; }" readonly>
                    </i>
                </b>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="control-holder">
                            <div>
                                <select class="btn btn-primary btn-sm form-control" style="cursor:default;width: 135px;font-size: medium;" id="ddl_phone_no">
                                    @if (Model.custPhoneList != null && Model.custPhoneList.Count() > 0)
                                    {
                                        foreach (var ph in Model.custPhoneList)
                                        {

                                            <option value="@ph.phone_Id">@ph.phoneNumber</option>
                                        }
                                    }

                                </select>
                            </div>

                            <div>
                                <button id="addBtnID" type="button" class="btn btn-success btn-sm" data-target="#addBtn" data-toggle="modal" data-backdrop="static" data-keyboard="false"><i class="fa fa-pencil-square-o fa-lg"></i></button>
                            </div>
                            <div>
                                @if (ViewBag.typeOfDispo == "insurance" || ViewBag.typeOfDispo == "insuranceSearch")
                                {
                                    <button type="button" class="btn btn-primary btn-sm" data-target="#InsuPremiumPopup" data-toggle="modal" data-backdrop="static" data-keyboard="false"><i class="fa fa-calculator fa-lg"></i></button>
                                }
                            </div>
                            <div>
                                <button type="button" style="display:none;" id="btnDND" class="btn btn-danger btn-sm">DND</button>
                            </div>
                            <div id="stopwatch" class="pull-left" style="color:red;">
                                @*<input type="button" onclick="startWatch()" value="START" />
                                    <input type="button" onclick="stopWatch()" value="STOP" />
                                    <input type="button" onclick="resetWatch()" value="ZERO" />*@
                                <b>  <p id="res"><span id="min">0</span> : <span id="sec">00</span> : <span id="msec">000</span></p></b>
                            </div>
                            @*@if (Session["DealerCode"].ToString() == "KATARIA")
                                {
                                    <div>
                                        <button type="button" style="display:block;" id="btnleadtag" class="btn btn-primary btn-sm">@Model.cust.leadtag</button>
                                    </div>
                                }*@
                            @if ((Session["OEM"].ToString() == "MARUTI SUZUKI" && (ViewBag.typeOfDispo == "insurance" || ViewBag.typeOfDispo == "insuranceSearch") && Session["PageFor"].ToString() != "CREManager") && (Session["DealerCode"].ToString() == "INDUS" && Session["UserRole"].ToString() != "CRE"))
                            {
                                <div>
                                    <button type="button" class="btn btn-sm" style="color:white;background-color:#965710" data-target="#policyDrop" data-toggle="modal" data-backdrop="static" data-keyboard="false"><i class="fa fa-shield"></i></button>
                                </div>
                            }
                            @if (Session["DealerCode"].ToString() == "INDUS" || Session["DealerCode"].ToString() == "testdb" || Session["DealerCode"].ToString() == "KATARIA" && (ViewBag.typeOfDispo == "Service") && (Session["PageFor"].ToString() == "CRE" || Session["PageFor"].ToString() == "CREManager") || (Session["DealerCode"].ToString() == "KATARIA" && ViewBag.typeOfDispo == "psf") || (Session["DealerCode"].ToString() == "KATARIA" && Session["UserRole1"].ToString() == "4"))
                            {
                                <div>
                                    <button type="button" class="btn btn-sm" style="color: white;background-color: slateblue" data-target="#pmsLabour" data-toggle="modal" data-backdrop="static" data-keyboard="false"><i class="fa fa-file-text-o fa-lg"></i></button>

                                </div>
                            }
                        </div>
                    </div>

                    <div class="col-sm-12 phoneselect">
                        <div class="col-xs-2">
                            <!--  <input type="button"  class="btn btn-primary" value="/.\{customerData.getPreferredPhone().getPhoneNumber()}" id="ddl_phone_no" name="ddl_phone_no" style="cursor:default ;width: 150px;margin-left: -137px;font-size: medium;"> -->
                            @*@Html.DropDownList("ddl_phone_no", new SelectList(Model.cust.phones, "phoneNumber", "phoneNumber",Model.cust.phones.Select(m=>m.isPreferredPhone==true)), new { @class = "btn btn-primary form-control", @style = "cursor:default;width: 150px;margin-left: -137px;font-size: medium;", @id = "ddl_phone_no" })*@

                        </div>
                        @*<div class="col-xs-3">*@



                    </div>

                    @*</div>*@
                    <div class="col-sm-12" style="margin-top: 10px;">
                        @if (Model.wyzuser.dealerCode != "POPULAR")
                        {<div class="col-xs-3">
                                <input type="hidden" id="isCallinitaited" name="isCallinitaited" value="NotDailed">@*customerData.getPreferredPhone().getPhone_Id()*@
                                @*<input type="hidden" id="pref_number_callini" value="@Model.cust.phones.Select(m=>m.phone_Id).LastOrDefault()">*@
                                @*<button type="button" id="callIdBtn" class="btn btn-primary btn-lg" onclick="callfunctionFromPage('@{customerData.getPreferredPhone().getPhone_Id()}','0','@customerData.getId()');" style="border-radius: 29px;"><i class="fa fa-phone-square fa-2x" aria-hidden="true" title="Make Call"></i></button>*@
                                <button type="button" id="callIdBtn" class="btn btn-primary btn-lg" onclick="doCall();" style="border-radius: 29px;"><i class="fa fa-phone-square fa-2x" aria-hidden="true" title="Make Call"></i></button>
                                @*<button type="button" id="callIdBtn" class="btn btn-primary btn-lg" onclick="doCalltatateleservices();" style="border-radius: 29px;color:darkorange"><i class="fa fa-phone-square fa-2x"   aria-hidden="true" title="Make Call"></i></button>*@
                            </div>}
                        <div class="col-xs-3">
                            @if (Model.wyzuser.dealerCode == "CAUVERYFORD")
                            {
                                <button type="button" id="callIdBtnGSM" class="btn btn-primary btn-lg" onclick="doGSM();" style="border-radius: 29px;"><i class="fa fa-mobile fa-2x" aria-hidden="true" title="GSM Call "></i></button>

                            }
                            else
                            {
                                if (/*Model.wyzuser.dealerCode == "HANSHYUNDAI" ||*/Model.wyzuser.dealerCode == "HARPREETFORD"/* || Model.wyzuser.dealerCode == "GALAXYTOYOTA"*/)
                                {
                                    <button type="button" id="callIdBtn" class="btn btn-primary btn-lg" onclick="doCallknowlarity();" style="border-radius: 29px;color:forestgreen"><i class="fa fa-phone-square fa-2x" aria-hidden="true" title="Make knowlarity Call"></i></button>
                                }

                                else
                                {
                                    if (Model.wyzuser.dealerCode == "ABTMARUTHI")
                                    {
                                        <button type="button" id="ABtMaruthicallIdBtnGSM" class="btn btn-primary btn-lg" onclick="ABtMaruthidoGSM();" style="border-radius: 29px;"><i class="fa fa-mobile fa-2x" aria-hidden="true" title="ABtMaruthi GSM Call "></i></button>
                                    }
                                    else
                                    {
                                        <button type="button" id="callIdBtnGSM" class="btn btn-primary btn-lg" onclick="doGSM();" style="border-radius: 29px;"><i class="fa fa-mobile fa-2x" aria-hidden="true" title="GSM Call "></i></button>
                                    }
                                }
                            }

                        </div>
                        <div class="col-xs-3">
                            @*<button type="button" class="btn btn-primary btn-lg" data-docName="NA" data-EmailFor="custom" onclick="openEmailpopUp(this)" style="border-radius: 29px;"><i class="fa fa-envelope-square fa-2x" aria-hidden="true"></i></button>*@
                            <button type="button" class="btn btn-primary btn-lg" data-docName="NA" data-EmailFor="custom" style="border-radius: 29px;" data-toggle="modal" data-target="#dynamicemailDetails"><i class="fa fa-envelope-square fa-2x" aria-hidden="true"></i></button>
                        </div>
                        <div class="col-xs-3">
                            @if (Session["DealerCode"].ToString() == "testdb" || Session["DealerCode"].ToString() == "MAGNUM" || Session["DealerCode"].ToString() == "BRIDGEWAYMOTORS" || Session["DealerCode"].ToString() == "BHANDARIAUTOMOBILE")
                            {
                                <button type="button" data-toggle="modal" data-target="#ORAIsmsPopuId" data-backdrop="static" data-keyboard="false" class="btn btn-primary  btn-lg" style="border-radius: 29px;"><i class="fa fa-comment fa-2x" title="SMS"></i></button>
                            }
                            else
                            {
                                <button type="button" data-toggle="modal" data-target="#smsPopuId" data-backdrop="static" data-keyboard="false" class="btn btn-primary  btn-lg" style="border-radius: 29px;"><i class="fa fa-comment fa-2x" title="SMS"></i></button>
                            }
                        </div>
                    </div>
                    <div style="margin-top: 6px;margin-left: 15px;">
                        <div class="row">
                            <div class="col-xs-12">
                                <span><b><u>Email:</u>&nbsp; </b></span><span style="font-size:15px" id="ddl_email">
                                    @*customerData.getPreferredEmail() != null*@
                                    @if (Model.cust.emails.FirstOrDefault(m => m.isPreferredEmail == true) != null)
                                    {
                                        @Model.cust.emails.FirstOrDefault(m => m.isPreferredEmail == true).emailAddress
                                    }
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-12">
                        <div class="row">
                            <div class="col-xs-12">
                                <span style="font-size:14px"><b><u>Phone :</u>&nbsp; </b></span> <span class="phoneBlog" id="prefPhone" style="font-size:14px">
                                    @*@customerData.getAllPhoneNo()*@
                                    @if (Model.custPhoneList != null && Model.custPhoneList.Count() > 0)
                                    {
                                        foreach (var ph in Model.custPhoneList)
                                        {
                                            @ph.phoneNumber<text>,</text>
                                        }
                                    }

                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-12">
                        <div class="row">
                            <div class="col-xs-12">
                                <span style="font-size:14px"><b><u>Address:</u>&nbsp; </b></span>
                                <span class="addressBlog" id="prefAdressUpdate" style="font-size:14px;word-break: break-all;">
                                    @if (Model.cust.addresses.Count != 0)
                                    {
                                        if (Model.cust.addresses.Any(m => m.isPreferred == true))
                                        {
                                            if (Model.cust.addresses.FirstOrDefault(m => m.isPreferred == true).concatenatedAdress != null && Model.cust.addresses.FirstOrDefault(m => m.isPreferred == true).concatenatedAdress != "")
                                            {
                                                @Model.cust.addresses.FirstOrDefault(m => m.isPreferred == true).concatenatedAdress;
                                            }
                                            else
                                            {
                                                <text>NA</text>
                                            }
                                        }
                                        else
                                        {
                                            <text>NA</text>
                                        }
                                    }


                                </span>
                                <button class="fa fa-slideshare" style="color: #0e8006;" data-target="#AddressUpdatePopup" data-toggle="modal"
                                        data-backdrop="static" data-keyboard="false" onclick="getAddressForPopUp()"></button>
                            </div>

                        </div>
                    </div>
                    <div class="col-xs-12">
                        <div class="row">
                            <div class="col-xs-12">
                                <span style="font-size:14px"><b><u>City:</u>&nbsp;</b></span><span id="city" style="font-size:14px">
                                    @if (Model.cust.addresses.Select(m => m.isPreferred == true) != null)
                                    {
                                        if (Model.cust.addresses.Where(m => m.isPreferred == true).Select(m => m.city).FirstOrDefault() != null)
                                        {
                                            @Model.cust.addresses.Where(m => m.isPreferred == true).Select(m => m.city).FirstOrDefault()
                                        }
                                        else
                                        {
                                            <text>NA</text>
                                        }
                                    }
                                    else
                                    {
                                        <text>NA</text>
                                    }
                                </span>
                            </div>
                            <div class="col-xs-12">
                                <span style="font-size:14px"><b><u>Pincode:</u>&nbsp;</b></span><span style="font-size:14px" id="pin">
                                    @if (Model.cust.addresses.Select(m => m.isPreferred == true) != null)
                                    {
                                        @Model.cust.addresses.Where(m => m.isPreferred == true).Select(m => m.pincode).FirstOrDefault()
                                    }
                                    else
                                    {
                                        <text>NA</text>
                                    }
                                    @*@{if (customerData.getPreferredAdress() != null) { customerData.getPreferredAdress().getPincode()}}*@
                                </span>
                            </div>
                        </div>
                    </div>
                    <!--button-->
                    <div class="col-sm-12 col-md-12" style="padding-left:0px;padding-right:0px;">

                        @if (Session["DealerCode"].ToString() == "PAWANHYUNDAI")
                        {
                            <div class="col-xs-12 col-md-12">
                                <button type="button" class="btn btn-info btn-flat btn-block loya" style="cursor:default;">
                                    <span style="font-size:15px">
                                        Customer Category:
                                        @if (Session["DealerCode"].ToString() == "PAWANHYUNDAI")
                                        {
                                            if (Model.CustCategory != null)
                                            {
                                                <b> @Model.CustCategory</b>
                                            }
                                        }

                                        @if (Session["DealerCode"].ToString() == "HANSHYUNDAI")
                                        {
                                            if (ViewBag.CustCategory != null)
                                            {
                                                <b>@ViewBag.CustCategory</b>
                                            }
                                        }
                                    </span>
                                </button>
                            </div>
                        }
                        else
                        {
                            <div class="col-xs-12 col-md-5" style="margin-bottom:4px;">
                                @if (Session["OEM"].ToString() == "MARUTI SUZUKI")
                                {
                                    @:<button type="button" class="btn btn-info btn-flat btn-block loya" style="cursor:default;">
                                        if (Model.vehi.ispdate != null)
                                        {
                                            if (Convert.ToDateTime(Model.vehi.ispdate).Date >= DateTime.Now.Date)
                                            {
                                                @:ISP @Convert.ToDateTime(Model.vehi.ispdate).ToString("dd-MM-yyyy")
                                            }
                                            else
                                            {
                                                @:ISP.No
                                            }
                                        }
                                        else
                                        {
                                            @:ISP.No
                                        }
                                    @:</button>
                                }
                                else
                                {
                                    <button type="button" class="btn btn-info btn-flat btn-block loya" style="cursor:default;">
                                        @*<b style="font-size:15px">Loyality Points</b><br>*@
                                        @Ajax.ActionLink("Loyality Points", "getLoyality", "CallLogging", new AjaxOptions { OnSuccess = "loyalityDone", OnFailure = "loyalityFailure", HttpMethod = "POST" }, new { @style = "color: #fff;font - weight: 900;" })<br /><b id="loyalityPoint"></b>
                                    </button>
                                }
                            </div>

                            <div class="col-xs-12 col-md-7">
                                @if (Session["DealerCode"].ToString() == "INDUS" || Session["DealerCode"].ToString() == "KALYANIMOTORS" || Session["DealerCode"].ToString() == "POPULAR" || Session["DealerCode"].ToString() == "CHAVANMOTORS" || Session["DealerCode"].ToString() == "AMMOTORS")
                                {
                                    <button type="button" class="btn btn-info btn-flat btn-block loya" style="cursor:default;">
                                        LOYALTY - @Model.vehi.loyaltycardnumber PT | @Model.vehi.loyaltycard1  | @if (Model.vehi.loyaltybalancedate != null)
                                        {@Convert.ToDateTime(Model.vehi.loyaltybalancedate).ToString("dd-MMM-yyyy");
                                    }
                                    </button>
                                }
                                else
                                {
                                    <button type="button" class="btn btn-info btn-flat btn-block loya" style="cursor:default;">
                                        <b style="font-size:15px">Card No.</b><br>
                                        <b id="cardNo"></b>
                                    </button>
                                }
                            </div>
                        }



                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-8 col-sm-12 panelsm" style="padding: 0px;">

        <div class="col-sm-6" style="padding: 0px;font-size:16px">
            <div id="panelDemo10" class="panel panel-info">
                <div class="panel-heading">
                    <b>VEHICLE&nbsp;DETAILS&nbsp;</b>
                    <img src="~/public/images/car.png" class="pull-right" style="width:28px;"></img>
                </div>
                <div class="panel-body" style="overflow:auto;padding:5px;height:290px">
                    @if (Model.vehi != null)
                    {
                        <span id="vehregnum"><b> Vehicle&nbsp;Reg number&nbsp;:- </b>&nbsp; <b>@Model.vehi.vehicleRegNo</b></span><br />
                        <span id="chasisnum"><b>Chassis&nbsp;Number&nbsp;:- </b>&nbsp; <b>@Model.vehi.chassisNo</b> </span><br />
                        <span id="enginenum"><b>Engine&nbsp;Number&nbsp;:- </b>&nbsp; <b>@Model.vehi.engineNo</b> </span><br />
                        <span id="fueltype">
                            <b>Fueltype&nbsp;:- </b>&nbsp;
                            <b>
                                @if (Model.vehi.fuelType != null)
                                {
                                    @Model.cust.vehicles.FirstOrDefault().fuelType;
                                }
                                else
                                {
                                    @:-
                                }
                            </b>
                        </span><br />
                        <span id="model"><b>Model&nbsp;:- </b>&nbsp; <b>@Model.vehi.model</b> </span><br />
                        <span id="variant"><b>Variant&nbsp;:- </b>&nbsp;<b>@Model.vehi.variant</b></span><br />
                        <span id="vehicolor"><b>Color&nbsp;:- </b><b>@Model.vehi.color</b></span><br />
                        <span id="manufactureyear"><b>Year Of Manufacture&nbsp;:- </b>&nbsp;  <b>@Model.vehi.yearofmanufacture</b></span><br />
                        <span id="salelocation"><b>Sale Location&nbsp;:- </b>&nbsp;<b>@Model.vehi.location</b></span><br />
                        <span id="saledate"><b>Sale Date&nbsp;:- </b>&nbsp;<b style="background-color: #f05050; color: #fff;border-radius: 3px;font-size: 14px;border-color: transparent;">@if (Model.vehi.saleDate != null) { Convert.ToDateTime(Model.vehi.saleDate).ToString("dd-MM-yyyy"); }</b></span><br />

                        <span id="dealer">

                            <b>Dealer :- </b>&nbsp;
                            <b>
                                @if (@Model.vehi.isSalesDone == "1")
                                {
                                    @:Self
                                }
                                else
                                {
                                    @:Others
                                }
                            </b>
                        </span><br />
                        <span>
                            <b>DSE&nbsp;:- </b>&nbsp;
                            <b>
                                @if (Model.cust.vehicles.FirstOrDefault() != null && Model.cust.vehicles.FirstOrDefault().dse != null)
                                {
                                    @Model.cust.vehicles.FirstOrDefault().dse;
                                }
                                else
                                {
                                    @:-
                                }
                            </b>
                        </span><br />
                        <span id="dse">
                            <b>DSE M No :-</b>&nbsp;<b>@Model.cust.vehicles.FirstOrDefault().mobile2</b>
                        </span><br />
                        <span id="cienoncie">
                            <b>CIE/NONCIE :-</b>&nbsp;<b> - </b>
                        </span><br />
                        <span id="avgrunningperday"><b>AVG km/day&nbsp;:- </b>&nbsp;&nbsp;<b>@Model.vehi.averageRunningPerDay</b></span><br />
                        <span id="mileage"><b>Mileage&nbsp;:- </b>&nbsp;&nbsp;<b>@Model.vehi.odometerReading</b></span><br />
                        <span id="creassigned"><b>Assigned CRE&nbsp;:- </b>&nbsp;&nbsp;<b> @Model.InsAssignCRE</b></span><br />
                        <span id="assigneddate"><b>Assigned Date&nbsp;:- </b>&nbsp;&nbsp;<b> @Model.InsUploadedDate</b></span><br />
                        <span id="assignedworkshop"><b>Assigned Workshop&nbsp;:- </b>&nbsp;&nbsp;<b> @Model.InsAssignWorkShop</b></span><br />
                        <span id="campaign"><b>Campaign&nbsp;:- </b>&nbsp;&nbsp;<b> @Model.InsAssignCampaign</b></span><br />
                        <span id="lastvisitstatus"><b>Last Visit status&nbsp;:- </b>&nbsp;<b>@Model.Latestservices.status</b></span><br />
                        <span id="lastvisittype"><b>Last Visit type&nbsp;:- </b>&nbsp;<b>@Model.Latestservices.lastVisitType</b></span><br />
                        <span id="lastvisitdate">
                            <b>Last Visit Date&nbsp;:- </b>&nbsp;
                            <b>
                                @if (Model.Latestservices.billDate != null)
                                {
                                    Convert.ToDateTime(Model.Latestservices.billDate).ToString("dd-MM-yyyy");
                                }
                                else
                                {
                                    @:-
                                }
                            </b>
                        </span><br />
                        <span id="lastvisitstatus"><b>Job Card Number&nbsp;:- </b>&nbsp;<b>@Model.Latestservices.jobCardNumber</b></span><br />
                        <span id="serviceadvisor"><b>Service Advisor&nbsp;:- </b>&nbsp;<b>@Model.Latestservices.saName</b></span><br />
                        <span id="workshop">
                            <b>Workshop&nbsp;:- </b>&nbsp;&nbsp;
                            <b>
                                @if (Model.workshop.workshopName != null)
                                {
                                    @Model.Latestservices.workshop.workshopName
                                }
                                else
                                {
                                    @:-
                                }
                            </b>
                        </span><br />
                        <span id="Technician"><b>Technician&nbsp;:- </b>&nbsp;&nbsp;<b>@Model.Latestservices.technician</b></span><br />
                        <span id="loyalty"><b>Loyalty&nbsp;:- </b>&nbsp;&nbsp;<b>@Model.vehi.loyaltycard1</b></span><br />
                        <span id="credits"><b>Credits&nbsp;:- </b>&nbsp;&nbsp;<b>@Model.vehi.mcpStatus</b></span><br />
                    }
                </div>
            </div>
        </div>
        <div class="col-sm-6" style="padding: 0px;font-size:17px">
            <div id="panelDemo10" class="panel panel-info">
                <div class="panel-heading">
                    <b>
                        Policy Details&nbsp;&nbsp;&nbsp;
                        @if (Model.InsAssignTaggingName != "-" && Model.InsAssignTaggingName != null)
                        {<span id="smrtag" style="background-color: red;">@Model.InsAssignTaggingName</span>}
                    </b><i id="ins-cal-sel1" class="fa fa-calendar datePickerrangeto" aria-hidden="true"></i><img src="~/public/images/truck.png" class="pull-right" style="width:28px;"></img>
                </div>
                <div class="panel-body" style="height: 290px;overflow: auto;padding: 5px;">
                    <span id="odpolicyno">
                        <b>OD Policy No&nbsp;:-&nbsp;</b>&nbsp;&nbsp;
                        <b>
                            @if (Model.vehi.odpolicyno != null)
                            {
                                @Model.vehi.odpolicyno
                            }
                            else
                            {
                                @:-
                            }
                        </b>
                    </span><br />
                    <span id="tppolicyno">
                        <b>TP Policy No&nbsp;:-&nbsp;</b>&nbsp;&nbsp;
                        <b>
                            @if (Model.vehi.tppolicyno != null)
                            {
                                @Model.vehi.tppolicyno
                            }
                            else
                            {
                                @:-
                            }
                    </b>
                </span><br />
                <span id="odpolicyduedate">
                    <b>OD Policy&nbsp;Due Date&nbsp;:-&nbsp;</b>&nbsp;&nbsp;
                    <b>
                        @if (Model.vehi.odpolicyexpiryDate != null)
                        {
                            Convert.ToDateTime(Model.vehi.odpolicyexpiryDate).ToString("dd-MM-yyyy");
                        }
                        else
                        {
                            @:-
                        }
                    </b>
                </span><br />
                <span id="tppolicyduedate"><b>Tp Policy&nbsp;Due Date&nbsp;:-&nbsp;</b>&nbsp;&nbsp;<b>@Model.LatestInsurance.policyDueDate</b></span><br />
                <span id="policytype"><b>Policy Type :-</b>&nbsp;&nbsp;<b>@Model.LatestInsurance.policyType</b></span><br />
                <span id="policyrenewaltype"><b>Policy Renewal Type&nbsp;:-&nbsp;</b>&nbsp;<b>@Model.LatestInsurance.renewalType</b></span><br />
                <span id="producttype">
                    <b>Product Type&nbsp;:-&nbsp;</b>&nbsp;&nbsp;
                    <b>
                        @Model.vehi.producttype
                    </b>
                </span><br />
                <span id="insurancename"><b>Insurance Name&nbsp;:-&nbsp;</b>&nbsp;&nbsp;<b>@Model.LatestInsurance.insuranceCompanyName</b></span><br />
                <span id="forecastduedate">
                    <b>Due Date(Forecast)&nbsp;:-&nbsp;</b>&nbsp;&nbsp;
                    <b>
                        @Model.PolicyDueDate
                    </b>
                </span><br />
                <span id="duedatedited"><b>Due Date(Manual) :- </b>&nbsp;&nbsp;<b id="policyEditedduedate">@Model.PolicyEditedDueDate</b></span><br />
                <span id="vehicleclass">
                    <b>Vehicle&nbsp;Class&nbsp;:- </b>&nbsp;&nbsp;
                    <b>
                        @if (Model.vehi.vehicleClass != null)
                        {
                            @Model.vehi.vehicleClass
                        }
                        else
                        {
                            @:-
                        }
                    </b>
                </span><br />
                <span id="hypothecationdeatils">
                    <b>Hypothecation&nbsp;Detail :- </b>&nbsp;&nbsp;
                    <b>
                        @if (Model.vehi.hypothecationdetail != null)
                        {
                            @Model.vehi.hypothecationdetail
                        }
                        else
                        {
                            @:-
                        }
                    </b>
                </span><br />
                <span id="istyrealloyopted">
                    <b>IS_TYRE_ALLOY_OPTED&nbsp;:- </b>
                    <b>
                        @if (Model.vehi.istyrealloyoptd != null)
                        {
                            @Model.vehi.istyrealloyoptd
                        }
                        else
                        {
                            @:-
                        }
                    </b>
                </span><br />
                <span id="totalclaims">
                    <b>Total Claims&nbsp;:- </b>
                    <b>
                        @if (Model.vehi.totalclaims != null)
                        {
                            @Model.vehi.totalclaims
                        }
                        else
                        {
                            @:-
                        }
                    </b>
                </span><br />
                <span id="claimamount">
                    <b>Claim Amount&nbsp;:-</b>&nbsp;&nbsp;
                    <b>
                        @if (Model.vehi.claimamount != null)
                        {
                            @Model.vehi.claimamount
                        }
                        else
                        {
                            @:-
                        }
                    </b>
                </span><br />
                <span id="oemwarrantydate">
                    <b>OEM&nbsp;Warranty Date :-</b>&nbsp;&nbsp;
                    <b>
                        @if (Model.vehi.OEMWarrentyDate != null)
                        {
                            if (Convert.ToDateTime(Model.vehi.OEMWarrentyDate).Date >= DateTime.Now.Date)
                            {
                                @:Active
                            }
                            else
                            {
                                @:Expired
                            }
                        }
                        else
                        {
                            @:-
                        }
                    </b>
                </span><br />
                <span id="ewdate">
                    <b>EW&nbsp;Date :- </b>&nbsp;&nbsp;
                    <b>
                        @if (Model.vehi.extendedWarentyDue != null)
                        {
                            Convert.ToDateTime(Model.vehi.extendedWarentyDue).ToString("dd-MM-yy");
                        }
                        else
                        {
                            @:-
                        }
                    </b>
                </span><br />
                <span id="ewstatus">
                    <b>EW&nbsp;Status :- </b>&nbsp;&nbsp;
                    <b>
                        @if (Model.vehi.extendedWarentyDue != null)
                        {
                            if (Convert.ToDateTime(Model.vehi.extendedWarentyDue).Date >= DateTime.Now.Date)
                            {
                                @:Active
                            }
                            else
                            {
                                @:Expired
                            }
                        }
                        else
                        {
                            @:-
                        }
                    </b>
                </span><br />
                <span id="mcpstatus"><b>MCP&nbsp;Status :- </b>&nbsp;&nbsp;<b>@Model.vehi.mcpStatus</b></span><br />
                <span id="lastrenewalloc"><b>Last&nbsp;Renewed&nbsp;Location :-</b>&nbsp;&nbsp;<b>@Model.LatestInsurance.reportedlocname</b></span><br />
                <span id="coupons"><b>Coupons&nbsp;:- </b>&nbsp;&nbsp;<b>@Model.coupondetails</b></span><br />
            </div>
        </div>
    </div>
    @*
                               <div class="col-sm-4" style="padding: 0px;">
                                   <!-- START panel-->
                                   <div id="panelDemo10" class="panel panel-info">
                                       <div class="panel-heading">
                                           <b>VEHICLE&nbsp;INFO</b>
                                           <img src="~/public/images/car.png" class="pull-right" style="width:28px;"></img>
                                       </div>
                                       <div class="panel-body" style="height: 110px;overflow: auto;padding: 5px;">
                                           @if (Model.vehi != null)
                                           {
                                               @:<span id="vehRegNO"><b>@Model.vehi.vehicleRegNo</b></span>&nbsp;|&nbsp;<span>
                                                   <b>
                                                       @if (Session["DealerCode"].ToString() == "INDUS")
                                                       {
                                                           @Model.vehi.chassisNo.Substring(0, Model.vehi.chassisNo.IndexOf('C')); @:&nbsp; | &nbsp; @Model.vehi.chassisNo.Substring(Model.vehi.chassisNo.IndexOf('C'))
                                                       }
                                                       else
                                                       {
                                                           @Model.vehi.chassisNo;
                                                       }
                                                   </b>
                                               @:</span><br><span id="modelNo"><b> @Model.vehi.model</b></span>
                                               @:<span>&nbsp;| &nbsp;<b>@Model.vehi.engineNo</b>&nbsp;| &nbsp;<b>@Model.vehi.variant</b>&nbsp;| &nbsp;<br><b>@Model.vehi.color</b> &nbsp; &nbsp;<b style="color:red;">
                                                       if (Model.ceicustCat != null && Session["OEM"].ToString() == "MARUTI SUZUKI")
                                                       {@Model.ceicustCat}


                                               @:</b>
                                           @:</span><br />
                                           @:<span><b>Mileage(Kms):</b>&nbsp;<b>@Model.vehi.odometerReading</b></span> @*&nbsp;|&nbsp;
                                           @:<span><b>Sale Location:</b>&nbsp;<b>@Model.vehi.dealershipName</b></span> @*&nbsp;|&nbsp;
                                           @:<span>
                                               <br />
                                               <b>Sale&nbsp;Date:</b>@:&nbsp;<b class="servi" style="background-color: #f05050; color: #fff;border-radius: 3px;font-size: 13px;border-color: transparent;">
                                                   if (Model.vehi.saleDate != null)
                                                   {@Convert.ToDateTime(Model.vehi.saleDate).ToString("dd-MM-yyyy");
                                               }
                                           @:</b></b>
                                       @:</span><br>
                                       @:<span>
                                           <b>Dealer&nbsp;:</b>@:&nbsp;<b>
                                               if (@Model.vehi.isSalesDone == "1")
                                               {
                                                   @:Self
                                               }
                                               else
                                               {
                                                   @:Others
                                               }
                                           @:</b></b></span>
                                           @:<br><span><b>Year&nbsp;of&nbsp;Manufacturing&nbsp;:</b>&nbsp;<b>@Model.vehi.yearofmanufacture</b></b></span>
                                           @:<br><span>
                                               @:<b>OEM&nbsp;Warranty&nbsp;Date&nbsp;:</b>&nbsp;<b>
                                                   if (Model.vehi.OEMWarrentyDate != null)
                                                   {@Convert.ToDateTime(Model.vehi.OEMWarrentyDate).ToString("dd-MM-yyyy")}
                                           @:</b></b><br />
                                           @:<span>
                                               <b>Fuel&nbsp;Type:</b>@:&nbsp;<b>
                                                   if (Model.cust.vehicles.FirstOrDefault() != null && Model.cust.vehicles.FirstOrDefault().fuelType != null)
                                                   {
                                                       @Model.cust.vehicles.FirstOrDefault().fuelType;
                                                   }
                                                   else
                                                   {
                                                       @:-
                                                   }
                                               @:</b></b></span>
                                               @:<span>
                                                   <b>DSE:</b>@:&nbsp;<b>
                                                       if (Model.cust.vehicles.FirstOrDefault() != null && Model.cust.vehicles.FirstOrDefault().dse != null)
                                                       {
                                                           @Model.cust.vehicles.FirstOrDefault().dse;
                                                       }
                                                       else
                                                       {
                                                           @:-
                                                       }
                                                   @:</b></b></span>
                                               @:</span><br /><b><span>DSE M.No : @Model.cust.vehicles.FirstOrDefault().mobile2</span></b>
                                               if (Session["DealerCode"].ToString() == "HANSHYUNDAI" || Session["OEM"].ToString() == "FORD" || Session["DealerCode"].ToString() == "GALAXYTOYOTA" || Session["DealerCode"].ToString() == "TOYOTADEMO")
                                               {
                                                   @:<span>
                                                       <b>LMC&nbsp;:</b>@:&nbsp;<b>
                                                           if (Model.cust.vehicles.FirstOrDefault().LMC != null)
                                                           {@Model.cust.vehicles.FirstOrDefault().LMC;
                                                       }
                                                   @:</b>
                                               @:</span>
                                           }
                                       }


                                       </div>
                                   </div>
                                   <!-- END panel-->
                               </div>

                               @:<div class="col-sm-4" style="padding: 0px;">
                    <!-- START panel-->
                                   @:<div id="panelDemo10" class="panel panel-info">
                                       <div class="panel-heading specialoffer">
                                           <b>
                                               NEXT&nbsp;SERVICE&nbsp;DUE&nbsp;&nbsp;&nbsp;@if (Model.AssignTaggingName != "-" && Model.AssignTaggingName != null)
                                               {<span id="smrtag" style="background-color: red;">@Model.AssignTaggingName</span>}
                                           </b>
                                       </div>
                                       @:<div class="panel-body" style="height: 110px;overflow-x:hidden;padding: 5px;">
                                           @:<span>
                                               if (Session["DealerCode"].ToString() == "KATARIA")
                                               {

                                                   <b>Due Date –Tenure -&nbsp;&nbsp;</b> <b id="bnextservicedate" class="servi" style="background-color: #f05050; color: #fff;border-radius: 3px;font-size: 12px;border-color: transparent;padding:2px"></b>

                                                   if (Model.vehi.duedatetenure != null)
                                                   {
                                                       @Model.vehi.duedatetenure
                                                   }

                                               }
                                               else
                                               {
                                                   <b>Manual -&nbsp;&nbsp;</b> <b id="snextservicedate" class="servi" style="background-color: #f05050; color: #fff;border-radius: 3px;font-size: 12px;border-color: transparent;padding:2px"></b>
                                                   @if (Session["LoginUser"].ToString() == "Insurance")
                                                       {
                                                           if (Model.vehi.policyDueDate != null)
                                                           {@Convert.ToDateTime(Model.vehi.policyDueDate).ToString("dd-MM-yyyy")}
                                                       }
                                                       else
                                                       {
                                                           if (Model.vehi.nextServicedate != null)
                                                           {@Convert.ToDateTime(Model.vehi.nextServicedate).ToString("dd-MM-yyyy")}
                                                       }
                                                   if (Model.NextServiceDate != null)
                                                   {
                                                       @Model.NextServiceDate
                                                   }

                                               }
                                               @:</b>&nbsp;| &nbsp;<b>
                                                   <b id="servicetypeorai">
                                                       @if (Model.NextServiceType != null)
                                                       {
                                                           @Model.NextServiceType
                                                       }
                                                       else
                                                       {
                                                           @:-
                                                       }
                                                   </b>

                                                   @:<br>
                                                   @:<span>
                                                       if (Session["DealerCode"].ToString() == "KATARIA")
                                                       {
                                                           <b>Due Date – Mileage&nbsp;:&nbsp;</b><b class="servi" style="background-color: #f05050; color: #fff;border-radius: 3px;font-size: 12px;border-color: transparent;"></b>
                                                           if (Model.vehi.duedatemileage != null)
                                                           {
                                                               @Model.vehi.duedatemileage
                                                           }
                                                       }
                                                       else
                                                       {
                                                           <b>Auto&nbsp;:&nbsp;</b><b class="servi" style="background-color: #f05050; color: #fff;border-radius: 3px;font-size: 12px;border-color: transparent;"></b>
                                                           if (Model.smrCall != null && Model.smrCall.nextServiceDate != null)
                                                           {@Convert.ToDateTime(Model.smrCall.nextServiceDate).ToString("dd-MM-yyyy")}
                                                   }


                                               @:</b> &nbsp;| &nbsp;
                                               @:<b>
                                                   if (Model.smrCall != null)
                                                   {@Model.smrCall.nextservicetype}
                                           @:</b>&nbsp;| &nbsp;<b>@Model.vehi.forecastLogic</b>
                                       @:</span><br>
                                       <span><b>Avg.KM/DAY :&nbsp;</b>@Model.vehi.averageRunning </span> @:&nbsp;| &nbsp;
                                       if (Session["DealerCode"].ToString() == "KATARIA")
                                       {

                                           if (Model.smrCall != null && Model.smrCall.todaymillage != null)
                                           {
                                               <span><b>Today Mileage(Predicted) :&nbsp;</b>@Model.smrCall.todaymillage &nbsp;| &nbsp;</span>
                                           }
                                           else
                                           {
                                               <span><b>Today Mileage(Predicted) :&nbsp;</b> 0 </span>
                                           }
                                       }

                                       <span><b>NO&nbsp;SHOW :&nbsp;</b> @Model.noShowCall&nbsp;</span><br>
                                       <span>
                                           <b>Assign&nbsp;CRE & Date & Workshop:&nbsp;</b><br><span id="assUserName">
                                               @if (Model.AssignCRE != null)
                                               {@Model.AssignCRE; <text>||</text>
                                           }
                                               @if (Model.UploadedDate != null)
                                               {@Model.UploadedDate; <text>||</text>
                                           }
                                               @if (Model.AssignWorkShop != null)
                                               {@Model.AssignWorkShop;
                                           }
                                           </span>&nbsp;
                                       </span><br>
                                       <span>
                                           <b>Assign&nbsp;Campaign:&nbsp;</b>
                                           <span id="smrCampaign">
                                               @if (Model.AssignCampaign != null)
                                               {@Model.AssignCampaign;
                                           }
                                           </span>&nbsp;
                                       </span><br>

                                   @:</div>
                               @:</div>
                           @:</div>
                           <div class="col-sm-4" style="padding: 0px;">
                               <!-- START panel-->
                               <div id="panelDemo10" class="panel panel-info">
                                   <div class="panel-heading"><b>LAST&nbsp;SERVICE&nbsp;STATUS</b><img src="~/public/images/car-insurance.png" class="pull-right" style="width:28px;"></img></div>
                                   <div class="panel-body" style="height: 110px;overflow: auto;padding: 5px;">
                                       @if (Model.vehi != null)
                                       {
                                           <span>
                                               <b style="background-color: #f05050; color: #fff;border-radius: 3px;   font-size: 13px;border-color: transparent;padding:2px">
                                                   @if (Session["OEM"].ToString() == "MARUTI SUZUKI")
                                                   {
                                                       if (Model.Latestservices.billDate != null)
                                                       {@Convert.ToDateTime(Model.Latestservices.billDate).ToString("dd-MM-yyyy")}
                                               }
                                               else
                                               {
                                                   if (Model.Latestservices.lastServiceDate != null)
                                                   {@Convert.ToDateTime(Model.Latestservices.lastServiceDate).ToString("dd-MM-yyyy")}
                                           }

                                               </b> &nbsp;<b>|&nbsp;</b>@Model.Latestservices.jobCardNumber&nbsp;<b>|&nbsp;</b>@Model.Latestservices.lastServiceType
                                           </span><br>
                                           <span>
                                               &nbsp;<b>|&nbsp;SA : </b>&nbsp;@Model.Latestservices.saName&nbsp;|&nbsp;
                                               @if (Model.Latestservices.workshop != null)
                                               {
                                                   @Model.Latestservices.workshop.workshopName;
                                               }
                                           </span><br>
                                           if (Session["OEM"].ToString() == "MARUTI SUZUKI")
                                           {
                                               <span>
                                                   &nbsp;<b>|&nbsp;Technician  : </b>&nbsp;@Model.Latestservices.technician&nbsp;|&nbsp;

                                               </span>
                                           }
                                           <br>
                                       }
                                   </div>
                               </div>
                               <!-- END panel-->
                           </div>

                           @:<div class="col-sm-4" style="padding: 0px;">
                    <!-- START panel-->
                               @:<div id="panelDemo10" class="panel panel-info">
                                   <div class="panel-heading">
                                       <b>
                                           INSURANCE INFO&nbsp;&nbsp;&nbsp;@if (Model.InsAssignTaggingName != "-" && Model.InsAssignTaggingName != null)
                                           {<span id="smrtag" style="background-color: red;">@Model.InsAssignTaggingName</span>}
                                       </b><i id="ins-cal-sel" class="fa fa-calendar datePickerrangeto" aria-hidden="true"></i><img src="~/public/images/truck.png" class="pull-right" style="width:28px;"></img>
                                   </div>
                                   @:<div class="panel-body" style="height: 110px;overflow: auto;padding: 5px;">
                                       <span>
                                           <b>Due Date &nbsp;(Assigned): &nbsp;</b><b style="background-color: #f05050;color: #fff;border-radius: 3px;   font-size: 13px;border-color: transparent;" class="servi" id="policyduedateINS">
                                               @Model.PolicyDueDate
                                               @if (Session["DealerCode"].ToString() == "CAUVERYFORD" || Session["DealerCode"].ToString() == "INDUS")
                                                       {
                                                           @Model.PolicyDueDate;
                                                       }
                                                       else if (Model.vehi.policyDueDate != null)
                                                       {@Convert.ToDateTime(Model.vehi.policyDueDate).ToString("dd-MM-yyyy");
                                                   }
                                                   else
                                                   { @:-
                                                   }
                                           </b> <br>
                                           <b>Due Date &nbsp;(Manual): &nbsp;</b><label class="servi" style="font-size: 13px;" id="policyEditedduedate">@Model.PolicyEditedDueDate </label>


                                           <br>

                                           <b>LAST&nbsp;PolicyNo.</b>
                                           @if (Model.LatestInsurance.policyNo != null)
                                           {
                                               if (Model.LatestInsurance.policyNo.Contains("'"))
                                               {@Model.LatestInsurance.policyNo.Replace("'", "");
                                           }
                                           else
                                           { @Model.LatestInsurance.policyNo;
                                       }
                                   }
                                           <b><br>&nbsp; Premium(Rs.)</b>@Model.LatestInsurance.grossPremium<b>|&nbsp;Product Type</b>@Model.LatestInsurance.classType
                                       </span><br />

                                       <span style="background-color: yellow;color: black;">
                                           <b>
                                               @if (Session["DealerCode"].ToString() == "INDUS")
                                               {
                                                   <b>STATUS: @Model.vehi.tpstatus</b>

                                               }


                                           </b>
                                       </span><br>

                                       <b>
                                           <br>&nbsp;Due Date<br><span>
                                               @if (Model.LatestInsurance.policyDueDate != null)
                                               {@Convert.ToDateTime(Model.LatestInsurance.policyDueDate).ToString("dd-MM-yyyy");
                                           }&nbsp;<b> &nbsp; InsuranceCo. &nbsp;</b>@if (Model.LatestInsurance.insuranceCompanyName != null)
                                               {@Model.LatestInsurance.insuranceCompanyName}
                                           else
                                           {@Model.vehi.insuranceCompanyName}
                                       </span>
                                       <br />
                                       <span>
                                           <b>IDV & NCB:&nbsp;</b><br><span id="idv">
                                               @if (Model.LatestInsurance.idv != null)
                                               {@(Model.LatestInsurance.idv);
                                           }||
                                               @if (Session["OEM"].ToString() == "MARUTI SUZUKI")
                                               {
                                                   if (Model.LatestInsurance.malusncbvalue != null)
                                                   {@(Model.LatestInsurance.malusncbvalue);
                                               }
                                           }
                                           else
                                           {
                                               if (Model.LatestInsurance.ncBAmount != null)
                                               {@(Model.LatestInsurance.ncBAmount);
                                           }
                                       }

                                           </span>&nbsp;
                                       </span>
                                       <br>

                                       <span>
                                           <b>Assign&nbsp;CRE & Date & Workshop:&nbsp;</b><br><span id="assUserName">
                                               @if (Model.InsAssignCRE != null)
                                               {@Model.InsAssignCRE; <text>||</text>
                                           }
                                               @if (Model.InsUploadedDate != null)
                                               {@Model.InsUploadedDate; <text>||</text>
                                           }
                                               @if (Model.InsAssignWorkShop != null)
                                               {@Model.InsAssignWorkShop;
                                           }
                                           </span>&nbsp;
                                       </span>
                                       <span>
                                           <b>Assign&nbsp;Campaign:&nbsp;</b>
                                           <span id="smrCampaign">
                                               @if (Model.InsAssignCampaign != null)
                                               {@Model.InsAssignCampaign;
                                           }
                                           </span>&nbsp;
                                       </span><br>
                                       <span>
                                           <b>Last Coverage:&nbsp;</b><span id="lastcoverage">
                                               @if (Model.LatestInsurance.policyDueDate != null && Model.LatestInsurance.RiskInceptionDate != null)
                                               {
                                                   @Convert.ToDateTime(Model.LatestInsurance.RiskInceptionDate).ToString("dd-MM-yyyy");
                                                   @: to
                                                   @Convert.ToDateTime(Model.LatestInsurance.policyDueDate).ToString("dd-MM-yyyy");
                                               }
                                               else
                                               {
                                                   @:---
                                               }
                                           </span>&nbsp;
                                       </span>
                                       <br />
                                       <span>
                                           <b>Claim Count:&nbsp;</b>@Model.vehi.claimcount
                                       </span>
                                   </b>
                               @:</div>
                           @:</div>
                    <!-- END panel-->
                       </div>
                       if (Session["OEM"].ToString() == "MARUTI SUZUKI")
                       {
                           <div class="col-sm-4" style="padding: 0px;">
                               <!-- START panel-->
                               <div id="panelDemo10" class="panel panel-info">
                                   <div class="panel-heading"><b>PULL&nbsp;factor&nbsp;</b><img src="~/public/images/warranty-certificate.png" class="pull-right" style="width:28px;"></img></div>
                                   <div class="panel-body" style="height: 110px;overflow: auto;padding: 5px;">
                                       <span>
                                           @if (Session["dealercode"].ToString() == "KATARIA")
                                           {
                                               <b>EW&nbsp;Date:&nbsp;</b><b class="servi" style="background-color: #f05050;color: #fff;border-radius: 3px; font-size: 13px;border-color: transparent;">

                                                   @if (Model.vehi.extendedWarentyDue != null)
                                                   {@Convert.ToDateTime(Model.vehi.extendedWarentyDue).ToString("dd-MM-yyyy")}
                                               </b>
                                           }
                                           else
                                           {
                                               <b>OEM&nbsp;Warranty:&nbsp;</b><b class="servi" style="background-color: #f05050;color: #fff;border-radius: 3px; font-size: 13px;border-color: transparent;">

                                                   @if (Model.vehi.OEMWarrentyDate != null)
                                                   {@Convert.ToDateTime(Model.vehi.OEMWarrentyDate).ToString("dd-MM-yyyy")}
                                               </b>
                                           }
                                       </span><br>
                                       <span>
                                           <b>EW&nbsp;Status:</b>&nbsp;@*Contract End Date :<b class="servi" style="background-color: #f05050;color: #fff;border-radius: 3px; font-size: 13px;border-color: transparent;">

                                               @if (Session["dealerCode"].ToString() == "CHAVANMOTORS" || Session["dealerCode"].ToString() == "AMMOTORS" || Session["dealerCode"].ToString() == "FORTPOINTAUTOMOTIVES" || Session["dealerCode"].ToString() == "NAVNEETMOTORS")
                                               {
                                                   if (Model.vehi.extendedWarentyDue != null)
                                                   {@Convert.ToDateTime(Model.vehi.extendedWarentyDue).ToString("dd-MM-yyyy")}

                                               if (Convert.ToDateTime(Model.vehi.extendedWarentyDue).Date >= DateTime.Now.Date)
                                               {
                                                   @:active
                                               }
                                               else
                                               {
                                                   @:expired
                                               }

                                           }
                                           else if (Session["dealercode"].ToString() == "KATARIA")
                                           {
                                               @Model.vehi.status;
                                           }

                                           else
                                           {
                                               if (Model.vehi.OEMWarrentyDate != null)
                                               {
                                                   if (Convert.ToDateTime(Model.vehi.OEMWarrentyDate).Date >= DateTime.Now.Date)
                                                   {
                                                       @:active
                                                   }
                                                   else
                                                   {
                                                       @:expired
                                                   }
                                               }
                                               else
                                               {
                                                   @:-
                                               }
                                           }

                                               @if (Model.vehi.OEMWarrentyDate != null)
                                                   {
                                                       if (Convert.ToDateTime(Model.vehi.OEMWarrentyDate).Date >= DateTime.Now.Date)
                                                       {
                                                           @:active
                                                       }
                                                       else
                                                       {
                                                           @:expired
                                                       }
                                                   }
                                                   else
                                                   {
                                                       @:-
                                                   }


                                           </b>&nbsp;<b>|MCP&nbsp;Status : </b>&nbsp;@Model.vehi.mcpStatus
                                       </span>
                                       <br />
                                       <span style="font-size: 13px;">&nbsp;<b>AutoCardPoints:</b>&nbsp;@Model.vehi.loyaltycard1</span>
                                       <span style="font-size: 13px;">
                                           &nbsp;<b>|Fixed&nbsp;Cost:</b>&nbsp;
                                           @if (Model.vehi.lastServiceDate == null)
                                           {
                                               @:-
                                           }
                                           else
                                           {
                                               if ((DateTime.Now.Date - Convert.ToDateTime(Model.vehi.lastServiceDate).Date).TotalDays >= 548)
                                               {
                                                   @:Yes
                                               }
                                               else
                                               {
                                                   @:No
                                               }
                                           }
                                       </span>
                                       <br />
                                       <span style="font-size: 13px;">
                                           &nbsp;<b>MI&nbsp;Coupons:</b>&nbsp;@Model.coupondetails
                                       </span>@Model.appointbooked.coupon
                                       <br />
                                       <span style="font-size: 13px;"><b>Complaints :</b>&nbsp;Open&nbsp;-<b>@if (ViewBag.complaintOFCust[0] != null) {@ViewBag.complaintOFCust[0] }</b>&nbsp;|&nbsp;Closed&nbsp;-<b>@ViewBag.complaintOFCust[1]</b></span><br>
                                       @*<span style="font-size: 13px;"><b>FSA :</b>&nbsp;@Model.vehi.FSA&nbsp;|&nbsp;<b>PMS Missed-</b>&nbsp;@Model.vehi.PMS_missed</span><br>
                                           <span style="font-size: 13px;">&nbsp;|&nbsp;<b>Non Retained</b>&nbsp;- @Model.vehi.Non_Retained&nbsp;</span>
                                       <span style="font-size: 13px;">&nbsp;<b>offers:</b>&nbsp;@Model.offers</span>

                                   </div>

                               </div>
                               <!-- </div> **************** IMP Nee to Remove and cut past-->
                               <!-- END panel-->
                           </div>
                       }
                       else
                       {
                           <div class="col-sm-4" style="padding: 0px;">
                               <!-- START panel-->
                               <div id="panelDemo10" class="panel panel-info">
                                   <div class="panel-heading"><b>WARRANTY&nbsp;&&nbsp;OTHER&nbsp;INFO</b><img src="~/public/images/warranty-certificate.png" class="pull-right" style="width:28px;"></img></div>
                                   <div class="panel-body" style="height: 110px;overflow: auto;padding: 5px;">
                                       <span>
                                           @if (@Session["DealerCode"].ToString() == "ADITHYAHONDA" || @Session["DealerCode"].ToString() == "SHYMASHONDA")
                                           {
                                               <b>EW END&nbsp;Date:&nbsp;</b><b class="servi" style="background-color: #f05050;color: #fff;border-radius: 3px; font-size: 13px;
                           border-color: transparent;"></b>
                                               if (Model.vehi.ewenddate != null)
                                               {@Convert.ToDateTime(Model.vehi.ewenddate).ToString("dd-MM-yyyy")
                                           }
                                       }
                                       else
                                       {
                                           <b>OEM&nbsp;Warranty:&nbsp;</b><b class="servi" style="background-color: #f05050;color: #fff;border-radius: 3px; font-size: 13px;
                           border-color: transparent;">
                                               @if (Session["DealerCode"].ToString() == "BRIDGEWAYMOTORS" && Model.vehi.saleDate != null)
                                               {
                                                   @Model.vehi.saleDate.Value.AddYears(3).AddDays(-1).ToString("dd-MM-yyyy");
                                               }
                                               else
                                               {
                                                   if (Model.vehi.OEMWarrentyDate != null)
                                                   {@Convert.ToDateTime(Model.vehi.OEMWarrentyDate).ToString("dd-MM-yyyy")}
                                           }
                                           </b>
                                       }

                                       </span><br>
                                       @if (@Session["DealerCode"].ToString() == "ADITHYAHONDA" || @Session["DealerCode"].ToString() == "SHYMASHONDA")
                                       {<span>

                                               <b>EW&nbsp;:</b>&nbsp;<b class="servi" style="background-color: #f05050;color: #fff;border-radius: 3px; font-size: 13px;border-color: transparent;">

                                                   @if (Model.vehi.ewenddate != null)
                                                   {@Convert.ToDateTime(Model.vehi.ewenddate).ToString("dd-MM-yyyy")}
                                                   @if (Convert.ToDateTime(Model.vehi.ewenddate).Date >= DateTime.Now.Date)
                                                   {


                                                       @:active
                                                   }
                                                   else
                                                   {
                                                       @:expired
                                                   }

                                               </b>&nbsp;<br><b>|AMC End Date : </b>&nbsp;@Model.vehi.amcenddate
                                               &nbsp;<br><b>|Emission Norms : </b>&nbsp;@Model.vehi.emissionnorms
                                               &nbsp;<br><b>|Warranty Expiry Km : </b>&nbsp;@Model.vehi.warrantyexpirykm <br />

                                           </span>
                                       }
                                       else
                                       {
                                           <span>
                                               <b>EW&nbsp;:</b>&nbsp;@*Contract End Date Advance Assurance End Date<b class="servi" style="background-color: #f05050;color: #fff;border-radius: 3px; font-size: 13px;
                border-color: transparent;">
                    @if (Session["DealerCode"].ToString() == "BRIDGEWAYMOTORS")
                    {
                        if (Model.vehi.contractEndDate != null)
                        {@Convert.ToDateTime(Model.vehi.contractEndDate).ToString("dd-MM-yyyy")}
                    if (Convert.ToDateTime(Model.vehi.contractEndDate).Date >= DateTime.Now.Date)
                    {


                        @:active
                    }
                    else
                    {
                        @:expired
                    }
                }
                else
                {
                    if (Model.vehi.contractEndDate != null)
                    {@Convert.ToDateTime(Model.vehi.contractEndDate).ToString("dd-MM-yyyy")}

            }


                    @*{@Model.vehi.contractEndDate.Replace('/', '-')}
                </b>&nbsp;<br><b>|ESB Product : </b>&nbsp;@Model.vehi.esbProduct
                </span>
                }
                <span style="font-size: 13px;"><b>Complaints :</b>&nbsp;Open&nbsp;-<b>@if (ViewBag.complaintOFCust[0] != null) {@ViewBag.complaintOFCust[0] }</b>&nbsp;|&nbsp;Closed&nbsp;-<b>@ViewBag.complaintOFCust[1]</b></span><br>
                <span style="font-size: 13px;"><b>FSA :</b>&nbsp;@Model.vehi.FSA&nbsp;|&nbsp;<b>PMS Missed-</b>&nbsp;@Model.vehi.PMS_missed</span><br>
                <span style="font-size: 13px;">&nbsp;|&nbsp;<b>Non Retained</b>&nbsp;- @Model.vehi.Non_Retained&nbsp;</span>


            </div>

        </div>
        <!-- </div> **************** IMP Nee to Remove and cut past-->
        <!-- END panel-->
                </div>
            }
            if (ViewBag.typeOfDispo == "PostSalesFeedback")
            {
        <div class="col-sm-4" style="padding: 0px;">
            <!-- START panel-->
            <div id="panelDemo10" class="panel panel-info">
                <div class="panel-heading"><b>LAST&nbsp;POST&nbsp;SALES&nbsp;FOLLOW-UP</b><img src="~/public/images/businessman.png" class="pull-right" style="width:28px;"></img></div>
                <div class="panel-body" style="height: 110px;overflow: auto;padding: 5px;">
                    <span><b>Assign CRE : @Model.postsalesAssignedCRE</b></span><br />
                    <span><b>Date  : @Model.postsalesAssignedDate</b></span><br />
                    <span><b>Sales Outlet : @Model.postsalesAssignedworkshop</b></span><br />
                    <span><b>Campaign Name : @Model.postsalesAssignedCampaign</b></span> <br />

                </div>

            </div>
            <!-- END panel-->
        </div>
            }
            else
            {
        <div class="col-sm-4" style="padding: 0px;">
            <!-- START panel-->
            <div id="panelDemo10" class="panel panel-info">
                <div class="panel-heading"><b>LAST&nbsp;POST&nbsp;SERVICE&nbsp;FOLLOW-UP</b><img src="~/public/images/businessman.png" class="pull-right" style="width:28px;"></img></div>
                <div class="panel-body" style="height: 110px;overflow: auto;padding: 5px;">
                    <span>
                        <b>Last PSF on CRM :</b>&nbsp;
                        @if (Model.lastPSFAssignStatus != null)
                        {
                            if (Model.lastPSFAssignStatus.campaign != null && Model.lastPSFAssignStatus.service != null)
                            {
                                if (Model.lastPSFAssignStatus.campaign.id == 5)
                                {
                                    @Model.lastPSFAssignStatus.service.psf2
                                }
                                else if (Model.lastPSFAssignStatus.campaign.id == 4)
                                {
                                    @Model.lastPSFAssignStatus.service.psf1
                                }
                                else if (Model.lastPSFAssignStatus.campaign.id == 6)
                                {
                                    @Model.lastPSFAssignStatus.service.psf3
                                }
                                else if (Model.lastPSFAssignStatus.campaign.id == 7)
                                {
                                    @Model.lastPSFAssignStatus.service.psf4
                                }

                            }
                        }

                        &nbsp;|&nbsp;<b>RO No.</b>
                        @if (Model.lastPSFAssignStatus.service != null)
                        {
                            @Model.lastPSFAssignStatus.service.jobCardNumber
                            @:&nbsp;|&nbsp;
                            @Model.lastPSFAssignStatus.service.lastServiceType
                        }
                    </span><br>
                    <span>
                        &nbsp;|&nbsp;<b>CRE:&nbsp;</b>@if (Model.lastPSFAssignStatus.wyzuser != null)
                        {@Model.lastPSFAssignStatus.wyzuser.userName}&nbsp;|&nbsp;<b>SA:&nbsp;</b>
                        @if (Model.lastPSFAssignStatus.service != null)
                        {@Model.lastPSFAssignStatus.service.saName}&nbsp;|&nbsp;<b>
                            @if (Model.lastPSFAssignStatus.finalDisposition_id != null)
                            {
                                @Model.finaldispostion.disposition
                            }

                        </b>
                    </span><br>
                    @* <span style="font-size: 13px;">
                            <b>
                                HOT&nbsp;ALERT:
                                @if (Model.vehi.hotAlertOpenDate != null && Model.vehi.hotAlertOpenDate.Length > 5)
                                {
                                    <text>YES</text>
                                }
                                else
                                {
                                    @:NO
                                }
                            </b>&nbsp;|&nbsp;<b style="background-color: #f05050;color: #000;border-radius: 3px; font-size: 13px;border-color: transparent;">@Model.vehi.hotAlertOpenDate</b>&nbsp;
                        </span><br />

                    @if (Model.psfboxview != null && Model.psfboxview.Count > 0)
                    {
                        foreach (var psf in Model.psfboxview)
                        {

                            @*<div class="row">
                            <span><b>Assign CRE</b>||</span>
                            <span><b>Date</b>||</span>
                            <span><b>Workshop</b></span>
                            @*</div>*@
    <br />
    @*<div class="row">
                            <span>@psf.wyzUser||</span>
                            <span>@psf.updateedDate||</span>
                            <span>@psf.workshopName</span>
                            @*</div><br />
                            <span style="margin-bottom:8px;"><b>Campaign Name:</b>@psf.campaignName</span>
                            <br />
                        }
                    }
                    else
                    {
                        <br />
                        @*<div class="row">
                        <span><b>Assign CRE</b>||</span>
                        <span><b>Date</b>||</span>
                        <span><b>Workshop</b></span>
                        @*</div>
                        <br />

                        <span><b>Campaign Name:</b></span>

                    }

                </div>

            </div>
            <!-- END panel-->
        </div>
            }
        @:</div>
        }*@
</div>
<!--Shasi disposition-->

<div class="row animated backInRight">
    <div class="col-lg-12 disposit  panelsm" id="callDispoI">
        @if (Session["PageFor"].ToString() != "CREManager" && Session["PageFor"].ToString() != "Search" && Session["PageFor"].ToString() != "CREHdd")
        {
            <div class="panel panel-primary">
                <div class="panel-heading " align="center" data-toggle="collapse" data-parent="#accordion" data-target="#collapsedispo" style="background-color:#1797be;">
                    <img src="~/public/images/phone1.png" id="imgInter" style="width:17px">&nbsp;<b id="interHeading">DISPOSITION FORM</b>
                </div>
                <div class="panel-body disposit" id="collapsedispo">
                    @if (ViewBag.typeOfDispo == "Service" || ViewBag.typeOfDispo == "insurance" || ViewBag.TypeOfDispo == "Service_MCP")
                    {
                        <div class="row animated  bounceInRight">
                            <div class="col-sm-12" id="SMRInteractionFirst">
                                <h4>Select The Mode of Interaction :-&nbsp;&nbsp;</h4>

                                <div class="radio-inline">
                                    <label>
                                        <input type="radio" name="InOutCallName" value="OutCall" checked id="OutGoingID">
                                        Outbound Call
                                    </label>

                                </div>
                                <div class="radio-inline">
                                    <label>
                                        <input type="radio" name="InOutCallName" value="OutCall" id="OutGoingID">
                                        InBound Call
                                    </label>

                                </div>
                            </div>
                            <div class="col-md-12 animated  bounceInRight" id="OutBoundDiv" style="display:none;">

                                @using (Html.BeginForm("Call_Logging", "CallLogging", FormMethod.Post))
                                {
                                    @Html.TextBoxFor(m => m.CustomerId, new { @type = "hidden" })
                                    @Html.TextBoxFor(m => m.VehicleId, new { @type = "hidden" })
                                    @Html.TextBoxFor(m => m.listingForm.issmsEnabled, new { @type = "hidden", id = "issmsenbledsave" })
                                    @Html.TextBoxFor(m => m.intalkDialNumber, new { @type = "hidden", @id = "hdnintalkDialNumber" })
                                    @Html.TextBoxFor(m => m.intalkGSMUniqueId, new { @type = "hidden", @id = "hdnintalkGSMUniqueId" })
                                    @Html.TextBoxFor(m => m.intalkIsCallInitiated, new { @type = "hidden", @id = "hdnintalkIsCallInitiated" })
                                    @Html.TextBoxFor(m => m.intalkNCReason, new { @type = "hidden", @id = "hdnintalkNCReason" })

                                    <div class="">
                                        <div id="DidYouTalkDiv">
                                            <label for=""><b>Did you talk to the customer ?</b></label>
                                            <br>
                                            <div class="radio-inline">
                                                <label>
                                                    @Html.RadioButtonFor(m => m.srdisposition.typeOfDisposition, "Contact", new { @value = "Contact", @id = "SpeakYes" })
                                                    @*<input type="radio" name="typeOfDisposition" value="Contact" id="SpeakYes">*@
                                                    Yes
                                                </label>
                                            </div>
                                            <div class="radio-inline">
                                                <label>
                                                    @Html.RadioButtonFor(m => m.srdisposition.typeOfDisposition, "NonContact", new { @value = "NonContact", @id = "SpeakNo" })
                                                    @*<input type="radio" name="typeOfDisposition" value="NonContact" id="SpeakNo">*@
                                                    No
                                                </label>
                                            </div>
                                        </div>
                                        <!--No-->

                                        <div style="display:none;" class="animated  bounceInRight" id="NotSpeachDiv">
                                            <br>
                                            <label for=""><b>Choose reason for not being able to talk to customer:</b></label>
                                            <br>
                                            @if (Session["DealerCode"].ToString() != "KUNHYUNDAI" || Session["UserRole1"].ToString() != "1")
                                            {
                                                <div class="radio">
                                                    <label>
                                                        @Html.RadioButtonFor(m => m.listingForm.dispoNotTalk, "Ringing No response")
                                                        @*<input type="radio" name="disposition" value="Ringing No response">*@
                                                        Ringing No response
                                                    </label>
                                                </div>

                                                <div class="radio">
                                                    <label>
                                                        @Html.RadioButtonFor(m => m.listingForm.dispoNotTalk, "Busy")
                                                        @*<input type="radio" name="disposition" value="Busy">*@
                                                        Busy
                                                    </label>
                                                </div>

                                                <div class="radio">
                                                    <label>
                                                        @Html.RadioButtonFor(m => m.listingForm.dispoNotTalk, "Switched Off / Unreachable")
                                                        @*<input type="radio" name="disposition" value="Switched Off / Unreachable">*@
                                                        Switched Off / Unreachable
                                                    </label>
                                                </div>
                                            }
                                            <div class="radio">
                                                <label>
                                                    @Html.RadioButtonFor(m => m.listingForm.dispoNotTalk, "Wrong Number")
                                                    @*<input type="radio" name="disposition" value="Wrong Number">*@
                                                    Wrong Number
                                                </label>
                                            </div>
                                            <div class="radio">
                                                <label>
                                                    @Html.RadioButtonFor(m => m.listingForm.dispoNotTalk, "Invalid Number")
                                                    @*<input type="radio" name="disposition" value="Invalid Number">*@
                                                    Invalid Number
                                                </label>
                                            </div>
                                            @if (Session["DealerCode"].ToString() == "KUNHYUNDAI" && Session["UserRole1"].ToString() == "1")
                                            {
                                                <div class="radio">
                                                    <label>
                                                        @Html.RadioButtonFor(m => m.listingForm.dispoNotTalk, "Always not contacted", new { id = "Alwaysnotcontacted" })
                                                        @*<input type="radio" name="disposition" value="NoOther" id="NOOthersCheck">*@
                                                        Always not Contacted
                                                    </label>
                                                </div>
                                            }
                                            @if (Session["DealerCode"].ToString() != "KALYANIMOTORS")
                                            {
                                                <div class="radio">
                                                    <label>
                                                        @Html.RadioButtonFor(m => m.listingForm.dispoNotTalk, "Other", new { id = "NOOthersCheck" })
                                                        @*<input type="radio" name="disposition" value="NoOther" id="NOOthersCheck">*@
                                                        Other
                                                    </label>
                                                </div>
                                            }
                                            <div class="row animated  bounceInRight" style="display:none;" id="NoOthers">
                                                <div class="col-md-3">
                                                    <label><b>Please Specify</b><i class="lblStar">*</i></label>
                                                    @if (ViewBag.typeOfDispo == "Service" || ViewBag.TypeOfDispo == "Service_MCP")
                                                    {
                                                        @Html.TextAreaFor(m => m.srdisposition.other, new { @class = "form-control NoOthersText1 characterLimit", @rows = "1" })
                                                    }
                                                    else if (ViewBag.typeOfDispo == "insurance")
                                                    {
                                                        @Html.TextAreaFor(m => m.insudisposition.other, new { @class = "form-control NoOthersText1 characterLimit", @rows = "1" })
                                                    }
                                                    @*<textarea type="text" class="form-control NoOthersText1 characterLimit" rows="1" name="other"></textarea>*@
                                                </div>
                                            </div>
                                            <div class="col-md-4 animated  bounceInRight" id="NoComments" style="display:none;">
                                                <div class="row">

                                                    <label for="comments"><b>Customer Remarks<b></label>
                                                    @Html.TextAreaFor(model => model.listingForm.remarksList[9], new { @class = "form-control characterLimit SmrRemarks", @rows = "2" })

                                                    <label for="comments"><b>CRE Remarks<b></label>
                                                    @Html.TextAreaFor(model => model.listingForm.commentsList[9], new { @class = "form-control characterLimit SmrRemarks", @rows = "2" })
                                                    @* <textarea class="form-control characterLimit" rows="2" name="remarksList[9]"></textarea>*@
                                                    @* <textarea class="form-control characterLimit" rows="2" name="remarksList[9]"></textarea>*@

                                                </div>
                                            </div>
                                            <div class="row pull-right">
                                                <button type="button" class="btn btn-info" id="DidUTalkNO" style="background-color:#1797BE">Back</button>
                                                <button type="submit" class="btn btn-info" name="typeOfsubmit" style="background-color:#1797BE" id="nonContactValidation" value="nonContact">Submit</button>
                                            </div>
                                        </div>
                                        <!--Book My Service-->
                                        <div style="display:none;" class="animated  bounceInRight whatDidCustSayDiv" id="WhatdidtheCustomersayDIV">
                                            <div id="whatDidCustSayDiv">
                                                <label for=""><b>What did the customer say?</b></label>
                                                <br>
                                                @if (ViewBag.typeOfDispo == "insurance" && Model.callinteraction.appointmentbooked == null)
                                                {
                                                    <div class="radio-inline">
                                                        <label>
                                                            @Html.RadioButtonFor(m => m.listingForm.dispoCustAns, "Book Appointment", new { @value = "Book Appointment", @id = "BookMyAppointment" })
                                                            @*<input type="radio" name="disposition" value="Book Appointment" id="BookMyAppointment">*@
                                                            Book Appointment
                                                        </label>
                                                    </div>
                                                    <div class="radio-inline">
                                                        <label>
                                                            @Html.RadioButtonFor(m => m.listingForm.dispoCustAns, "Renewal Not Required", new { @value = "Renewal Not Required", @id = "RenewalNotRequired" })
                                                            @*<input type="radio" name="disposition" value="Renewal Not Required" id="RenewalNotRequired">*@
                                                            Renewal Not Required
                                                        </label>
                                                    </div>
                                                    <div class="radio-inline">

                                                        <label>
                                                            @Html.RadioButtonFor(m => m.listingForm.dispoCustAns, "Paid", new { @value = "Paid", @id = "Paid" })
                                                            Paid
                                                        </label>
                                                    </div>
                                                    <div class="radio-inline">
                                                        <label>
                                                            @Html.RadioButtonFor(m => m.listingForm.dispoCustAns, "INS Others", new { @value = "INS Others", @id = "OtherDispoID" })
                                                            Other
                                                        </label>
                                                    </div>
                                                }

                                                @if (ViewBag.typeOfDispo == "insurance" && Model.callinteraction.appointmentbooked != null && Model.callinteraction.appointmentbooked.insuranceBookStatus_id != 34)
                                                {
                                                    <div class="radio-inline">
                                                        <label>
                                                            @Html.RadioButtonFor(m => m.listingForm.dispoCustAns, "ConfirmedInsu", new { @value = "ConfirmedInsu", @id = "ConfirmedId" })
                                                            @*<input type="radio" name="disposition" value="ConfirmedInsu" id="ConfirmedId">*@
                                                            Confirmed
                                                        </label>
                                                    </div>

                                                    <div class="radio-inline">
                                                        <label>
                                                            @Html.RadioButtonFor(m => m.listingForm.dispoCustAns, "Book Appointment", new { @value = "Book Appointment", @id = "BookMyAppointment" })
                                                            @*<input type="radio" name="disposition" value="Book Appointment" id="BookMyAppointment">*@
                                                            Reschedule
                                                        </label>
                                                    </div>


                                                    <div class="radio-inline">
                                                        <label>
                                                            @Html.RadioButtonFor(m => m.listingForm.dispoCustAns, "Cancel Appointment", new { @value = "Cancel Appointment", @id = "CancelId" })
                                                            @*<input type="radio" name="disposition" value="Cancel Appointment">*@
                                                            Cancel
                                                        </label>
                                                    </div>

                                                    <div class="radio-inline">
                                                        <label>
                                                            @Html.RadioButtonFor(m => m.listingForm.dispoCustAns, "Paid", new { @value = "Paid", @id = "Paid" })
                                                            @*<input type="radio" name="disposition" value="Paid">*@
                                                            Paid
                                                        </label>
                                                    </div>
                                                }
                                                @if (ViewBag.TypeOfDispo != "insurance" && Model.callinteraction.servicebooked == null)
                                                {
                                                    <div class="radio-inline">
                                                        <label>
                                                            @Html.RadioButtonFor(m => m.listingForm.dispoCustAns, "Book My Service", new { @value = "Book My Service", @id = "BookMyService" })
                                                            @*<input type="radio" name="disposition" value="Book My Service" id="BookMyService">*@
                                                            Book My Service
                                                        </label>
                                                    </div>

                                                    <div class="radio-inline">
                                                        <label>
                                                            @Html.RadioButtonFor(m => m.listingForm.dispoCustAns, "Service Not Required", new { @value = "Service Not Required", @id = "ServiceNotRequired" })
                                                            @*<input type="radio" name="disposition" value="Service Not Required" id="ServiceNotRequired">*@
                                                            Service Not Required
                                                        </label>
                                                    </div>
                                                    if (Session["OEM"].ToString() == "MARUTI SUZUKI" || Session["OEM"].ToString() == "BENZ")
                                                    {
                                                        <div class="radio-inline">
                                                            <label>
                                                                @Html.RadioButtonFor(m => m.listingForm.dispoCustAns, "Other", new { @value = "Other", @id = "ServiceNotRequired" })
                                                                @*<input type="radio" name="disposition" value="Service Not Required" id="ServiceNotRequired">*@
                                                                Others
                                                            </label>
                                                        </div>
                                                    }
                                                }
                                                @if (ViewBag.typeOfDispo != "insurance" && Model.callinteraction.servicebooked != null && Model.callinteraction.servicebooked.serviceBookStatus_id == 34)
                                                {
                                                    <div class="radio-inline">
                                                        <label>
                                                            @Html.RadioButtonFor(m => m.listingForm.dispoCustAns, "Book My Service", new { @value = "Book My Service", @id = "BookMyService" })
                                                            @*<input type="radio" name="disposition" value="Book My Service" id="BookMyService">*@
                                                            Book My Service
                                                        </label>
                                                    </div>

                                                    <div class="radio-inline">
                                                        <label>
                                                            @Html.RadioButtonFor(m => m.listingForm.dispoCustAns, "Service Not Required", new { @value = "Service Not Required", @id = "ServiceNotRequired" })
                                                            @*<input type="radio" name="disposition" value="Service Not Required" id="ServiceNotRequired">*@
                                                            Service Not Required
                                                        </label>
                                                    </div>
                                                    if (Session["OEM"].ToString() == "MARUTI SUZUKI" || Session["OEM"].ToString() == "BENZ")
                                                    {
                                                        <div class="radio-inline">
                                                            <label>
                                                                @Html.RadioButtonFor(m => m.listingForm.dispoCustAns, "Other", new { @value = "Other", @id = "ServiceNotRequired" })
                                                                @*<input type="radio" name="disposition" value="Service Not Required" id="ServiceNotRequired">*@
                                                                Others
                                                            </label>
                                                        </div>
                                                    }
                                                }
                                                @if (ViewBag.typeOfDispo != "insurance" && Model.callinteraction.servicebooked != null && Model.callinteraction.servicebooked.serviceBookStatus_id != 34)
                                                {
                                                    <div class="radio-inline">
                                                        <label>
                                                            @Html.RadioButtonFor(m => m.listingForm.dispoCustAns, "Confirmed", new { @value = "Confirmed", @id = "ConfirmedId" })
                                                            @*<input type="radio" name="disposition" value="Confirmed" id="ConfirmedId">*@
                                                            Confirmed
                                                        </label>
                                                    </div>

                                                    <div class="radio-inline">
                                                        <label>
                                                            @Html.RadioButtonFor(m => m.listingForm.dispoCustAns, "Rescheduled", new { @value = "Rescheduled", @id = "BookMyService" })
                                                            @*<input type="radio" name="disposition" value="Book My Service" id="BookMyService">*@
                                                            Reschedule
                                                        </label>
                                                    </div>
                                                    <div class="radio-inline">
                                                        <label>
                                                            @Html.RadioButtonFor(m => m.listingForm.dispoCustAns, "Cancelled", new { @value = "Cancelled", @id = "CancelId" })
                                                            @*<input type="radio" name="disposition" value="Cancelled" id="CancelId">*@
                                                            Cancel
                                                        </label>
                                                    </div>
                                                }
                                                <div class="radio-inline">
                                                    <label>
                                                        @Html.RadioButtonFor(m => m.listingForm.dispoCustAns, "Call Me Later", new { @value = "Call Me Later", @id = "CallMeLatter" })
                                                        @*<input type="radio" name="disposition" value="Call Me Later" id="CallMeLatter">*@
                                                        Call Me Later
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div>

                                            @if (ViewBag.TypeOfDispo == "Service" || ViewBag.TypeOfDispo == "Service_MCP")
                                            {
                                                @Html.TextBoxFor(m => m.servicebooked.servicepickupdate, new { @type = "hidden", @id = "hdpickUpdate" });
                                                @Html.TextBoxFor(m => m.servicebooked.servicedropdate, new { @type = "hidden", @id = "hddropdate" });
                                                @Html.TextBoxFor(m => m.servicebooked.driver_id, new { @type = "hidden", @id = "hdDriverId", @Value = "0" });
                                                @Html.TextBoxFor(m => m.listingForm.PickUpStartTime, new { @type = "hidden", @id = "hdPickUpTime" });
                                                @Html.TextBoxFor(m => m.listingForm.PickupTimeRange, new { @type = "hidden", @id = "hdPickUpTimeRange" });
                                                Html.RenderPartial("ServiceOutBound");

                                                @*@Html.TextBoxFor(m=>m.servicebooked.)*@
                                            }
                                            else if (ViewBag.TypeOfDispo == "insurance")
                                            {
                                                Html.RenderPartial("_insuranceOutBound");


                                                @Html.TextBoxFor(m => m.listingForm.fieldWalkingLocation, new { @id = "fieldLocModel", @type = "hidden", @Value = locfield })
                                                @Html.TextBoxFor(model => model.listingForm.time_From_ins, new { @id = "startValueIns", @type = "hidden" })
                                                @Html.TextBoxFor(model => model.listingForm.time_From_insExist, new { @id = "startValueInsExist", @type = "hidden" })
                                                @Html.TextBoxFor(model => model.listingForm.time_To_ins, new { @id = "endValueIns", @type = "hidden" })
                                                @Html.TextBoxFor(model => model.listingForm.time_To_insExist, new { @id = "endValueInsExist", @type = "hidden" })
                                                @Html.TextBoxFor(model => model.listingForm.insuAgentIdIns, new { @id = "driverValueIns", @Value = "0", type = "hidden" })

                                                @Html.TextBoxFor(m => m.listingForm.appointmentScheduled, new { @id = "fielDateModel", @type = "hidden", @Value = fieldscheduledate })


                                            }
                                            <!--call me latter-->
                                        </div>
                                    </div>
                                }
                            </div>
                        </div>
                    }
                    else if (ViewBag.typeOfDispo == "PSF")
                    {

                        if (Session["OEM"].ToString().ToLower() == "hyundai" || Session["DealerCode"].ToString() == "JDAUTONATION" || Model.ispsfDynamic == true)
                        {
                            if (ViewBag.typeOfDispo == "PSF" && ViewBag.dispositionHistory != "PSFComplaints" && ViewBag.dispositionHistory != "PSFRM")
                            {
                                using (Html.BeginForm("addHyundaipsf", "CallLoggingPSF", FormMethod.Post))
                                {
                                    Html.RenderPartial("~/Views/CallLoggingPSF/psfHyundai3rdDay.cshtml", Model);
                                }
                            }
                            else if (ViewBag.typeOfDispo == "PSF" && ViewBag.dispositionHistory == "PSFComplaints")
                            {
                                using (Html.BeginForm("addHyundaipsf", "CallLoggingPSF", FormMethod.Post))
                                {
                                    Html.RenderPartial("~/Views/CallLoggingPSF/psfHyundaiComplaint.cshtml", Model);
                                }
                            }
                        }
                        else
                        {

                            if (Session["DealerCode"].ToString() != "INDUS" && Session["DealerCode"].ToString() != "PLATINUMMOTOCORP" && Session["DealerCode"].ToString() != "KALYANIMOTORS" && Session["DealerCode"].ToString() != "JDAUTONATION" && Session["DealerCode"].ToString() != "KATARIA" && Session["DealerCode"].ToString() != "SPEEDAUTO" && Session["DealerCode"].ToString() != "JAYABHERIAUTO")
                            {
                                using (Html.BeginForm("addPsfDispo", "CallLogging", FormMethod.Post))
                                {
                                    Html.RenderPartial("PSF3rdDayDispoPartial", Model);
                                }
                            }
                            else if (Session["DealerCode"].ToString() == "KALYANIMOTORS")
                            {
                                if (ViewBag.typeOfDispo == "PSF" && ViewBag.dispositionHistory != "PSFComplaints" && ViewBag.dispositionHistory != "PSFRM")
                                {
                                    using (Html.BeginForm("addKalynipsf", "CallLoggingPSF", FormMethod.Post))
                                    {
                                        @Html.TextBoxFor(m => m.CustomerId, new { @type = "hidden" })
                                        @Html.TextBoxFor(m => m.VehicleId, new { @type = "hidden" })

                                        Html.RenderPartial("~/Views/CallLoggingPSF/psfKalyani6thDayDispo.cshtml", Model);
                                        //Html.RenderPartial("~/Views/CallLoggingPSF/psfHyundai3rdDay.cshtml", Model);
                                    }
                                }
                                else if (ViewBag.typeOfDispo == "PSF" && ViewBag.dispositionHistory == "PSFComplaints")
                                {
                                    using (Html.BeginForm("addKalynipsf", "CallLoggingPSF", FormMethod.Post))
                                    {
                                        @Html.TextBoxFor(m => m.CustomerId, new { @type = "hidden" })
                                        @Html.TextBoxFor(m => m.VehicleId, new { @type = "hidden" })
                                        Html.RenderPartial("~/Views/CallLoggingPSF/psfKalyaniComplaint.cshtml", Model);
                                        //Html.RenderPartial("~/Views/CallLoggingPSF/psfHyundaiComplaint.cshtml", Model);
                                    }
                                }
                            }
                            else if (Session["DealerCode"].ToString() == "INDUS" || Session["DealerCode"].ToString() == "KATARIA" || Session["DealerCode"].ToString() == "JAYABHERIAUTO" || Session["DealerCode"].ToString() == "PLATINUMMOTOCORP" || Session["DealerCode"].ToString() == "SPEEDAUTO" || Session["DealerCode"].ToString() != "KALYANIMOTORS" && Session["DealerCode"].ToString() != "JDAUTONATION")
                            {

                                if (ViewBag.typeOfDispo == "PSF" && ViewBag.dispositionHistory != "PSFComplaints" && ViewBag.dispositionHistory != "PSFRM")
                                {
                                    using (Html.BeginForm("addIndusPsfDispo", "CallLoggingPSF", FormMethod.Post))
                                    {
                                        @Html.TextBoxFor(m => m.CustomerId, new { @type = "hidden" })
                                        @Html.TextBoxFor(m => m.VehicleId, new { @type = "hidden" })
                                        if (Model.isCEIPSF == true)
                                        {
                                            @Html.TextBoxFor(m => m.isCEIPSF, new { @type = "hidden" })

                                            Html.RenderPartial("~/Views/CallLogging/psfIndus15thDayDispoPartial.cshtml", Model);
                                        }
                                        else
                                        {
                                            Html.RenderPartial("~/Views/CallLogging/psfIndus6thDayDispoPartial.cshtml", Model);
                                        }
                                    }
                                }
                                else if (ViewBag.typeOfDispo == "PSF" && ViewBag.dispositionHistory == "PSFComplaints")
                                {
                                    using (Html.BeginForm("psfComplaintPost", "CallLoggingPSF", FormMethod.Post))
                                    {
                                        @Html.TextBoxFor(m => m.CustomerId, new { @type = "hidden" })
                                        @Html.TextBoxFor(m => m.VehicleId, new { @type = "hidden" })
                                        Html.RenderPartial("~/Views/CallLogging/indusPsfComplaintPartial.cshtml", Model);
                                    }
                                }
                                else if (ViewBag.typeOfDispo == "PSF" && ViewBag.dispositionHistory == "PSFRM")
                                {
                                    using (Html.BeginForm("psfComplaintPost", "CallLoggingPSF", FormMethod.Post))
                                    {
                                        @Html.TextBoxFor(m => m.CustomerId, new { @type = "hidden" })
                                        @Html.TextBoxFor(m => m.VehicleId, new { @type = "hidden" })
                                        Html.RenderPartial("~/Views/CallLogging/indusPSFRMPartial.cshtml", Model);
                                    }
                                }
                            }
                        }
                    }
                    else if (ViewBag.typeOfDispo == "PostSalesFeedback")
                    {
                        if (ViewBag.typeOfDispo == "PostSalesFeedback" && ViewBag.dispositionHistory != "PostSalesFeedbackComplaints" && ViewBag.dispositionHistory == "PostSalesFeedbackDays")
                        {
                            using (Html.BeginForm("addpostsalesfeedback", "CallLoggingPostSalesFeedback", FormMethod.Post))
                            {
                                @Html.TextBoxFor(m => m.CustomerId, new { @type = "hidden" })
                                @Html.TextBoxFor(m => m.VehicleId, new { @type = "hidden" })
                                @Html.TextBoxFor(m => m.PsfCreBucketId, new { @type = "hidden" })
                                @Html.TextBoxFor(m => m.postsalesChasis, new { @type = "hidden", @Value = Model.vehi.chassisNo })

                                Html.RenderPartial("~/Views/CallLoggingPostSalesFeedback/PostSalesFeedback.cshtml", Model);
                            }
                        }
                        else if (ViewBag.typeOfDispo == "PostSalesFeedback" && ViewBag.dispositionHistory == "PostSalesFeedbackComplaints")
                        {
                            using (Html.BeginForm("psfComplaintPost", "CallLoggingPostSalesFeedback", FormMethod.Post))
                            {
                                @Html.TextBoxFor(m => m.CustomerId, new { @type = "hidden" })
                                @Html.TextBoxFor(m => m.VehicleId, new { @type = "hidden" })

                                Html.RenderPartial("~/Views/CallLoggingPostSalesFeedback/postsalesComplaint.cshtml", Model);
                            }
                        }
                    }
                    <div class="row animated  bounceInRight" style="display:none;" id="SendSMSDiv">
                        <div class="col-md-12">
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label class="form-check-label"><input type="checkbox" id="sendbookingsmschk" checked class="form-check-input" onclick="checksmsenable()" /><b>  Send SMS </b> </label>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        }
        @*@if (ViewBag.TypeOfDispo == "Service")
            {
                Html.RenderPartial("ServiceOutBound");
            }*@
    </div>


</div>


<!--INTERACTION HISTORY-->
<div class="row">
    <div class="col-md-12  panelsm">
        <div class="panel panel-primary">
            <div class="panel-heading " align="center" style="background-color:#1797be;" data-toggle="collapse" data-parent="#accordion" data-target="#collapseOne3">
                <img src="~/public/images/INTERACTION.png" style="width:17px">&nbsp;<b>INTERACTION HISTORY</b>
            </div>
            <div id="collapseOne3" class="panel-collapse collapse">
                <div class="panel-body panelsm">
                    <div class="panel with-nav-tabs">
                        <div class="panel-heading clearfix panelsm">
                            <div>
                                <ul class="nav nav-tabs">
                                    <!--  <li class="expand"><a href="#tab1primary" data-toggle="tab" onclick="callHistoryByVehicle();">PREVIOUS COMMENTS</a></li> -->


                                    <li class="expand"><a href="#tab2primary" data-toggle="tab" onclick="callHistoryByVehicle('INS');">INSURANCE CALL HISTORY</a></li>
                                    <li class="expand"><a href="#tab3primary" data-toggle="tab" onclick="smsHistoryOfUser();">SMS</a></li>
                                    <li class="expand"><a href="#tab4primary" data-toggle="tab" onclick="emailHistoryOfVehicle();">E-Mail</a></li>


                                    @if (ViewBag.typeOfDispo == "insurance" || ViewBag.typeOfDispo == "insuranceSearch")
                                    {
                                        <li class="expand"><a href="#tab6primary" data-toggle="tab" onclick="insuranceHistoryOfCustomer();">INS. QUOTATIONS</a></li>
                                        <li class="expand"><a href="#tab7primary" data-toggle="tab" onclick="AssignmentHistoryOfCustomer('insurance');">INS ASSIGNMENT HISTORY</a></li>
                                        if (Session["OEM"].ToString() == "MARUTI SUZUKI" || Session["DealerCode"].ToString() == "POPULAR")
                                        {
                                            <li class="expand"><a href="#tab8primary" data-toggle="tab" onclick="getFEInteractionData();">FE INTERACTION</a></li>
                                        }

                                        if ((Session["OEM"].ToString() == "MARUTI SUZUKI" || Session["DealerCode"].ToString() == "POPULAR") && (Session["DealerCode"].ToString() == "INDUS" && Session["UserRole"].ToString() != "CRE"))
                                        {
                                            <li class="expand"><a href="#tab9primary" data-toggle="tab" onclick="getPolicyDropInteraction();">Policy Drop</a></li>
                                        }

                                        <li class="expand"><a href="#tab10primary" data-toggle="tab" onclick="Assigncoupons();">COUPONS</a></li>
                                    }
                                    @if (ViewBag.typeOfDispo == "Service" || ViewBag.typeOfDispo == "serviceSearch" || ViewBag.TypeOfDispo == "Service_MCP")
                                    {
                                        <li class="expand"><a href="#tab2primary" data-toggle="tab" onclick="callHistoryByVehicle('SMR');">SERVICE</a></li>
                                        <li class="expand"><a href="#tab5primary" data-toggle="tab" onclick="complaintsOFVehicle();">COMPLAINTS</a></li>
                                        <li class="expand"><a href="#tab10primary" data-toggle="tab" onclick="Assigncoupons();">COUPONS</a></li>
                                        <li class="expand"><a href="#tab7primary" data-toggle="tab" onclick="AssignmentHistoryOfCustomer('service');">SMR ASSIGNMENT HISTORY</a></li>
                                        <li class="expand"><a href="#driverAppInter" data-toggle="tab" onclick="getDriverAppInteraction();">Driver App Interaction</a></li>
                                    }
                                    @if (ViewBag.typeOfDispo == "PSF")
                                    {
                                        <li class="expand"><a href="#tab7primary" data-toggle="tab" onclick="AssignmentHistoryOfCustomer('psf');">PSF ASSIGNMENT HISTORY</a></li>
                                        <li class="expand"><a href="#tab2primary" data-toggle="tab" onclick="callHistoryByVehicle('PSF');">PSF</a></li>
                                        <li class="expand"><a href="#tab2primary" data-toggle="tab" onclick="callHistoryByVehicle('PostSalesFeedback');">Post Sales Feedback</a></li>
                                    }
                                </ul>
                            </div>
                        </div>
                        <div class="panel-body panelsm">
                            <div class="tab-content">
                                <div class="tab-pane fade" id="tab2primary">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="form-group">
                                                <table width="100%" class="table table-striped table-bordered table-hove" id="dispositionHistory">
                                                    <thead style="overflow:hidden;">
                                                        <tr>
                                                            <th style="text-align:center">AssignID</th>
                                                            <th style="text-align:center">JobCard Number</th>
                                                            <th style="text-align:center">Call Date</th>
                                                            <th style="text-align:center">Call Time</th>
                                                            <th style="text-align:center">CRE</th>
                                                            <th style="text-align:center">Campaign</th>
                                                            <th style="text-align:center" id="serviceType" class="callMadeCs">ServiceType</th>
                                                            <th style="text-align:center">Secondary Disposition</th>
                                                            <th style="text-align:center">Details</th>
                                                            <th style="text-align:center; width:50px;">CRE Remarks</th>
                                                            <th style="text-align:center">Feedback</th>
                                                            <th style="text-align:center" id="thcallMadeType" class="callMadeCs">CallMade Type</th>
                                                            <th style="text-align:center">IsCallinitiated?</th>
                                                            <th style="text-align:center">Call Mode</th>
                                                            <th style="text-align:center">DailedNo</th>
                                                            <th style="text-align:center">Recording</th>
                                                            <th style="text-align:center">Download</th>
                                                            @*<th style="text-align:center">Call Type</th>*@
                                                            @* <th style="text-align:center">ViewMore</th>*@


                                                        </tr>
                                                    </thead>
                                                    <tbody id="dispoHistBody" style="font-weight: 100; color:black;font-weight:600"></tbody>

                                                </table>
                                                <a text="View More" data-toggle='modal' data-target='#smrviewmoreModal' onclick="callHistoryByVehicle_viewmore()">viewmore</a>
                                                <span id="tblException" style="font-size:12pt;color:red;"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="tab3primary">
                                    <div class="row table-responsive">
                                        <div class="col-sm-12">
                                            <table class="table table-bordered table-responsive" id="sms_history">
                                                <thead>
                                                    <tr>
                                                        <th>DATE</th>
                                                        <th>TIME</th>
                                                        <th>SOURCE AUTO/CRE ID</th>
                                                        <th>SCENARIO</th>
                                                        <th>PHONE NO.</th>
                                                        <th>MSG TYPE</th>
                                                        <th>MESSAGE</th>
                                                        <th>STATUS</th>

                                                    </tr>
                                                </thead>
                                                <tbody></tbody>
                                            </table>
                                            <span id="tblsmsHstry" style="font-size:12pt;color:red;"></span>

                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="tab4primary">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="form-group table-responsive">
                                                <table class="table table-bordered table-responsive table-user-information" id="email_history">
                                                    <thead>
                                                        <tr>
                                                            <th>DATE</th>
                                                            <th>TIME</th>
                                                            <th>AUTO/CRE ID</th>
                                                            <th>FROM EMAIL ID</th>
                                                            <th>TO EMAIL ID</th>
                                                            <th>CC EMAIL ID</th>
                                                            <th>EMAIL TYPE</th>
                                                            <th>EMAIL SUBJECT</th>
                                                            <th>EMAIL CONTENT</th>
                                                            <th>REASON</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>
                                                <span id="tblHstry" style="font-size:12pt;color:red;"></span>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="tab5primary">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="form-group table-responsive">
                                                <table class="table table-bordered table-striped table-hover" id="complaint_history">
                                                    <thead>
                                                        <tr>
                                                            <th>COMPLAINT No.</th>
                                                            <th>ISSUE DATE</th>
                                                            <th>SOURCE</th>
                                                            <th>FUNCTION</th>
                                                            <th>CATEGORY</th>
                                                            <th>STATUS</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>
                                                <span id="tblcomplaintHstry" style="font-size:12pt;color:red;"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="tab6primary">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="form-group table-responsive">
                                                <table class="table  table-striped table-bordered tblIns table-hover" id="insurance_history">
                                                    <thead>
                                                        <tr>
                                                            <th>Send SMS</th>
                                                            <th>Send Email</th>
                                                            <th>Quotation Date</th>
                                                            <th>CRE Name</th>
                                                            <th>Insurance Co.</th>
                                                            <th>Gross Premium</th>
                                                            <th>Transaction Status</th>
                                                            <th>Transaction Id</th>
                                                            <th>IDV</th>
                                                            <th>Rate %</th>
                                                            <th>NCB %</th>
                                                            <th>NCB (Rs.)</th>
                                                            <th>Disc %</th>
                                                            <th>Disc (Rs.)</th>
                                                            <th>OD Premium</th>
                                                            <th>Add-On Premium</th>
                                                            <th>Liablity Premium</th>
                                                            <th>Other Charges</th>
                                                            <th>Package Premium</th>
                                                            <th>Comment</th>

                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>
                                                <span id="tblINSQutnhstryException" style="font-size:12pt;color:red;"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="tab-pane fade" id="tab7primary">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="form-group table-responsive">
                                                <table class="table  table-striped table-bordered tblIns table-hover" id="assignment_smr_history">
                                                    <thead>
                                                        <tr>
                                                            <th>ASSIGNED ID</th>
                                                            <th>ASSIGNED DATE</th>
                                                            <th>ASSIGNED BY</th>
                                                            <th>ASSIGNED TO</th>
                                                            <th>STATUS</th>
                                                            <th>Service Type</th>
                                                            <th>LAST DISPOSITION</th>
                                                            <th>RE-ASSIGNED DONE?</th>
                                                            <th>RE-ASSIGNMENT HISTORY</th>
                                                            <th>Reason For Drop</th>
                                                            @*<th>View More</th>*@
                                                            <th>Date Of Drop</th>
                                                            <th>Campaign</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>

                                                </table>
                                                <span id="tbsmrhstryException" style="font-size:12pt;color:red;"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="modal fade" id="insassignviewmoreModal" role="dialog">
                                    <div class="modal-dialog modal-lg" style="width:90%">

                                        <!-- Modal content-->
                                        <div class="modal-content">
                                            <div class="modal-header" style="padding: 5px; text-align: center;">
                                                <button type="button" class="close" data-dismiss="modal"><img src="~/public/images/close1.png"></button>
                                                <h4 class="modal-title"><b>ASSIGNMENT HISTORY</b></h4>
                                            </div>
                                            <div class="modal-body" style="padding: 5px;">
                                                <div id="insassignInfo">
                                                    <table id="tblinsassignviewmore" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">

                                                        <thead class="makefixed">
                                                            <tr>
                                                                <th>ASSIGNED ID</th>
                                                                <th>ASSIGNED DATE</th>
                                                                <th>ASSIGNED BY</th>
                                                                <th>ASSIGNED TO</th>
                                                                <th>STATUS</th>
                                                                <th>Service Type</th>
                                                                <th>LAST DISPOSITION</th>
                                                                <th>RE-ASSIGNED DONE?</th>
                                                                <th>RE-ASSIGNMENT HISTORY</th>
                                                                <th>Reason For Drop</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody></tbody>
                                                    </table>
                                                    <span id="tblinsassignerror"></span>

                                                </div>
                                            </div>

                                        </div>

                                    </div>
                                </div>

                                <div class="modal fade" id="insurancedatepickermodal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                                    <div class="modal-dialog">
                                        <div class="modal-content" style="width:500px;text-align:center">
                                            <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                                <h4 class="modal-title" id="myModalLabel" style="font-weight:bold;color:black">UPDATE INSURANCE DUE DATE</h4>
                                            </div>
                                            <div class="modal-body">
                                                <input style="display:none" type="text" id="hdn-in-manualDate" />
                                                <div id="man-assignedDatepicker"></div>
                                            </div>

                                            <div class="modal-footer" style="text-align:center">
                                                <button type="button" id="btn-save-manualAssignedDate" class="btn btn-success">Save</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="modal fade" id="smrviewmoreModal" role="dialog">
                                    <div class="modal-dialog modal-lg" style="width:90%">

                                        <!-- Modal content-->
                                        <div class="modal-content">
                                            <div class="modal-header" style="padding: 5px; text-align: center;">
                                                <button type="button" class="close" data-dismiss="modal"><img src="~/public/images/close1.png"></button>
                                                <h4 class="modal-title"><b>SMR/INS/PSF</b></h4>
                                            </div>
                                            <div class="modal-body" style="padding: 5px;">
                                                <div id="smrviewmoreInfo">
                                                    <table id="tblsmrviewmore" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">

                                                        <thead class="makefixed">
                                                            <tr>
                                                                <th style="text-align:center">AssignID</th>
                                                                <th style="text-align:center">JobCard Number</th>
                                                                <th style="text-align:center">Call Date</th>
                                                                <th style="text-align:center">Call Time</th>
                                                                <th style="text-align:center">CRE</th>
                                                                <th style="text-align:center">Campaign</th>
                                                                <th style="text-align:center" id="serviceType" class="callMadeCs">ServiceType</th>
                                                                <th style="text-align:center">Secondary Disposition</th>
                                                                <th style="text-align:center">Details</th>
                                                                <th style="text-align:center; width:50px;">CRE Remarks</th>
                                                                <th style="text-align:center">Feedback</th>
                                                                <th style="text-align:center" id="thcallMadeType" class="callMadeCs">CallMade Type</th>
                                                                <th style="text-align:center">IsCallinitiated?</th>
                                                                <th style="text-align:center">Call Mode</th>
                                                                <th style="text-align:center">DailedNo</th>
                                                                <th style="text-align:center">Recording</th>
                                                                <th style="text-align:center">Download</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody></tbody>
                                                    </table>
                                                    <span id="tblsmrviewmoreerror"></span>

                                                </div>
                                            </div>

                                        </div>

                                    </div>
                                </div>

                                <div class="tab-pane fade" id="driverAppInter">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="form-group table-responsive">
                                                <table class="table  table-striped table-bordered tblIns table-hover" id="tblDriverAppInter">
                                                    <thead style="text-transform:uppercase">
                                                        <tr>
                                                            <th>Assign Id</th>
                                                            <th>CRE Name</th>
                                                            <th>Driver Name</th>
                                                            <th>Interaction DateTime</th>
                                                            <th>Last Interaction Type</th>
                                                            <th>Payment Collected</th>
                                                            <th>Payment Details</th>
                                                            <th>Payment Remarks</th>
                                                            <th>Disposition</th>
                                                            <th>Details</th>
                                                            <th>Reasons/Remarks</th>
                                                            <th>Images</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>

                                                </table>
                                            </div>
                                            <span id="tblExceptionDriver" style="font-size:14px;color:red;"></span>
                                        </div>
                                    </div>
                                </div>

                                <div class="tab-pane fade" id="tab8primary">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="form-group table-responsive">
                                                <table class="table table-bordered table-responsive table-user-information" id="tbl_fe_interactions">
                                                    <thead style="text-transform:uppercase">
                                                        <tr>
                                                            <th>ASSIGNED&nbsp;ID</th>
                                                            <th>cre&nbsp;name</th>
                                                            <th>dse&nbsp;name</th>
                                                            <th>action&nbsp;date&nbsp;time</th>
                                                            <th>appointment&nbsp;type</th>
                                                            <th>attempt&nbsp;status</th>
                                                            <th>disposition</th>
                                                            <th>details</th>
                                                            <th>REMARKS/COMMENTS</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>

                                                </table>
                                            </div>
                                            <span id="tblExceptionFE" style="font-size:14px;color:red;"></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="tab9primary">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="form-group table-responsive">
                                                <table class="table table-bordered table-responsive table-user-information" id="tbl_policydrop_interactions">
                                                    <thead style="text-transform:uppercase">
                                                        <tr>
                                                            <th>ID</th>
                                                            <th>cre&nbsp;name</th>
                                                            <th>dse&nbsp;name</th>
                                                            <th>call&nbsp;date</th>
                                                            <th>appointment&nbsp;date</th>
                                                            <th>appointment&nbsp;time</th>
                                                            <th>location</th>
                                                            <th>cre&nbsp;remakrs</th>
                                                            <th>customer&nbsp;remarks</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>

                                                </table>
                                            </div>
                                            <span id="tblExceptionPolicyDrop" style="font-size:14px;color:red;"></span>
                                        </div>
                                    </div>
                                </div>

                                <div class="tab-pane fade" id="tab10primary">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="form-group table-responsive">
                                                <table class="table table-bordered table-striped table-hover" id="coupon_history">
                                                    <thead>
                                                        <tr>
                                                            <th>COUPON ID</th>
                                                            <th>COUPON NAME</th>
                                                            <th>COUPON ISSUE DATE</th>
                                                            <th>COUPON EXPIRY DATE</th>
                                                            <th>CRE NAME</th>
                                                            <th>STATUS</th>
                                                            <th>REDEMPTION DATE</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>
                                                <span id="tblExceptionCoupons" style="font-size:12pt;color:red;"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>





<!-- Document Upload part-->
<div class="row">
    <div class="col-lg-12 panelsm">
        <div class="panel panel-primary">
            <div class="panel-heading" id="docPanel" data-toggle="collapse" onclick="getDocuments();" data-parent="#accordion" data-target="#collapseOne4" align="center" style="background-color:#1797be;">
                <img src="~/public/images/docUpload.png" style="width:17px">&nbsp;<b>DOCUMENT UPLOAD HISTORY</b>
            </div>
            <div id="collapseOne4" class="panel-collapse collapse">
                <div class="panel-body panelsm">
                    <div class="row animated  bounceInRight">
                        <div class="col-lg-12">
                            <div class="form-group table-responsive">
                                <table class="table table-bordered table-responsive table-user-information" id="tblDocument">
                                    <thead>
                                        <tr>
                                            <th>DEPT</th>
                                            <th>USER</th>
                                            <th>UPLOAD DATE TIME</th>
                                            <th>DOCUMENT NAME</th>
                                            <th>LINK</th>
                                            <th>WHATSAPP</th>
                                            <th>EMAIL</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                        <div class="col-lg-12">
                            @using (Ajax.BeginForm("uploadDocument", "CallLogging", null, new AjaxOptions { OnSuccess = "fileSuccess", OnFailure = "fileFailure", HttpMethod = "POST" }, new { @enctype = "multipart/form-data" }))
                            {

                                <div class="panel-heading">Upload New document</div>
                                <div class="col-lg-3">
                                    <div class="form-group">
                                        <label for="customerName">Tag to Dept<i style="color:red">*</i>:</label>
                                        @Html.DropDownListFor(m => m.docHistory.deptName, new List<SelectListItem> {
                                                    new SelectListItem{Text="Service",Value="Service" },
                                                    new SelectListItem{Text="Insurance",Value="Insurance"},
                                                    new SelectListItem{Text="PSF",Value="PSF"}
                                                }, "select", new { @class = "form-control", required = "required", @id = "deptName" })
                                    </div>
                                </div>
                                <div class="col-lg-3">
                                    <div class="form-group">
                                        <label for="customerName">Document Name<i style="color:red">*</i>:</label>
                                        @Html.TextBoxFor(m => m.docHistory.documentName, "", new { @class = "form-control", @required = "required", @id = "documentName", @autocomplete = "off" })
                                    </div>
                                </div>
                                <div class="col-lg-3">
                                    <div class="form-group">
                                        <label for=""><i style="color:red">*Maximum 3 files allowed to upload</i></label>
                                        @Html.TextBoxFor(m => m.docHistory.fileList, "", new { @type = "file", @required = "required", @multiple = "multiple", onchange = "NumOfFile(this)", @autocomplete = "off", @id = "fileList", @accept = "image/gif,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel, image/jpeg, image/png,application/pdf", })
                                    </div>
                                </div>
                                <div class="col-lg-3">
                                    <div class="form-group">
                                        <input type="submit" value="UPLOAD" id="btnSubmit" />
                                        @*<button type="button" id="btnSubmit" onclick="postFileData()">Upload</button>*@
                                        <label for=""><i style="color:red">*Allowed File Formats ['docx','png','xlsx','xls','jpg','jpeg','pdf']</i></label>
                                    </div>
                                </div>
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Insurance Information-->
<div class="row">
    <div class="col-lg-12 panelsm">
        <div class="panel panel-primary">
            <div class="panel-heading" data-toggle="collapse" data-parent="#accordion" data-target="#collapseOne5" align="center" style="background-color:#1797be">
                <img src="/public/images/car-insu.jpg" style="width: 17px;" data-toggle="tooltip" data-placement="left"> &nbsp;<b>INSURANCE INFORMATION</b>
            </div>
            <div id="collapseOne5" class="panel-collapse collapse ">
                <div class="panel-body panelsm">
                    <div class="row animated  bounceInRight">


                        <!-- <div class="modal fade" id="indusinsuPullouts" role="dialog">
                         <div class="modal-dialog modal-lg" style="width:90%;max-height:590px;"> -->
                        <!-- Modal content-->
                        <div class="modal-content">
                            <!-- <div class="modal-header" style="padding: 5px; text-align: center;">
                                <button type="button" class="close crossBtnCorner" data-dismiss="modal"><img src="~/public/images/close1.png"></button>
                                <h4 class="modal-title">INSURANCE INFORMATION</h4>
                            </div> -->
                            <div class="modal-body" style="padding: 5px;">
                                <div style="color:black" class="table-responsive">
                                    <table class="table table-striped" id="InduspullOutIns" style="white-space:nowrap">

                                        <thead class="makefixed">
                                            <tr>
                                                <th>Policy Issue Date</th>
                                                <th>Policy Number</th>
                                                <th>Insurance Company</th>
                                                <th>Policy type</th>
                                                <th>Class</th>
                                                <th>Due Date</th>
                                            </tr>
                                        </thead>
                                        <tbody>

                                            @if (Model.cust.insurances != null)
                                            {
                                                foreach (var insuranceData in Model.cust.insurances.OrderByDescending(m => m.policyIssueDate))
                                                {
                                                    if (insuranceData.cancellation_uploadid > 0)
                                                    {
                                                        @:<tr style="color: red;cursor: pointer;" class="parent" id="@insuranceData.id" title="Click to expand/collapse">
                                                        }
                                                        else
                                                        {

                                                            @:
                                                        <tr class="parent" id="@insuranceData.id" title="Click to expand/collapse" style="cursor: pointer;">
                                                            }


                                                            <td>
                                                                @if (insuranceData.policyIssueDate != null)
                                                                {@Convert.ToDateTime(insuranceData.policyIssueDate).ToString("dd-MM-yyyy")}
                                                            </td>
                                                            <td>
                                                                @if (!string.IsNullOrEmpty(insuranceData.policyNo))
                                                                {
                                                                    @insuranceData.policyNo.Replace("'", "");
                                                                }
                                                            </td>
                                                            <td>@insuranceData.insuranceCompanyName</td>
                                                            <td>@insuranceData.policyType</td>
                                                            <td>@insuranceData.classType</td>
                                                            <td>
                                                                @if (insuranceData.policyDueDate != null)
                                                                {@Convert.ToDateTime(insuranceData.policyDueDate).ToString("dd-MM-yyyy")}
                                                            </td>



                                                        </tr>
                                                        @:<tr class="child-@insuranceData.id" style="display: none;">
                                                            <td colspan="6">
                                                                <table class="table" border="2">
                                                                    <tr style=" background-color:lightblue">
                                                                        <th>Policy Issue Date</th>
                                                                        <th>Policy No</th>
                                                                        <th>Insurance Company</th>
                                                                        <th>GROSS PREMIUM</th>
                                                                        <th>Policy Type</th>
                                                                        <th>DEALERCODE</th>
                                                                        <th>PRODUCT TYPE</th>
                                                                        <th>EFFECTIVE DATE</th>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>
                                                                            @if (insuranceData.policyIssueDate != null)
                                                                            {@Convert.ToDateTime(insuranceData.policyIssueDate).ToString("dd-MM-yyyy")}
                                                                        </td>
                                                                        <td>
                                                                            @if (!string.IsNullOrEmpty(insuranceData.policyNo))
                                                                            {
                                                                                @insuranceData.policyNo.Replace("'", "");
                                                                            }
                                                                        </td>


                                                                        <td>@insuranceData.insuranceCompanyName</td>
                                                                        <td>@insuranceData.grossPremium</td>
                                                                        <td>@insuranceData.policyType</td>
                                                                        <td>@insuranceData.dealer</td>
                                                                        <td>@Model.policyrenewallist.producttype</td>
                                                                        <td>
                                                                            @if (insuranceData.policyIssueDate != null)
                                                                            {@Convert.ToDateTime(insuranceData.policyIssueDate).ToString("dd-MM-yyyy")} <!--need to check-->
                                                                        </td>
                                                                    </tr>
                                                                    <tr style="background-color: lightblue">
                                                                        <th>PA COVER</th>
                                                                        <th>LEGAL LIABILITY</th>
                                                                        <th>NET LIABILITY</th>
                                                                        <th>POLICY TENURE</th>
                                                                        <th>ADD-ON OPTED</th>
                                                                        <th>NCB %</th>
                                                                        <th>NCB AMOUNT</th>
                                                                        <th>OD DISCOUNT</th>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>@insuranceData.pacover</td><!--need to check-->
                                                                        <td>@insuranceData.legalLiability</td>
                                                                        <td>@insuranceData.netLiability</td>
                                                                        <td>@insuranceData.coveragePeriod</td>
                                                                        <td>@insuranceData.addOnOpted</td>   <!--need to check-->
                                                                        <td>@insuranceData.ncBPercentage</td>
                                                                        <td>@insuranceData.ncBAmount</td>
                                                                        <td>@insuranceData.odPercentage</td> <!--need to check-->
                                                                    </tr>
                                                                    <tr style="background-color: lightblue">
                                                                        <th>TOTAL IDV</th>
                                                                        <th>ADD ON PREMIUM A</th>
                                                                        <th>RTI PREMIUM</th>
                                                                        <th>NET OD PREMIUMCA</th>
                                                                        <th>THIRD PARTY LIABILITY</th>
                                                                        <th>Electrical Accessories Premium</th>
                                                                        <th>Non-Electrical Accessories Premium</th>
                                                                        <th>POLICY EXPIRY DATE </th>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>@insuranceData.totalIdv</td> <!--need to check-->
                                                                        <td>@insuranceData.add_ON_Premium</td>
                                                                        <td>@insuranceData.RTIPremium</td>
                                                                        <td>@insuranceData.ODpremium</td>
                                                                        <td>@insuranceData.thirdPartyLiability</td><!--need to check-->
                                                                        <td>@insuranceData.ElectricalAccessoriesPremium</td>
                                                                        <td>@insuranceData.NonElectricalAccessoriesPremium</td>
                                                                        <td>
                                                                            @if (insuranceData.policyDueDate != null)
                                                                            {@Convert.ToDateTime(insuranceData.policyDueDate).ToString("dd-MM-yyyy")}<!--need to check-->
                                                                        </td>

                                                                    </tr>
                                                                    <tr style="background-color: lightblue">
                                                                        <th>SERVICE TAX</th>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>@insuranceData.serviceTax</td>
                                                                    </tr>
                                                                    @*<tr style="background-color: lightblue">
                                                                            <th>Part A Premium</th>
                                                                            <th>Part B Premium</th>
                                                                            <th>PA Sum Insured Per Person</th>
                                                                            <th>PA No. Of Person</th>
                                                                            <th>Voluntary Excess Limit</th>
                                                                            <th>Electrical Accessories Premium</th>
                                                                            <th>Non-Electrical Accessories Premium</th>
                                                                            <th>Driver Cover Premium</th>
                                                                        </tr>
                                                                        <tr>
                                                                            <td>@insuranceData.PartAPremium</td>
                                                                            <td>@insuranceData.PartBPremium</td>
                                                                            <td>@insuranceData.paSumInsPerson</td>
                                                                            <td>@insuranceData.panoofperson</td>
                                                                            <td>@insuranceData.voluntaryexcesslimit</td>
                                                                            <td>@insuranceData.ElectricalAccessoriesPremium</td>
                                                                            <td>@insuranceData.NonElectricalAccessoriesPremium</td>
                                                                            <td>@insuranceData.DriverCoverPremium</td>
                                                                        </tr>*@
                                                                    @if (Session["DealerCode"].ToString() == "INDUS" || Session["DealerCode"].ToString() == "POPULAR")
                                                                    {
                                                                        <tr style="background-color: lightblue">
                                                                            <th>Consumable Premium</th>
                                                                            <th>RSA Premium</th>
                                                                            <th>Key Protect Premium</th>
                                                                        </tr>
                                                                        <tr>
                                                                            <td>@insuranceData.consumablepremium</td>
                                                                            <td>@insuranceData.rsapremium</td>
                                                                            <td>@insuranceData.keyprotectpremium</td>
                                                                        </tr>
                                                                    }
                                                                </table>
                                                            </td>
                                                        @:</tr>
                                                    }
                                                }
                                            }

                                        </tbody>
                                    </table>
                                    <div class="pagination-container">
                                        <nav>
                                            <ul class="pagination"></ul>
                                        </nav>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-12 panelsm">
        <div class="panel panel-primary">
            <div class="panel-heading" data-toggle="collapse" data-parent="#accordion" data-target="#collapseOne6" align="center" style="background-color:#1797be">
                <img src="/public/images/car-insu.jpg" style="width: 17px;" data-toggle="tooltip" data-placement="left"> &nbsp;<b>SERVICE INFORMATION</b>
            </div>
            <div id="collapseOne6" class="panel-collapse collapse ">
                <div class="panel-body panelsm">
                    <div class="row animated  bounceInRight">
                        <!-- Modal content-->
                        <div style="color:black;">
                            <table id="example800" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">

                                <thead class="makefixed">
                                    <tr>
                                        <th></th>
                                        <th>Uploaded Date</th>
                                        <!-- <th>Service DealerName</th>  -->
                                        <th>Repair Order&nbsp;Date</th>
                                        <th>Repair Order&nbsp;No.</th>
                                        <th>Workshop</th>
                                        <th>Bill&nbsp;Date</th>
                                        <th>Phone Number</th>
                                        <th>Kilometer</th>
                                        <!-- <th>Model</th>
                                        <th>Registration No.</th> -->
                                        <th>Service Type</th>
                                        <th>Description&nbsp;&nbsp;</th>
                                        <th>Service Advisor Name</th>
                                        <th>Technician Name</th>
                                        <!-- <th>Customer Name</th>
                                        <th>Group (Category)</th> -->
                                        <th>Part Amount</th>
                                        <th>Labour Amount</th>
                                        <th>Total Amount</th>
                                        <th>Engine hours</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>

                            </table>

                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--Ended-->
<div class="modal fade" id="smsPopuId" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header" style="text-align:center;background-color: #106A86;color: #fff;">
                <button type="button" class="close" data-dismiss="modal"><img src="~/public/images/close1.png"></button>
                <h4 class="modal-title"><b>SMS OPTIONS</b></h4>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="form-group" style="padding: 5px 17px;">
                        @if ((Session["DealerCode"].ToString() == "HARPREETFORD" || Session["DealerCode"].ToString() == "HANSHYUNDAI" || Session["DealerCode"].ToString() == "GALAXYTOYOTA" || Session["DealerCode"].ToString() == "KATARIA" || Session["DealerCode"].ToString() == "BRIDGEWAYMOTORS" || Session["DealerCode"].ToString() == "RISHABHFOURWHEELS"))
                        {
                            @Html.RadioButton("TypeOfMsg", "SMS", new { @id = "smsRadio", @onclick = "typeOfMsg(this);" }) @:&nbsp;SMS&nbsp;&nbsp;&nbsp;
                            @Html.RadioButton("TypeOfMsg", "WhatsApp", new { @id = "wtsAppRadio", @onclick = "typeOfMsg(this);" })@:&nbsp;Whatsapp InfoBip&nbsp;&nbsp;&nbsp;
                            @Html.RadioButton("TypeOfMsg", "WhatsAppNormal", new { @id = "wtsAppRadioNormal", @onclick = "typeOfMsg(this);" })@:&nbsp;WhatsApp-Normal
                        }

                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="comment">SMS Type:</label>
                            @if (Session["DealerCode"].ToString() == "HARPREETFORD" || Session["DealerCode"].ToString() == "HANSHYUNDAI" || Session["DealerCode"].ToString() == "KATARIA" || Session["DealerCode"].ToString() == "RISHABHFOURWHEELS")
                            {
                                @Html.DropDownList("ddl_SMSType", Enumerable.Empty<SelectListItem>(), "--Select--", new { @class = "form-control", @style = "text-transform:capitalize;", @id = "ddl_SMSType", @onchange = "getSMSTemplate(this.id);" })
                            }
                            else
                            {
                                @Html.DropDownList("ddl_SMSType", new SelectList(Model.smstemplates, "smsId", "smsType"), "--Select--", new { @class = "form-control", @onchange = "smsTypeChanged(this.id,'sms')", @id = "ddl_SMSType" })
                            }
                        </div>
                    </div>
                    @if (Session["UserRole1"].ToString() == "1" || (Session["UserRole1"].ToString() == "4" || Session["UserRole1"].ToString() == "2" && Session["DealerCode"].ToString() == "KATARIA"))
                    {
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="sel1">Location</label>
                                @Html.DropDownList("ddl_location", new SelectList(Model.locationList, "name", "name"), "--Select--", new { @class = "form-control", @onchange = "ajaxCallToLoadWorkShopByCity('ddl_location','ddl_workshop');", @id = "ddl_location" })
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="sel1">Workshop</label>
                                @if (Session["DealerCode"].ToString() == "HARPREETFORD" || Session["DealerCode"].ToString() == "HANSHYUNDAI" || Session["DealerCode"].ToString() == "BRIDGEWAYMOTORS")
                                {
                                    @Html.DropDownList("ddl_workshop", Enumerable.Empty<SelectListItem>(), "--Select--", new { @class = "form-control", @onchange = "workshopChanged(this.id);", @id = "ddl_workshop" })
                                }

                                else
                                {
                                    @Html.DropDownList("ddl_workshop", Enumerable.Empty<SelectListItem>(), "--Select--", new { @class = "form-control", @onchange = "locationChnaged(this.id,'sms');", @id = "ddl_workshop" })
                                }

                            </div>
                        </div>
                    }
                </div>
                <div class="col-md-12 animated bounceInDown" id="div_campSpecial" style="display:none;">
                    <div class="col-md-2">
                        <div class="form-group">
                            <label>Offer-1</label>
                            <input type="text" id="Offer1" name="Offer1" class="form-control offerCntr" />
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group">
                            <label>Offer-2</label>
                            <input type="text" id="Offer2" name="Offer2" class="form-control offerCntr" />
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group">
                            <label>Offer-3</label>
                            <input type="text" id="Offer3" name="Offer3" class="form-control offerCntr" />
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group">
                            <label>Offer-4</label>
                            <input type="text" id="Offer4" name="Offer4" class="form-control offerCntr" />
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group">
                            <label>Offer-5</label>
                            <input type="text" id="Offer5" name="Offer5" class="form-control offerCntr" />
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group">
                            <label>Offer-6</label>
                            <input type="text" id="Offer6" name="Offer6" class="form-control offerCntr" />
                        </div>
                    </div>
                </div>
                <div class="col-md-12 animated bounceInDown" id="dateTimeDiv" style="display:none">
                    @if ((Session["DealerCode"].ToString() == "HARPREETFORD" || Session["DealerCode"].ToString() == "HANSHYUNDAI" || Session["DealerCode"].ToString() == "GALAXYTOYOTA" || Session["DealerCode"].ToString() == "RISHABHFOURWHEELS") && (Session["UserRole1"].ToString() != "2"))

                    {
                        <div class="col-md-3 animated bounceInLeft" id="div_date" style="display:none;">
                            <div class="form-group">
                                <label>Select Date</label>
                                <input type="text" id="bookingDate" placeholder="Booking Date" name="bookingDate" class="form-control datePickerFilterTo" readonly />
                            </div>
                        </div>

                        <div class="col-md-3 animated bounceInLeft" id="div_dateFrom" style="display:none;">
                            <div class="form-group">
                                <label>Select Date</label>
                                <input type="text" id="bookingDatFrom" placeholder="Offer From Date" name="bookingDatFrom" class="form-control datePicker" readonly />
                            </div>
                        </div>
                    }
                    <div class="col-md-3 animated bounceInLeft" id="div_offerEndDate" style="display:none;">
                        <div class="form-group">
                            <label>Select Date</label>
                            <input type="text" id="bookingDateTo" placeholder="Offer End Date" name="bookingDateTo" class="form-control datePicker" readonly />
                        </div>
                    </div>
                    @if ((Session["DealerCode"].ToString() == "HARPREETFORD" || Session["DealerCode"].ToString() == "HANSHYUNDAI" || Session["DealerCode"].ToString() == "GALAXYTOYOTA" || Session["DealerCode"].ToString() == "RISHABHFOURWHEELS") && (Session["UserRole1"].ToString() != "2"))
                    {
                        <div class="col-md-3 animated bounceInLeft" id="div_bTime">
                            <div class="form-group">
                                <label>Select Time</label>
                                <input type="text" id="bookingTime" placeholder="Booking Time" name="bookingTime" class="form-control timepicker_7" readonly />
                            </div>
                        </div>
                    }
                    <div class="col-md-3 animated bounceInLeft" style="display:none;" id="div_campName">
                        <div class="form-group">
                            <label>Campaign Name</label>
                            <input type="text" id="txtCampName" name="txtCampName" class="form-control" />
                        </div>
                    </div>
                    <div class="col-md-3 animated bounceInLeft" style="display:none;" id="div_amount">
                        <div class="form-group">
                            <label>Amount</label>
                            <input type="number" min="0" id="txtAmount" name="txtAmt" class="form-control" />
                        </div>
                    </div>
                </div>
                <div class="col-md-12 animated bounceInRight" style="display:none;" id="infoBip_btn">
                    <div class="form-group" style="margin-left:15px">
                        <button type="button" id="wtsappTemplate" name="wtsappTemplate" onclick="getTemplateForWhatsapp();" class="btn btn-sm btn-info">Get Template</button><br />
                        <label for="wtsappTemplate" style="color:red;font-size:9pt;font-family:Consolas">First click on <i>Get Template</i> before sending...</label>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="col-md-12">
                        <div class="form-group">
                            <label for="comment">SMS Template:</label>
                            <textarea class="form-control" rows="5" id="smstemplate"></textarea>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                @if (Session["DealerCode"].ToString() == "HARPREETFORD" || Session["DealerCode"].ToString() == "HANSHYUNDAI" || Session["DealerCode"].ToString() == "GALAXYTOYOTA" || Session["DealerCode"].ToString() == "RISHABHFOURWHEELS" || Session["DealerCode"].ToString() == "BRIDGEWAYMOTORS")
                {
                    <button type="button" id="sendMsg" class="btn btn-default" data-dismiss="modal" disabled="disabled" onclick="sendMessage();"><img src='~/public/images/sms_logo.jpg' style="width: 20px;">&nbsp;Send</button>
                    <button type="button" id="btn_whatsapp" style="display:none;" class="btn btn-default whatsapp" onclick="OpenWhatsApp(this)" data-dismiss="modal"><img src='~/public/images/whatsapp_logo.png' style="width: 20px;">&nbsp;Message</button>
                }
                else
                {
                    <button type="button" id="smsSendbtn" class="btn btn-default smsSendType" data-dismiss="modal" onclick="sendSMS();"><img src='~/public/images/sms_logo.jpg' style="width: 20px;">&nbsp;Text</button>
                    <button type="button" id="whatsapp" class="btn btn-default whatsapp" onclick="OpenWhatsApp(this)" data-dismiss="modal"><img src='~/public/images/whatsapp_logo.png' style="width: 20px;">&nbsp;Message</button>
                }
                @*<a href="#" class="btn btn-default" target="_blank" id="whatsapp"><img src='~/public/images/whatsapp_logo.png' style="width: 20px;">&nbsp;Message</a>*@
                @*<lable style="display:none;" id="buttonview">Please Wait...</lable>
                    <i class="fa fa-phone fa-mobile-phone fa-"></i>*@
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="whatsAppModal" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title"><b>Select Sending Status</b></h4>
            </div>
            <div class="modal-body">
                <select id="whatsAppStatus" name="whatsAppStatus" style="width:200px; height:30px">
                    <option value="Send Successfully">Send Successfully</option>
                    <option value="Sending failed">Sending failed</option>
                    <option value="User not on WhatsApp">User not on WhatsApp</option>
                </select>
                <span id="whatsAppBtn" class="btn btn-default smsSendType" data-from="popUp" onclick="putWhatsappResponse(this)" style="float:right" data-dismiss="modal">Submit</span>
            </div>
        </div>
    </div>
</div>


<!--******************************* Add Customer Modal PopUp *********************-->
<!--********************  CHETHAN CHANGES ******************************-->
<!--************************* Customal Edit Modal popUp *******************************************-->
<!--******************************* Add Customer Modal PopUp *********************-->
<!--********************  CHETHAN CHANGES ******************************-->
<!--************************* Customal Edit Modal popUp *******************************************-->
<div class="modal fade" id="addBtn" role="dialog">
    <div class="modal-dialog modal-lg">
        @using (Ajax.BeginForm("customerSave", "customerUpdate", new AjaxOptions { OnSuccess = "custSaveSuccess", OnFailure = "custSaveFailure", HttpMethod = "POST" }))
        {
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header" style="padding:1px;text-align:center;color:red;">
                    <button type="button" class="close" data-dismiss="modal"><img src="~/public/images/close1.png"></button>
                    <h5 class="modal-title">UPDATE CUSTOMER INFORMATION</h5>
                </div>
                @if (ViewBag.typeOfDispo != "insurance")
                {
                    <div class="modal-body mbheight">
                        <div class="row">
                            <div class="col-sm-12" style="margin-top: 5px;">
                                <div class="col-sm-3">
                                    <label><b>Owner:</b></label>
                                    @Html.TextBoxFor(model => model.cust.customerName, new { @Value = Model.cust.customerName, @class = "form-control textOnlyAccepted", @id = "customerNameEdit", @readonly = "readonly" })
                                    <br />
                                </div>

                                <div class="col-sm-3">
                                    <label><b>User/Driver:</b></label>
                                    @Html.TextBoxFor(model => model.cust.userDriver, new { @Value = Model.cust.userDriver, @class = "form-control textOnlyAccepted", @id = "driverNameEdit" })
                                    <br />
                                </div>
                                <div class="col-sm-3" id="dndDivadvaithhide">
                                    <label><b>DND</b></label><br />
                                    <label class="radio-inline">
                                        @Html.RadioButtonFor(model => model.cust.doNotDisturb, true, new { @id = "dndcheckbox1" })YES
                                    </label>
                                    <label class="radio-inline">
                                        @Html.RadioButtonFor(model => model.cust.doNotDisturb, false, new { @id = "dndcheckbox2" })NO
                                    </label>
                                </div>


                                <div class="col-md-3" id="leadkataria">
                                    <label><b>Lead Tags:</b></label>
                                    <div class="col-sm-12" id="leadtagskataria" onclick="leadtaglimit()">
                                        @Html.ListBoxFor(model => model.selectedTagList, new SelectList(ViewBag.ddltagging, "id", "TaggingCamp"), new { @class = "multiselect-ui form-control", @id = "customer_lead_tag", @multiple = "multiple" })

                                    </div>
                                </div>

                                @if (Session["DealerCode"].ToString() == "INDUS" && ViewBag.insupulicyDueDate != null)
                                {
                                    <div class="col-sm-3">
                                        <label><b>Policy Due Date:</b></label>
                                        @Html.TextBoxFor(model => model.callinteraction.insuranceassignedinteraction.policyDueDate, new { @Value = ViewBag.insupulicyDueDate, @class = "form-control datepicker", @id = "policueditDuedate", @readonly = "readonly" })
                                        <br />
                                    </div>
                                }
                            </div>
                            <b />
                            <hr />
                            <div class="col-sm-12" style="margin-top: 5px;">
                                <div class="col-sm-3">
                                    <label><b>Preferred Email:</b></label>
                                    @if (Model.cust.emails.FirstOrDefault(m => m.isPreferredEmail == true) != null)
                                    {
                                        @Html.DropDownListFor(m => m.prefferedEmail, new SelectList(Model.cust.emails, "email_Id", "emailAddress", Model.cust.emails.FirstOrDefault(m => m.isPreferredEmail == true).email_Id), new { @class = "form-control", @id = "email" })
                                    }
                                    else
                                    {
                                        @Html.DropDownListFor(m => m.prefferedEmail, new SelectList(Model.cust.emails, "email_Id", "emailAddress"), "--Select--", new { @class = "form-control", @id = "email" })
                                    }
                                </div>
                                <div class="col-sm-1">
                                    <label></label>
                                    <button type="button" class="btn btn-success oeditEmailmodal" data-toggle="modal" data-target="#driver_modal4" style="margin-top: 5px;">Add</button>
                                </div>
                                <div class="col-sm-3">
                                    <label><b>Date OF Birth:</b></label>
                                    @Html.TextBoxFor(model => model.cust.dob, new { @class = "datepicMYDropDown form-control", @id = "dob", @Value = Model.cust.dob, @readonly = "readonly" })
                                </div>
                                <div class="col-md-3">
                                    <label><b>Date of Anniversary</b></label>
                                    @Html.TextBoxFor(model => model.cust.anniversary_date, new { @class = "datepicMYDropDown form-control", @id = "anniversary_date", @Value = Model.cust.anniversary_date, @readonly = "readonly" })
                                </div>
                                <div class="col-md-2" style="Display:none">
                                    <label><b>Pref Workshop</b></label>
                                    @Html.DropDownList("preff_workshop", new SelectList(Model.allworkshopList, "id", "workshopName"), "--Select--", new { @class = "form-control", @id = "preff_workshop" })
                                </div>
                            </div>
                            <hr>
                            <div class="col-sm-12" style="margin-top: 5px;">
                                <h5 style="color:Red;"><b>MANAGE PREFERENCES</b></h5>
                                <div class="col-sm-3">
                                    <label><b>Preferred Contact #:</b></label>

                                    @Html.DropDownListFor(m => m.prefferedPhone, new SelectList(Model.custPhoneList, "phone_Id", "phoneNumber"), new { @class = "form-control", @id = "preffered_contact_num" })

                                    @*@if (Model.cust.phones.FirstOrDefault(m => m.isPreferredPhone == true) != null && Model.cust.phones.FirstOrDefault(m => m.isPreferredPhone == true).phoneNumber != "")
                                        {
                                            @Html.DropDownListFor(m => m.prefferedPhone, new SelectList(Model.cust.phones, "phone_Id", "phoneNumber", Model.cust.phones.FirstOrDefault(m => m.isPreferredPhone == true).phone_Id), new { @class = "form-control", @id = "preffered_contact_num" })
                                        }
                                        else
                                        {
                                            @Html.DropDownListFor(m => m.prefferedPhone, new SelectList(Model.cust.phones, "phone_Id", "phoneNumber"), "--Select--", new { @class = "form-control", @id = "preffered_contact_num" })
                                        }*@

                                    @*<select class="form-control" id="preffered_contact_num" name="preffered_contact_num">
                                            @foreach (var ph in Model.cust.phones)
                                            {
                                                if (ph.isPreferredPhone == true)
                                                {
                                                    <option value="@ph.phone_Id" selected="selected">@ph.phoneNumber</option>
                                                }
                                                else if (ph.isPreferredPhone == false)
                                                {
                                                    <option value="@ph.phone_Id">@ph.phoneNumber</option>
                                                }
                                            }
                                        </select>*@


                                </div>
                                <div class="col-sm-2">
                                    <label></label>
                                    <span class="input-group-btn">
                                        <button type="button" style="margin-top:5px;" class="btn btn-success" id="tanniversary_edit" data-toggle="modal" data-target="#myModalAddPhone">Add</button>
                                        @if (Session["DealerCode"].ToString() != "RISHABHFOURWHEELS" && Session["DealerCode"].ToString() != "KATARIATRUCKING" && Session["DealerCode"].ToString() != "BRIDGEWAYMOTORS")
                                        {<button type="button" style="margin-top:5px;" id="deleteNum" class="btn btn-danger" data-toggle="modal" data-target="#myModalUpdatePhone">Del</button>}
                                    </span>
                                </div>
                                <div class="col-md-3">
                                    <label><b>Preferred Mode of Contact:</b></label>
                                    <div class="col-sm-12" id="modeOfContact">
                                        @Html.DropDownListFor(model => model.cust.mode_of_contact, new SelectListItem[] {
                                                   new SelectListItem() { Text = "Email", Value = "Email" },
                                                   new SelectListItem() { Text = "Phone", Value = "Phone" },
                                                   new SelectListItem() { Text = "SMS", Value = "SMS" }
                                        }, new { @class = "form-control selectpicker", @id = "preffered_mode_contact", @multiple = "multiple" })

                                    </div>
                                    @*@Html.TextBoxFor(model => model.cust.mode_of_contact, new { @class = "form-control", @id = "tpreffered_mode_contact", @Value = Model.cust.mode_of_contact, @readonly = "true" })*@

                                </div>
                                @*<div class="col-md-1">
                                    <br />
                                       <input type="button" class="btn btn-success" id="tpreffered_mode_contact_edit" value="Add">

                                       </div>*@
                                <div class="col-md-3">
                                    <label><b>Preferred Day to Contact:</b></label>
                                    <div class="col-sm-12" id="prefferedWeek">
                                        @Html.DropDownListFor(model => model.cust.preferred_day, new SelectListItem[] {
                                 new SelectListItem() { Text = "Sunday", Value = "Sunday" },
                                 new SelectListItem() { Text = "Monday", Value = "Monday" },
                                 new SelectListItem() { Text = "Tuesday", Value = "Tuesday" },
                                 new SelectListItem() { Text = "Wednesday", Value = "Wednesday" },
                                 new SelectListItem() { Text = "Thursday", Value = "Thursday" },
                                 new SelectListItem() { Text = "Friday", Value = "Friday" },
                                 new SelectListItem() { Text = "Saturday", Value = "Saturday" }
                                 }, new { @class = "form-control selectpicker", @id = "preffered_day_contact", @multiple = "multiple" })

                                    </div>
                                    @*@Html.TextBoxFor(model => model.cust.preferred_day, new { @class = "form-control", @id = "tpreffered_day_contact", @Value = Model.cust.preferred_day, @readonly = "true" })*@
                                </div>
                                @*<div class="col-md-1">
                                    <br />
                                     <input type="button" class="btn btn-success" id="tpreffered_day_contact_edit" value="Add">
                                    </div>*@
                            </div>
                            <br>
                            <hr>
                            <div class="col-sm-12" style="margin-top: 5px;">
                                <div class="col-sm-3">
                                    <label><b>Preferred Time Of Contact(Start Time):</b></label>
                                    @Html.TextBoxFor(model => model.cust.preferred_time_start, new { @class = "form-control single-input timepicker_7", id = "dateStarttime", @Value = Model.cust.preferred_time_start, @readonly = "true" })
                                </div>
                                <div class="col-md-3">
                                    <label><b>Preferred Time Of Contact(End Time):</b></label>
                                    @Html.TextBoxFor(model => model.cust.preferred_time_end, new { @class = "form-control single-input timepicker_7", id = "dateEndtime", @Value = Model.cust.preferred_time_end, @readonly = "true" })
                                </div>



                                <br />
                                <div class="col-sm-12" style="margin-top: 5px;">
                                    <div class="col-md-4">
                                        <label><b>PAN Card No:</b></label>
                                        @Html.TextBoxFor(m => m.cust.pancardno, new { @Value = Model.cust.pancardno, @placeholder = "PAN No. Not Present!! Please Add... ", @class = "form-control ", @readonly = "true", @id = "ddleditpan", onkeypress = "return blockSpecialChar(event)", @maxlength = "10" })
                                    </div>

                                    <div class="col-md-1">
                                        <br />
                                        <button type="button" class="btn btn-success" style="margin-top: 5px;" id="btneditpan">Edit</button>
                                    </div>

                                    <div class="col-md-4">
                                        <label><b>Add CKYC No:</b></label>
                                        @Html.TextBoxFor(m => m.cust.ckycno, new { @Value = Model.cust.ckycno, @class = "form-control ", @placeholder = "CKYC Not Present!! Please Add... ", @readonly = "true", @id = "ddleditkyc", onkeypress = "return blockSpecialChar(event)", @maxlength = "17" })
                                    </div>

                                    <div class="col-md-1">
                                        <br />
                                        <button type="button" class="btn btn-success" style="margin-top: 5px;" id="btneditckyc">Edit</button>
                                    </div>
                                </div>



                            </div>

                        </div>
                    </div>
                }
                else
                {

                    <div class="modal-body mbheight">
                        <div class="tabbable ">
                            <!-- Only required for left/right tabs -->
                            <ul class="nav nav-tabs">
                                <li class="active"><a class="tab1" href="#tab1" data-toggle="tab" onclick="hidepopupdiv();">Contact</a></li>
                                <li><a href="#tab2" data-toggle="tab" onclick="hidepopupdiv();">Email</a></li>
                                <li><a href="#tab4" data-toggle="tab" onclick="hidepopupdiv();getAddressForPopUp()">Address</a></li>
                                <li><a href="#tab3" data-toggle="tab" onclick="hidepopupdiv();">Other</a></li>
                            </ul>
                            <div class="tab-content" id="tabs">
                                <div class="tab-pane active" id="tab1">
                                    <br />

                                    <div class="panel panel-success">
                                        <div class="panel-heading">
                                            <h3 class="panel-title">Contact Details</h3>
                                        </div>
                                        <div class=" panel-body">
                                            @Html.HiddenFor(m => m.cust.id, new { @id = "txtcustId" })
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="col-md-6" style="margin-bottom: 7px;">
                                                        @Html.DropDownListFor(m => m.prefferedPhone, new SelectList(Model.custPhoneList, "phone_Id", "phoneNumber"), new { @class = "form-control", @id = "preffered_contact_num" })

                                                    </div>
                                                    <div class="col-md-2">
                                                        <label></label>
                                                        @*<button type="button" style="margin-top:5px;" id="deleteNum" class="btn btn-danger">Add</button>*@
                                                        <button type="button" class="btn btn-success" onclick="adddeletecontact('add')" aria-label="Left Align"><span class="fa fa-plus-circle fa-lg" aria-hidden="true"></span></button>

                                                        <button type="button" class="btn btn-danger" onclick="adddeletecontact('delete')" aria-label="Left Align" id="deletephonebtn"><span class="fa fa-trash-o fa-lg" aria-hidden="true"></span></button>
                                                        @*<button type="button" style="margin-top:5px;" id="deleteNum" class="btn btn-danger">Delete</button>*@

                                                    </div>
                                                </div>
                                            </div>
                                            <div id="adddeletephonenumberDiv" style="display:none">
                                                <div class="col-md-12">
                                                    <div class="row">
                                                        <br />
                                                        <div class="col-sm-4" id="addphoneno">
                                                            <div class="form-group">
                                                                <label>New Phone No.</label>
                                                                @Html.TextBoxFor(model => model.phoneAdd.phoneNumber, new { @class = "form-control numberOnly", @maxlength = "12", @min = "10", @max = "12", @id = "myPhoneNum" })<br />
                                                                <span id="phErro" style="color:red;font-size:10pt;"></span>
                                                                @*   <input type="text" name="myPhoneNum" class="form-control numberOnly" maxlength="10" min="10" max="10" id="myPhoneNum">*@
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-6" id="remarksDiv">
                                                            <div class="form-group">

                                                                <label id="lblremarks"></label><br>
                                                                @Html.TextAreaFor(model => model.phoneAdd.remarks, new { @class = "form-control characterLimit", @id = "myPhoneRemark" })
                                                                @*  <textarea name="myPhoneRemark" class="form-control characterLimit" id="myPhoneRemark"></textarea>*@
                                                            </div>
                                                        </div><br />
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-xs-5 pull-right">
                                                            <input type="submit" class="btn btn-success" name="submit" value="SavePhone" id="savePhoneCust" />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>


                                <div class="tab-pane" id="tab2">
                                    <br />
                                    <div class="panel panel-success">
                                        <div class="panel-heading">
                                            <h3 class="panel-title">Email Details</h3>
                                        </div>
                                        <div class=" panel-body">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="col-md-6" style="margin-bottom: 7px;">
                                                        @if (Model.cust.emails.FirstOrDefault(m => m.isPreferredEmail == true) != null)
                                                        {
                                                            @Html.DropDownListFor(m => m.prefferedEmail, new SelectList(Model.cust.emails.Where(M => M.isPreferredEmail == true), "email_Id", "emailAddress", Model.cust.emails.FirstOrDefault(m => m.isPreferredEmail == true).email_Id), new { @class = "form-control", @id = "email" })
                                                        }
                                                        else
                                                        {
                                                            @Html.DropDownListFor(m => m.prefferedEmail, new SelectList(Model.cust.emails, "email_Id", "emailAddress"), "--Select--", new { @class = "form-control", @id = "email" })
                                                        }
                                                    </div>
                                                    <div class="col-md-2">
                                                        <label></label>
                                                        <button type="button" class="btn btn-success" onclick="addemail('add')" aria-label="Left Align"><span class="fa fa-plus-circle fa-lg" aria-hidden="true"></span></button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div id="addemailDiv" style="display:none">
                                                <div class="col-md-12">
                                                    <div class="row">
                                                        <br />
                                                        <div class="col-sm-4">
                                                            <div class="form-group">
                                                                <label>New Email.</label>
                                                                @Html.TextBoxFor(model => model.emailAdd.emailAddress, new { @class = "form-control email", @maxlength = "60", @min = "5", @max = "60", @id = "myEmailNum" })
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-xs-5 pull-right">
                                                            <input type="submit" class="btn btn-success" name="submit" value="Save" id="savebtnemail" onclick="savecustomerDetails('SaveEmail')" />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>

                                </div>
                                <div class="tab-pane" id="tab3">
                                    <br />
                                    <div class="panel panel-success">
                                        <div class="panel-heading">
                                            <h3 class="panel-title">Other Details</h3>
                                        </div>
                                        <div class=" panel-body">
                                            <div class="row">
                                                <div class="col-sm-3" id="dndDivadvaithhide">
                                                    <div class="form-group">

                                                        <label><b>DND</b></label><br />
                                                        <label class="radio-inline">
                                                            @Html.RadioButtonFor(model => model.cust.doNotDisturb, true, new { @id = "dndcheckbox1" })YES
                                                        </label>
                                                        <label class="radio-inline">
                                                            @Html.RadioButtonFor(model => model.cust.doNotDisturb, false, new { @id = "dndcheckbox2" })NO
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-sm-4">
                                                    <div class="form-group">

                                                        <label><b>Date OF Birth:</b></label>
                                                        @Html.TextBoxFor(model => model.cust.dob, new { @class = "datepicMYDropDown form-control", @id = "dob", @Value = Model.cust.dob, @readonly = "readonly" })
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="form-group">

                                                        <label><b>Date of Anniversary</b></label>
                                                        @Html.TextBoxFor(model => model.cust.anniversary_date, new { @class = "datepicMYDropDown form-control", @id = "anniversary_date", @Value = Model.cust.anniversary_date, @readonly = "readonly" })
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-xs-7 pull-right">
                                                    <input type="submit" class="btn btn-success" name="submit" value="Save" id="savebtnemail" onclick="savecustomerDetails('SaveCustomer')" />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="panel-heading">
                                            <h3 class="panel-title">PanCard Details</h3>
                                        </div>
                                        <div class="panel-body">
                                            <div class="col-sm-12" style="margin-top: 5px;">
                                                <div class="col-md-4">
                                                    <label><b>PAN Card No:</b></label>
                                                    @Html.TextBoxFor(m => m.cust.pancardno, new { @Value = Model.cust.pancardno, @placeholder = "PAN No. Not Present!! Please Add... ", @class = "form-control ", @readonly = "true", @id = "ddleditpan", onkeypress = "return blockSpecialChar(event)", @maxlength = "10" })
                                                </div>

                                                <div class="col-md-1">
                                                    <br />
                                                    <button type="button" class="btn btn-success" style="margin-top: 5px;" id="btneditpan">Edit</button>
                                                </div>

                                                <div class="col-md-4">
                                                    <label><b>Add CKYC No:</b></label>
                                                    @Html.TextBoxFor(m => m.cust.ckycno, new { @Value = Model.cust.ckycno, @class = "form-control ", @placeholder = "CKYC Not Present!! Please Add... ", @readonly = "true", @id = "ddleditkyc", onkeypress = "return blockSpecialChar(event)", @maxlength = "17" })
                                                </div>

                                                <div class="col-md-1">
                                                    <br />
                                                    <button type="button" class="btn btn-success" style="margin-top: 5px;" id="btneditckyc">Edit</button>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <div class="tab-pane" id="tab4">
                                    <br />

                                    <div class="panel panel-success">
                                        <div class="panel-heading">
                                            <h3 class="panel-title">Address Details</h3>
                                        </div>
                                        <div class=" panel-body">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="col-md-6" style="margin-bottom: 7px;">
                                                        <label>Update</label>
                                                        <textarea id="newAddress" class="form-control paddr_line1 characterLimit" rows="3" placeholder="Please enter Company Name/Flat No &amp; Building name."></textarea>
                                                    </div>
                                                    <div class="col-md-2">
                                                        <label>State</label><br>
                                                        @Html.DropDownList("pstateId", Model.citystatesList, "--Select--", new { @class = "form-control paddr_line5", @style = "", @id = "pstateId", @onchange = "getCityByStateSelection('pstateId','paddrrCity');" })
                                                    </div>
                                                    <div class="col-md-2">
                                                        <label>City</label>
                                                        <select class="form-control paddr_line4" id="paddrrCity"></select>
                                                    </div>
                                                    <div class="col-md-2">
                                                        <label>PinCode</label>
                                                        <input type="text" class="form-control paddr_line6 numberOnly" id="ppincode" maxlength="6" rows="1" placeholder="Please enter PinCode">
                                                    </div><br /><br />
                                                    <div class="col-md-2">
                                                        <label>Make Default</label>
                                                        <input type="checkbox" id="IsPrimary" name="checkBoxPrimary" value="checkBoxPrimary" />
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-md-offset-3 col-md-8">
                                                    <div class="pull-right">
                                                        <button type="button" class="btn btn-success paddr_submit" data-dismiss="modal" onclick="updateNewAddress();">Add</button>
                                                        <button type="button" class="btn btn-danger paddr_submit" onclick="reset();">Reset</button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <label>Available Address Details</label>
                                                    <table id="allAddress" class="table table-striped table-bordered" width="100%">
                                                        <thead>
                                                            <tr>
                                                                <th>Preferred</th>
                                                                <th>Address</th>
                                                                <th>State</th>
                                                                <th>City</th>
                                                                <th>Pincode</th>
                                                                <th>Delete</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody></tbody>
                                                    </table>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" data-dismiss="modal" class="btn btn-danger">Close</button>

                        </div>

                    </div>
                }

                <div class="modal-footer">
                    <input type="submit" id="pn_save" class="btn btn-success" value="Save" />

                </div>

            </div>
        }
    </div>
</div>


<!------------------Calculator modal Popup------------------------->
<div class="modal fade" id="InsuPremiumPopup" role="dialog">
    <div class="modal-dialog modal-lg">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header" style="padding: 10px; color: red">
                <button type="button" class="close" data-dismiss="modal"><img src="~/public/images/close1.png" /></button>

                <p class="modal-title" style="text-align:center;"><b>SAVE INSURANCE QUOTATION</b></p>
            </div>
            <div class="modal-body mbheight table-responsive" style="padding-bottom: 0px;">
                <b style="color:red;"><u>VEHICLE DETAILS:</u></b>
                <b style="color:red;"><u>OWN DAMAGE PREMIUM (I):</u></b>
                <div class="row">
                    <div class="col-sm-2 ">
                        <div class="form-group">
                            <label>IDV</label>
                            <input class="form-control input-sm" id="idvId" name="idv" value="0.0" type="text">
                        </div>
                    </div>


                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>Zone</label>
                            <select class="form-control" id="zoneId" onChange="getVehTypeBasedOnZoneFilter();">
                                <option value="0">Select</option>
                            </select>

                        </div>
                    </div>
                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>TYPE</label>

                            <select class="form-control" id="typeId" onChange="getCCBasedOnVehTypeFilter();">
                                <option value="0">Select</option>
                            </select>

                        </div>
                    </div>
                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>Cubic Capacity</label>
                            <select class="form-control" name="cubicCapacity" id="cubicCapacityId" onChange="getAgeBasedOnCCFilter();">
                                <option value="0">Select</option>
                            </select>

                        </div>
                    </div>
                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>AGE</label>
                            <select class="form-control" id="ageId" onChange="getIRBasedOnFilter();">
                                <option value="0">Select</option>
                            </select>

                        </div>
                    </div>

                </div>
                <div class="row">
                    <div class="col-sm-2">
                        <div class="form-group">
                            <label>Insurance Rate(%)</label>
                            <input class="form-control input-sm resetAll" id="odId" name="odPercentage" type="text" value="0">
                        </div>
                    </div>
                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>OD 1<span class="red-star">*</span></label>
                            <input class="form-control input-sm resetAll" id="basicODId" name="odRupees" type="text" value="0" readonly>
                        </div>
                    </div>
                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>Discount(%)</label>
                            <input class="form-control input-sm resetAll inputresterict" type="text" id="commercialDiscId" name="discountPercentage" value="0">
                        </div>
                    </div>
                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>DIS VALUE<span class="red-star">*</span> </label>
                            <input type="text" readonly class="form-control input-sm resetAll" id="discValueId" name="discountValue" value="0">
                        </div>
                    </div>
                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>OD2<span class="red-star">*</span></label>
                            <input class="form-control input-sm resetAll" id="totalODPremiumId" name="totalODPremium" type="text" value="0" readonly>
                        </div>
                    </div>
                </div>
                <div class="row">

                    <div class="col-sm-2">
                        <div class="form-group">
                            <label>CNG</label>
                            <input class="form-control input-sm resetAll numberOnly" id="cngId" type="text" value="0">
                        </div>
                    </div>
                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>ELEC</label>
                            <input class="form-control input-sm resetAll numberOnly" id="elecId" type="text" value="0">
                        </div>
                    </div>
                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>OD 3<span class="red-star">*</span></label>
                            <input class="form-control input-sm resetAll numberOnly" id="od3Id" type="text" value="0" readonly>
                        </div>
                    </div>
                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>ANTI THEFT</label>
                            <input class="form-control input-sm resetAll numberOnly" id="antitheftId" type="text" value="0">
                        </div>
                    </div>
                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>OD 4<span class="red-star">*</span></label>
                            <input class="form-control input-sm resetAll" id="od4Id" type="text" value="0" readonly>
                        </div>
                    </div>


                </div>
                <div class="row">
                    <div class="col-sm-2">
                        <div class="form-group">
                            <label>NCB(%)</label>
                            <input class="form-control input-sm resetAll" id="ncbPercenId" name="ncbPercentage" type="text" value="0">
                        </div>
                    </div>
                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>NCB VALUE<span class="red-star">*</span></label>
                            <input class="form-control input-sm resetAll" id="ncbValueId" name="ncbRupees" type="text" value="0" readonly>
                        </div>
                    </div>

                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>OD 5<span class="red-star">*</span></label>
                            <input class="form-control input-sm resetAll" id="od5Id" type="text" value="0" readonly>
                        </div>
                    </div>
                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>IMT 23</label>
                            <input class="form-control input-sm resetAll numberOnly" id="imt23Id" type="text" value="0">
                        </div>
                    </div>
                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>FINAL OD<span class="red-star">*</span></label>
                            <input class="form-control input-sm resetAll" id="odPremiumId" name="oDPremium" type="text" value="0" readonly>
                        </div>
                    </div>



                </div>
                <b style="color:red;"><u>ADD ON COVERAGE (II):</u></b>

                <div class="row">
                    <div class="col-sm-2">
                        <div class="form-group">
                            <label>Zero Dep</label>
                            <input class="form-control input-sm numberOnly resetAll" id="zpId" type="text" value="0">
                        </div>
                    </div>
                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>RTI</label>
                            <input class="form-control input-sm numberOnly resetAll" id="rtiId" type="text" value="0">
                        </div>
                    </div>
                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>EP</label>
                            <input class="form-control input-sm numberOnly resetAll" id="epId" type="text" value="0">
                        </div>
                    </div>
                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>ADD-ON 4</label>
                            <input class="form-control input-sm numberOnly resetAll" id="addon4Id" type="text" value="0">
                        </div>
                    </div>
                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>NET ADDON<span class="red-star">*</span></label>
                            <input class="form-control input-sm resetAll" id="netaddonId" type="text" value="0" readOnly>
                        </div>
                    </div>

                </div>
                <b style="color:red;"><u>LIABILITY & BENEFIT (III):</u></b>

                <div class="row">

                    <div class="col-sm-2">
                        <div class="form-group">
                            <label>TPA</label>
                            <input type="text" value="0" class="form-control input-sm resetAll numberOnly" name="thirdPartyPremium" id="thirdPartyPremId">
                        </div>
                    </div>
                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>PA+LL</label>
                            <input type="text" class="form-control input-sm resetAll numberOnly" name="paPremium" id="paPremiumId" value="0">
                        </div>
                    </div>
                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>LP3</label>
                            <input type="text" class="form-control input-sm resetAll numberOnly" id="lp3Id" value="0">
                        </div>
                    </div>

                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>LP4</label>
                            <input type="text" value="0" class="form-control input-sm resetAll numberOnly" id="lp4Id" value="0">
                        </div>
                    </div>
                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>NET&nbsp;LP&nbsp;<span class="red-star">*</span> </label>
                            <input type="text" value="0" class="form-control input-sm resetAll" name="liabilityPremium" id="totalPremiumID" value="0" readonly>
                        </div>
                    </div>
                </div>

                <b style="color:red;"><u>PACKAGE PREMIUM (I + II + III):</u></b>
                <div class="row">
                    <div class="col-sm-2">
                        <div class="form-group">
                            <label>Other</label>
                            <input type="text" value="0" class="form-control input-sm resetAll numberOnly" id="otherAMTID">
                        </div>
                    </div>
                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>Package<span class="red-star">*</span></label>
                            <input type="text" class="form-control input-sm resetAll" name="totalPremiumWithOutTax" id="totalPackagePremiumId" value="0" readonly>
                        </div>
                    </div>
                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>GST(%)</label>
                            <input type="text" class="form-control input-sm" id="serviceTax" name="serviceTax" value="18">
                        </div>
                    </div>
                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>Gross Premium</label>
                            <input type="text" class="form-control input-sm" name="totalPremiumWithTax" id="finalPremiumId" style="background-color: yellow; font-size: 18px;">
                        </div>
                    </div>
                    <div class="col-sm-2 col-half-offset">
                        <div class="form-group">
                            <label>Insurance&nbsp;Company</label>
                            <select class="form-control" name="insuranceCompanyQuotated" id="insuranceCompanyId"></select>
                        </div>
                    </div>


                </div>

                <div class="row">

                    <div class="col-sm-12">
                        <div class="form-group">
                            <label>Comment</label>
                            <input type="text" class="form-control input-sm characterLimit" name="commentIQ" id="commentIQId" font-size: 18px;">
                        </div>
                    </div>
                </div>

            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-primary" onclick="resetFinalPremium();" style="float:left;">Reset</button>
                <label style="margin-top:10px;"><font size="2" color="red">*-Non editable field<br /><font></label>
                <button type="button" class="btn btn-primary" data-dismiss="modal" id="saveFinalPremium">Save</button>
            </div>
        </div>
    </div>
</div>

@if (Session["DealerCode"].ToString() == "OLDTemplate")
{
    <!-- Email Modal PopUp-->
    <div class="modal fade" id="myModalEmailPopUp" role="dialog">
        <div class="modal-dialog modal-xs">
            @using (Ajax.BeginForm("sendEmail", "CallLogging", new AjaxOptions { OnSuccess = "emailSuccess", OnFailure = "emailFailure", HttpMethod = "POST" }))
            {
                <!-- Modal content-->
                <div class="modal-content mbheight">
                    <div class="modal-header" style="text-align:center; background-color: #0288D1;padding:5px;">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title" style="color:white;"><b>Sending Email</b></h4>
                    </div>
                    <div class="modal-body">
                        <div class="row" id="custSelectionDiv" style="display:none;">
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label for="dd_email_type">Email Type</label>
                                    @Html.DropDownList("ddl_Email_Type", new SelectList(Model.emailtemplates, "id", "emailType"), "--Select--", new { @class = "form-control", @onchange = "smsTypeChanged(this.id,'email')", @id = "ddl_Email_Type" })
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label for="ddl_Email_Location">Location</label>
                                    @Html.DropDownList("ddl_Email_Location", new SelectList(Model.locationList, "name", "name"), "--Select--", new { @class = "form-control", @onchange = "ajaxCallToLoadWorkShopByCity('ddl_Email_Location','ddl_Email_Workshop');", @id = "ddl_Email_Location" })
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label for="ddl_Email_Workshop">Workshop</label>
                                    @Html.DropDownList("ddl_Email_Workshop", Enumerable.Empty<SelectListItem>(), "--Select--", new { @class = "form-control", @onchange = "locationChnaged(this.id,'email');", @id = "ddl_Email_Workshop" })
                                </div>
                            </div>

                        </div>
                        <div class="row" style="padding:10px;">
                            <label for="comment">SUBJECT:</label>
                            @Html.HiddenFor(m => m.email.EmailTo, new { @id = "hdEmail_To" })
                            @Html.HiddenFor(m => m.email.UploadedUser, new { @id = "hduploadedUser" })
                            @Html.HiddenFor(m => m.email.EmailFor, new { @id = "hEmailFor" })
                            @Html.TextBoxFor(m => m.email.Subject, "", new { @class = "form-control", @id = "emailSubject", @style = "font-weight:normal;", @autocomplete = "off" })
                            @*<input type="text" class="form-control" id="emailSubject" style="font-weight:normal;">*@
                        </div>
                        <div class="row" style="padding:10px;">
                            <label for="comment">BODY:</label>
                            @Html.TextAreaFor(m => m.email.Body, new { @class = "form-control", @rows = "6", @id = "emailtemplate", @style = "font-weight:normal;" })
                            @*<textarea class="form-control" rows="6" id="emailtemplate" style="font-weight:normal;"></textarea>*@
                        </div>
                        <div id="attachPanel">
                            <img src="~/public/images/docUpload.png" style="width:17px" />
                            <label>&nbsp;Attahced Docs:</label>
                            @Html.TextBoxFor(m => m.email.Attachments, new { @id = "attachmentHidden", @type = "hidden" })
                            <div class="row" id="attachedDocs" style='border:thin solid black;margin:0px;'>

                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12">
                                <div class="col-xs-6">
                                    <label>Email Id</label><br>
                                    @Html.DropDownListFor(m => m.email.EmailFrom, Enumerable.Empty<SelectListItem>(), "--Select--", new { @class = "form-control", @onchange = "manageEmailIds('emailCredentialIds', 'emailPasswords', 'emailPasswordDiv');", @id = "emailCredentialIds", @style = "font-weight:normal;" })
                                    @*<select name="emailCredentialIds" class="form-control" id="emailCredentialIds" style="font-weight:normal;">
                                            <option value='0'>--Select--</option>
                                        </select>*@
                                </div>

                                <div class="col-xs-6" id="emailPasswordDiv" style="display:block;">
                                    <label>Password</label><br>
                                    @Html.TextBoxFor(m => m.email.Password, new { @type = "password", @class = "form-control", @id = "emailPasswords", @autocomplete = "new-password" })
                                    @*<input name="emailPasswords" type="password" class="form-control" id="emailPasswords">*@
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <input type="submit" value="Send" id="btnEmailSubmit" class="btn btn-primary" />
                        @*<button type="submit" class="btn btn-primary" data-dismiss="modal" id="sendManualEmailUpload">Send</button>*@
                    </div>
                </div>
            }
        </div>
    </div>
}
else
{

    <!--Dynamic Email Modal PopUp-->
    <div class="modal fade" id="dynamicemailDetails" role="dialog">
        <div class="modal-dialog modal-xs">
            @using (Ajax.BeginForm("sendEmailDynamic", "CallLogging", new AjaxOptions { OnSuccess = "dynamicemailSuccess", OnFailure = "dynamicemailFailure", HttpMethod = "POST" }, new { enctype = "multipart/form-data" }))
            {
                <!-- Modal content-->
                <div class="modal-content mbheight">
                    <div class="modal-header" style="text-align:center; background-color: #0288D1;padding:5px;">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title" style="color:white;"><b>Sending Email</b></h4>
                    </div>
                    <div class="modal-body">
                        <div class="row" id="custSelectionDiv" style="display:block;">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="dd_email_type">Email Type</label>
                                    @Html.DropDownList("ddl_Email_Type", new SelectList(Model.emailtemplates, "id", "emailType"), "--Select--", new { @class = "form-control", @onchange = "opendynamicEmailDetails()", @id = "ddlemailTypedynamic" })
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="dd_email_type">To</label>
                                    @Html.TextBoxFor(m => m.email.EmailTo, new { @class = "form-control", @rows = "6", @id = "txtdynamicemailto", @style = "font-weight:normal;" })
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="dd_email_type">CC</label>
                                    @Html.TextBoxFor(m => m.email.EmailCC, new { @class = "form-control", @rows = "6", @id = "txtdynamicemailCC", @style = "font-weight:normal;" })
                                </div>
                            </div>
                        </div>
                        <div class="row" style="padding:10px;">
                            <label for="comment">SUBJECT:</label>
                            @Html.TextBoxFor(m => m.email.Subject, "", new { @class = "form-control", @id = "txtdynamicemailSubject", @style = "font-weight:normal;", @autocomplete = "off" })
                        </div>
                        <div class="row" style="padding:10px;">
                            <label for="comment">BODY:</label>
                            @Html.TextAreaFor(m => m.email.Body, new { @class = "form-control", @rows = "6", @id = "txtdynamicemailtemplate", @style = "font-weight:normal;" })
                        </div>
                        <input type="file" name="files" id="fileUploaderControl" multiple class="fa fa-paperclip" />
                    </div>
                    <div class="modal-footer">
                        <input type="submit" value="Send" id="btndynamicEmailSubmit" class="btn btn-primary" />
                    </div>
                </div>
            }
        </div>
    </div>
}
@if (ViewBag.typeOfDispo == "insurance")
{
    <div class="modal fade" id="NewSchedulerPOPUp" role="dialog">
        <div class="modal-dialog modal-lg" style="width:94% !important;">
            <div class="modal-content">
                <div class="modal-header" style="text-align:center">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Field - APPOINTMENT SCHEDULER</h4>
                </div>
                <div class="modal-body" style="padding:4px;">
                    <div class="panel panel-primary">
                        <div class="panel-body mbheight">
                            <div>
                                <input type="hidden" id="tempValueIns" value="0">
                                <input type="hidden" id="tempIncreValueIns" value="0">

                            </div>
                            <div class="row">
                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label for="comments"><i class="fa fa-calendar" aria-hidden="true"></i><b>DATE :<b></label>
                                        <input type="text" id="dateis" name="fieldDate" class="form-control datePickerFilterTo15days" onchange="ajaxCallForSchedularChanged();putfieldSelValue('dateis','fielDateModel');" readonly="readonly" value="@fieldscheduledate" />
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label for="">Field Location</label>
                                        @if (Model.callinteraction != null && Model.callinteraction.appointmentbooked != null && Model.callinteraction.appointmentbooked.fieldWalkinLocation != null)
                                        {
                                            @Html.DropDownList("fieldLocation", new SelectList(Model.FieldwalkinlocationList, "id", "name", Model.callinteraction.appointmentbooked.fieldWalkinLocation), "--Select--", new { onchange = "putfieldSelValue('fieldLocation','fieldLocModel');ajaxCallForSchedularChanged()", @class = "form-control selectpicker", @id = "fieldLocation" })

                                        }
                                        else
                                        {
                                            @Html.DropDownList("fieldLocation", new SelectList(Model.FieldwalkinlocationList, "id", "name"), "--Select--", new { onchange = "putfieldSelValue('fieldLocation','fieldLocModel');ajaxCallForSchedularChanged()", @class = "form-control selectpicker", @id = "fieldLocation" })
                                        }
                                    </div>

                                </div>
                                <div class="col-md-6">
                                    <span style="color:red;" id="displayfieldapptmntTime"></span>
                                </div>
                            </div>
                            <img src="~/public/img/fe.gif" class="" style="display: none;margin-left: auto;margin-right: auto;width: 30%;" id="fieldloader" />
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="table-responsive col-md-12" id="fecontent">
                                        <div style=" overflow:auto;max-height:400px; max-width:850px;">
                                            <table border="1" class="table table-striped table-hover" id="tableschID" style="cursor: pointer;">
                                                <thead>

                                                </thead>
                                                <tbody></tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="schButton" class="btn btn-danger pull-right" data-dismiss="modal" style="display:none;">Close</button>
                </div>
            </div>
        </div>
    </div>

}


@if (ViewBag.typeOfDispo == "Service")
{
    <div class="modal fade" id="driverSchedulerPopUp" role="dialog">
        <div class="modal-dialog modal-lg" style="width:85% !important;">
            <div class="modal-content">
                <div class="modal-header" style="text-align:center">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Driver - Scheduler</h4>
                </div>
                <div class="modal-body" style="padding:4px;">
                    <div class="panel panel-primary">
                        <div class="panel-body mbheight">
                            <div class="row">

                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label for="pickuptypedrivercre">Pickup Type</label>
                                        <select id="pickuptypedrivercre" class="form-control"></select>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label for="driverCal">Select PickUp Date</label>
                                        <input type="text" readonly id="driverCal" name="DriverCal" class="form-control datePickerBooking" onchange="putfieldSelValue('driverCal','hdpickUpdate')" onclick="getDriverTimingList($('#driverCal').val(), $('#SB_workshop').val())" />
                                    </div>
                                </div>
                                @*<div class="col-md-3">
                                        <div class="form-group">
                                            <label for="driverCal">Select Workshop</label><br />
                                            @Html.DropDownList("ddlDriverWorkshop", new SelectList(Model.allworkshopList, "id", "workshopName", Model.wyzuser.workshop_id), new { @class = "form-control selectpicker", @id = "ddlDriverWorkshop" })
                                        </div>
                                    </div>*@

                                <div class="col-md-2" id="DrivdropCal_div" style="display:none;">
                                    <div class="form-group">
                                        <label>Select Drop Date</label>
                                        <input type="text" readonly id="driverDropCal" name="DriverDropCal" class="form-control datePickerBooking" onchange="putfieldSelValue('driverDropCal','hddropdate')" onclick="getDriverTimingList($('#driverDropCal').val(), $('#SB_workshop').val())" />
                                    </div>
                                </div>
                                <div class="col-md-2" style="margin-top: 23px;">
                                    <button type="button" class="btn btn-primary" onclick="getDriverTimingList($('#driverCal').val(), $('#SB_workshop').val())">Get Scheduler</button>
                                </div>
                                <div class="col-md-2">
                                    <label style="margin-top:24px;" class="text-primary">Selected workshop <span id="driverWorkshopName" style="font-weight:bold;color:black;"></span>.</label>
                                </div>
                                <div class="col-md-3" style="margin-top: 23px;">
                                    <button type="button" class="btn btn-primary" style="background-color:#d8891b;border:none;" onclick="changeWorkshop()">Change Workshop</button>
                                </div>
                            </div>

                            <div class="row" id="alocSec_div">
                                <div class="col-md-12">
                                    <table id="tblDriverAllocation" border="1" class="table table-striped table-hover schis" cellspacing="0" style="cursor: pointer;"></table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="schButton" class="btn btn-danger pull-right" data-dismiss="modal" style="display:none;">Close</button>
                </div>
            </div>
        </div>
    </div>
}


@using (Ajax.BeginForm("Saves", "customerUpdate", new AjaxOptions { OnSuccess = "onPopopSucces", OnFailure = "onPopopFailure", HttpMethod = "POST" }))
{
    @Html.TextBoxFor(m => m.submittedBtnName, new { @id = "custSubBtn", @type = "hidden" })
    Html.RenderPartial("~/Views/CallLogging/custAdd.cshtml", Model);
}

@if (Session["OEM"].ToString() == "MARUTI SUZUKI" && (ViewBag.typeOfDispo == "insurance" || ViewBag.typeOfDispo == "insuranceSearch") && Session["PageFor"].ToString() != "CREManager")
{
    <div id="policyDropTargetCheck_div">
        @*@using (Ajax.BeginForm("savePolicyDrop", "CallLogging", new AjaxOptions { OnSuccess = "policyDropSaveSuccess", OnFailure = "policyDropSaveFailure"}))
            {*@
        <div class="modal fade" id="policyDrop" role="dialog">
            <div class="modal-dialog modal-lg">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title"><b>Policy Drop Disposition</b></h4>
                        <hr style="border: 1px solid #a29c9c;" />
                    </div>
                    <div class="modal-body" style="color:black">
                        <div class="row" id="policyDropConfAddPopUp">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="">Confirm Address</label>
                                    <div class="input-group">
                                        @Html.DropDownList("policyDropAddressId", new SelectList(Model.cust.addresses, "concatenatedAdress", "concatenatedAdress"), "--Select--", new { @class = "form-control", @id = "policyDropAddressId" })
                                        <span class="input-group-addon" style="cursor:pointer; color:#dd4b39; padding: 1px 12px;" onclick="$('#policyDrop').modal('hide'); $('#AddNewAddressPopup').modal('show');"><i class="fa fa-pencil fa-2x"></i> </span>

                                    </div>
                                </div>

                            </div>
                            <div class="col-md-2">
                                <div class="form-group">
                                    <label for="">Pincode</label>
                                    @Html.TextBox("pincodeIdpolicy", "", new { @class = "numberOnly form-control", @id = "pincodeIdpolicy", @maxlength = "6", @rows = "1" })
                                </div>
                            </div>

                            <div class="col-md-3">
                                <div class="form-group">
                                    <label for=""> &nbsp; </label>
                                    <button type="button" class="btn btn-primary btn-block" data-toggle="modal" data-target="#popUpPolicyDrop">Select Schedule</button>
                                </div>
                            </div>

                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="">CRE Remarks</label>
                                    @Html.TextArea("crePolicyRemarks", "", new { @class = "form-control characterLimit", @rows = "2", @id = "crePolicyRemarks" })
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="">Customer Feedback</label>
                                    @Html.TextArea("crePolicyRemarks", "", new { @class = "form-control characterLimit", @rows = "2", @id = "cusPolicyRemarks" })
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <div class="pull-right">
                            <input type="button" id="btnPolicyDropSubmit" value="Submit" class="btn btn-success" />
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="popUpPolicyDrop" role="dialog">
            <div class="modal-dialog modal-lg">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header" style="text-align:center">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Policy Drop Field - APPOINTMENT SCHEDULER</h4>
                    </div>
                    <div class="modal-body" style="padding:4px;">
                        <div class="panel panel-primary">
                            <div class="panel-heading" style="padding:0px;"> </div>
                            <div class="panel-body mbheight">
                                <div>
                                    <input type="hidden" id="tempValueIns1" value="0">
                                    <input type="hidden" id="tempIncreValueIns1" value="0">
                                    @Html.TextBox("startValueIns1", "", new { @id = "startValueIns1", @type = "hidden" })
                                    @Html.TextBox("endValueIns1", "", new { @id = "endValueIns1", @type = "hidden" })
                                    @Html.TextBox("driverValueIns1", "", new { @id = "driverValueIns1", @Value = "0", type = "hidden" })
                                </div>
                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label for="comments"><i class="fa fa-calendar" aria-hidden="true"></i><b>DATE :<b></label>
                                            @*       <input type="text" class="form-control datepickerchange" name="appointmentScheduled" id="dateis" onchange="ajaxCallForSchedular()" readonly>*@
                                            @Html.TextBox("policydropdateis", "", new { @class = "form-control datePickerFilterTo15days", @id = "policydropdateis", @onchange = "ajaxCallForpolicydropSchedular()", @readonly = "true", @Value = policyscheduledate })
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label for="">Field Location</label>
                                            @Html.DropDownList("policydropfieldLocation", new SelectList(Model.FieldwalkinlocationList, "id", "name"), "--Select--", new { onchange = "ajaxCallForpolicydropSchedular()", @class = "form-control selectpicker", @id = "policydropfieldLocation" })
                                        </div>
                                    </div>
                                </div>
                                <img src="~/public/img/fe.gif" class="" style="display: none;margin-left: auto;margin-right: auto;width: 30%;" id="polcydloader" />
                                <div class="row">
                                    <div class="col-md-12">
                                        <table border="1" class="table table-striped table-hover" cellspacing="0" id="tableschIDpolicy" style="cursor: pointer;">
                                            <thead>

                                            </thead>
                                            <tbody></tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @*}*@
    </div>


}


@*@using (Ajax.BeginForm("emailAdd", "customerUpdate", new AjaxOptions { OnSuccess = "OnSuccess", OnFailure = "Failure", HttpMethod = "POST" }))
    {
        Html.RenderPartial("custAdd", Model);
    }
    @using (Ajax.BeginForm("phoneAdd", "customerUpdate", new AjaxOptions { OnSuccess = "OnSuccess", OnFailure = "Failure", HttpMethod = "POST" }))
    {
        Html.RenderPartial("custAdd", Model);
    }*@

<!--**********************************Customer End.....Chethan Edit changed *****************-->
<!--************************* Side bar Modules************************-->
<div class="modal fade" id="myModal1" role="dialog">
    <div class="modal-dialog modal-lg" style="width:90%;">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header" style="padding: 5px; text-align: center;">
                <button type="button" class="close" data-dismiss="modal" class="crossBtnCorner"><img src="~/public/images/close1.png"></button>
                <h4 class="modal-title" style="text-align: center;">VEHICLE INFORMATION</h4>
            </div>
            <div class="modal-body" style="padding: 5px;">
                <div style="color:black">
                    <table id="example700" class="table table-bordered">

                        <thead class="makefixed">
                            <tr>
                                <th style="width: 11%;">Model</th>
                                <th style="width: 11%;">Variant</th>
                                <th style="width: 11%;">Color</th>
                                <th style="width: 12%;">Registration&nbsp;No</th>
                                <th style="width: 11%;">Engine&nbsp;No</th>
                                <th style="width: 11%;">Chassis&nbsp;No</th>
                                <th style="width: 11%;">Sale&nbsp;Date</th>
                                <th style="width: 11%;">Fuel&nbsp;Type</th>
                                <th style="width: 11%;">DSE&nbsp;Name</th>
                            </tr>
                        </thead>
                        <tbody>

                            @foreach (var post in Model.cust.vehicles)
                            {
                                @:<tr>
                                    @:<td style="text-align:center">@post.model</td>
                                    @:<td style="text-align:center">@post.variant</td>
                                    @:<td style="text-align:center">@post.color</td>
                                    @:<td style="text-align:center">@post.vehicleRegNo</td>
                                    @:<td style="text-align:center">@post.engineNo</td>
                                    @:<td style="text-align:center">@post.chassisNo</td>
                                    @:<td style="text-align:center">
                                        if (post.saleDate != null)
                                        {@Convert.ToDateTime(post.saleDate).ToString("dd-MM-yyyy")}
                                @:</td>
                                @:<td style="text-align:center">@post.fuelType</td>
                                @:<td style="text-align:center">@post.dse</td>
                            @:</tr>
                        }
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>

<!-- Side bar *************************************2********** Service-->
<!-- Modal -->
<div class="modal fade" id="myModal2" role="dialog">
    <div class="modal-dialog modal-lg" style="width:90%">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header" style="padding: 5px; text-align: center;">
                <button type="button" class="close" data-dismiss="modal"><img src="~/public/images/close1.png"></button>
                <h4 class="modal-title">SERVICE INFORMATION</h4>
            </div>
            <div class="modal-body" style="padding: 5px;">
                <div style="color:black;">
                    <table id="example800" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">

                        <thead class="makefixed">
                            <tr>
                                <th></th>
                                <th>Uploaded Date</th>
                                <!-- <th>Service DealerName</th>  -->
                                <th>Repair Order&nbsp;Date</th>
                                <th>Repair Order&nbsp;No.</th>
                                <th>Workshop</th>
                                <th>Bill&nbsp;Date</th>
                                <th>Phone Number</th>
                                <th>Kilometer</th>
                                <!-- <th>Model</th>
                                <th>Registration No.</th> -->
                                <th>Service Type</th>
                                <th>Description&nbsp;&nbsp;</th>
                                <th>Service Advisor Name</th>
                                <th>Technician Name</th>
                                <!-- <th>Customer Name</th>
                                <th>Group (Category)</th> -->
                                <th>Part Amount</th>
                                <th>Labour Amount</th>
                                <th>Total Amount</th>
                                <th>Engine hours</th>
                            </tr>
                        </thead>
                        <tbody></tbody>

                    </table>

                </div>
            </div>
        </div>
    </div>
</div>

<!-- Service pull out maruti suzuki -->

<div class="modal fade" id="marutiServiceModal" role="dialog">
    <div class="modal-dialog modal-lg" style="width:90%">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header" style="padding: 5px; text-align: center;">
                <button type="button" class="close" data-dismiss="modal"><img src="~/public/images/close1.png"></button>
                <h4 class="modal-title"><b>SERVICE DETAILS</b></h4>
            </div>
            <div class="modal-body" style="padding: 5px;">
                <div id="showServiceInfo">
                    <table id="tbllabourDetailsService" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">

                        <thead class="makefixed">
                            <tr>
                                <th>Item Group</th>
                                <th>Part Code / Labour Code</th>
                                <th>Product Description / Labour Description</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                    <span id="tblservicehistoryerror"></span>

                </div>
            </div>

        </div>

    </div>
</div>
<!--******************************* Side popUp Insurance***********************-->
<!--******************************* Side popUp Insurance***********************-->
<!--  Indus Pullouts  -->
<div class="modal fade" id="indusinsuPullouts" role="dialog">
    <div class="modal-dialog modal-lg" style="width:90%;max-height:590px;">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header" style="padding: 5px; text-align: center;">
                <button type="button" class="close crossBtnCorner" data-dismiss="modal"><img src="~/public/images/close1.png"></button>
                <h4 class="modal-title">INSURANCE INFORMATION</h4>
            </div>
            <div class="modal-body" style="padding: 5px;">
                <div style="color:black" class="table-responsive">
                    <table class="table table-striped" id="InduspullOutIns" style="white-space:nowrap">

                        <thead class="makefixed" style="color:#8f00ff;">
                            <tr>
                                <th>Policy Issue Date</th>
                                <th>Policy Number</th>
                                <th>Insurance Company</th>
                                <th>Policy type</th>
                                <th>Class</th>
                                <th>Policy&nbsp;Expiry&nbsp;Date</th>
                            </tr>
                        </thead>
                        <tbody>
                            @if (Model.cust.insurances != null)
                            {
                                foreach (var insuranceData in Model.cust.insurances.OrderByDescending(m => m.policyIssueDate))
                                {
                                    if (insuranceData.cancellation_uploadid > 0)
                                    {
                                        @:<tr style="color: red;cursor: pointer;" class="parent" id="@insuranceData.id" title="Click to expand/collapse">
                                        }
                                        else
                                        {



                                            @:
                                        <tr class="parent" id="@insuranceData.id" title="Click to expand/collapse" style="cursor: pointer;">
                                            }
                                            <td>
                                                @if (insuranceData.policyIssueDate != null)
                                                {@Convert.ToDateTime(insuranceData.policyIssueDate).ToString("dd-MM-yyyy")}
                                            </td>
                                            <td>
                                                @if (!string.IsNullOrEmpty(insuranceData.policyNo))
                                                {
                                                    @insuranceData.policyNo.Replace("'", "");
                                                }
                                            </td>
                                            <td>@insuranceData.insuranceCompanyName</td>
                                            <td>@insuranceData.policyType</td>
                                            <td>@insuranceData.classType</td>
                                            <td>
                                                @if (insuranceData.policyDueDate != null)
                                                {@Convert.ToDateTime(insuranceData.policyDueDate).ToString("dd-MM-yyyy")}
                                            </td>



                                        </tr>
                                        <tr class="child-@insuranceData.id" style="display: none;">
                                            <td colspan="6">
                                                <table class="table" border="2">
                                                    <tr style=" background-color:lightblue">
                                                        <th>Policy Issue Date</th>
                                                        <th>Policy No</th>
                                                        <th>Policy Coverage</th>
                                                        <th>Insurance Company</th>
                                                        <th>Malus NCB Value</th>
                                                        <th>Premium</th>
                                                        <th>Gross Total Premium</th>
                                                        <th>Policy Type</th>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            @if (insuranceData.policyIssueDate != null)
                                                            {@Convert.ToDateTime(insuranceData.policyIssueDate).ToString("dd-MM-yyyy")}
                                                        </td>
                                                        <td>
                                                            @if (!string.IsNullOrEmpty(insuranceData.policyNo))
                                                            {
                                                                @insuranceData.policyNo.Replace("'", "");
                                                            }
                                                        </td>
                                                        <td>
                                                            @if (insuranceData.RiskInceptionDate != null)
                                                            {@Convert.ToDateTime(insuranceData.RiskInceptionDate).ToString("dd-MM-yyyy")} to
                                                            @if (insuranceData.policyDueDate != null)
                                                            {@Convert.ToDateTime(insuranceData.policyDueDate).ToString("dd-MM-yyyy")}
                                                        </td>
                                                        <td>@insuranceData.insuranceCompanyName</td>
                                                        <td>@insuranceData.malusncbvalue</td>
                                                        <td>@insuranceData.Premium</td>
                                                        <td>@insuranceData.grossPremium</td>
                                                        <td>@insuranceData.policyType</td>
                                                    </tr>
                                                    <tr style="background-color: lightblue">
                                                        <th>Cancel Status</th>
                                                        <th>Cancelled Date</th>
                                                        <th>Cancelled Remarks</th>
                                                        <th>Cancelation Remarks By Dealer</th>
                                                        <th>Dealers Cancelation Excutive</th>
                                                        <th>OD Cancelled Remarks</th>
                                                        <th>OD Cancelled Date</th>
                                                        <th>Auto Debit Status</th>
                                                    </tr>
                                                    <tr>
                                                        <td>@insuranceData.cancelstatus</td>
                                                        <td>@insuranceData.cancelleddate</td>
                                                        <td>@insuranceData.cancelledremarks</td>
                                                        <td>@insuranceData.cancellationremarksbydealer</td>
                                                        <td>@insuranceData.dealerscancellationexecutive</td>
                                                        <td>@insuranceData.odcancelledremarks</td>
                                                        <td>@insuranceData.odcancellationdate</td>
                                                        <td>@insuranceData.autodebitstatus</td>
                                                    </tr>
                                                    <tr style="background-color: lightblue">
                                                        <th>Insurance Decalred Value(Rs)</th>
                                                        <th>Showroom Price(Rs)</th>
                                                        <th>Dealer Outlet City</th>
                                                        <th>Dealer's Executive</th>
                                                        <th>Proposal No</th>
                                                        <th>Financed</th>
                                                        <th>Finance Company</th>
                                                        <th>64VB Verified Status</th>
                                                    </tr>
                                                    <tr>
                                                        <td>@insuranceData.InsuredDeclaredValue</td>
                                                        <td>@insuranceData.showroomprice</td>
                                                        <td>@insuranceData.dealeroutletcity</td>
                                                        <td>@insuranceData.dealersexecutive</td>
                                                        <td>@insuranceData.proposalnumber</td>
                                                        <td>@insuranceData.financed</td>
                                                        <td>@insuranceData.financecompany</td>
                                                        <td>@insuranceData.sixtyfourvbverifiedstatus</td>
                                                    </tr>
                                                    <tr style="background-color: lightblue">
                                                        <th>TPPD Extn Sum Assured</th>
                                                        <th>TP Premium</th>
                                                        <th>PA Premium</th>
                                                        <th>Zero Dep.Premium</th>
                                                        <th>OD Premium</th>
                                                        <th>RTI Premium</th>
                                                        <th>Engine Cover Premium</th>
                                                        <th>CNG Premium</th>
                                                    </tr>
                                                    <tr>
                                                        <td>@insuranceData.tppdextnsumassured</td>
                                                        <td>@insuranceData.tppremium</td>
                                                        <td>@insuranceData.pAPremium</td>
                                                        <td>@insuranceData.ZeroDepPremium</td>
                                                        <td>@insuranceData.ODpremium</td>
                                                        <td>@insuranceData.RTIPremium</td>
                                                        <td>@insuranceData.EngineCoverPremium</td>
                                                        <td>@insuranceData.CngPremium</td>
                                                    </tr>
                                                    <tr style="background-color: lightblue">
                                                        <th>Part A Premium</th>
                                                        <th>Part B Premium</th>
                                                        <th>PA Sum Insured Per Person</th>
                                                        <th>PA No. Of Person</th>
                                                        <th>Voluntary Excess Limit</th>
                                                        <th>Electrical Accessories Premium</th>
                                                        <th>Non-Electrical Accessories Premium</th>
                                                        <th>Driver Cover Premium</th>
                                                    </tr>
                                                    <tr>
                                                        <td>@insuranceData.PartAPremium</td>
                                                        <td>@insuranceData.PartBPremium</td>
                                                        <td>@insuranceData.paSumInsPerson</td>
                                                        <td>@insuranceData.panoofperson</td>
                                                        <td>@insuranceData.voluntaryexcesslimit</td>
                                                        <td>@insuranceData.ElectricalAccessoriesPremium</td>
                                                        <td>@insuranceData.NonElectricalAccessoriesPremium</td>
                                                        <td>@insuranceData.DriverCoverPremium</td>
                                                    </tr>
                                                    @if (Session["DealerCode"].ToString() == "INDUS" || Session["DealerCode"].ToString() == "POPULAR")
                                                    {
                                                        <tr style="background-color: lightblue">
                                                            <th>Consumable Premium</th>
                                                            <th>RSA Premium</th>
                                                            <th>Key Protect Premium</th>
                                                        </tr>
                                                        <tr>
                                                            <td>@insuranceData.consumablepremium</td>
                                                            <td>@insuranceData.rsapremium</td>
                                                            <td>@insuranceData.keyprotectpremium</td>
                                                        </tr>
                                                    }
                                                </table>
                                            </td>
                                        </tr>
                                    }
                                }
                            }
                        </tbody>
                    </table>
                    <div class="pagination-container">
                        <nav>
                            <ul class="pagination"></ul>
                        </nav>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>

<div class="modal fade" id="myModal3" role="dialog">
    <div class="modal-dialog modal-lg" style="width:1200px;">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header" style="padding: 5px; text-align: center;">
                <button type="button" class="close crossBtnCorner" data-dismiss="modal"><img src="~/public/images/close1.png"></button>
                <h4 class="modal-title">INSURANCE INFORMATION</h4>
            </div>
            <div class="modal-body" style="padding: 5px;">
                <div style="color:black" class="table-responsive">
                    <table class="table table-bordered" id="pullOutIns" style="white-space:nowrap">

                        <thead class="makefixed">
                            <tr>
                                @if (Session["DealerCode"].ToString() == "INDUS")
                                {
                                    <th>View</th>
                                }
                                <th>Policy Issue Date</th>
                                <th>Policy Number</th>
                                <th>Insurance Company</th>
                                <th>Policy type</th>
                                <th>Phone Number</th>
                                <th>Class</th>
                                <th>Add-On</th>
                                <th>Due Date</th>
                                <th>Zero Dep. Premium</th>
                                <th>Engine Cover</th>
                                <th>RTI Premium</th>
                                <th>Auto Premium</th>
                                <th>Premium</th>
                                <th>Gross Premium</th>
                                <th>IDV</th>
                                <th>OD(%)</th>
                                <th>NCB(%)</th>
                                <th>NCB Value</th>
                                <th>Discount</th>
                                <th>OD Premium</th>
                                <th>TP Premium</th>
                                <th>PA Premium</th>
                                <th>Legal Liability</th>
                                <th>Net Liability</th>
                                <th>Add-On Premium</th>
                                <th>Other Premium</th>
                                <th>Net Premium</th>
                                <th>Tax</th>
                            </tr>
                        </thead>
                        <tbody>
                            @if (Model.cust.insurances != null)
                            {
                                foreach (var insuranceData in Model.cust.insurances.OrderByDescending(m => m.policyIssueDate))
                                {
                                    if (insuranceData.cancellation_uploadid > 0)
                                    {
                                        @:<tr style="color:red">
                                        }
                                        else
                                        {


                                            @:
                                        <tr>
                                            }

                                            @*<td><a data-toggle="modal" data-target="#otherdetails"><i class="fa fa-info-circle" data-toggel="tooltip" title="Other Details" style="font-size:30px;color:red;"></i></a></td>*@
                                            if (Session["DealerCode"].ToString() == "INDUS")
                                            {
                                            <td><i style="font-size:14pt;color:orangered;cursor:pointer;" onclick="openInsHistoryDetailsPopUp('@insuranceData.id')" class="fa fa-address-card-o"></i></td>
                                            }
                                            <td>
                                                @if (insuranceData.policyIssueDate != null)
                                                {@Convert.ToDateTime(insuranceData.policyIssueDate).ToString("dd-MM-yyyy")}
                                            </td>
                                            <td>@insuranceData.policyNo</td>
                                            <td>@insuranceData.insuranceCompanyName</td>
                                            <td>@insuranceData.policyType</td>
                                            <td>@insuranceData.phonenumber</td>
                                            <td>@insuranceData.classType</td>
                                            <td>@insuranceData.addOn</td>
                                            <td>
                                                @if (insuranceData.policyDueDate != null)
                                                {@Convert.ToDateTime(insuranceData.policyDueDate).ToString("dd-MM-yyyy")}
                                            </td>
                                            <th>@insuranceData.ZeroDepPremium</th>
                                            <th>@insuranceData.EngineCoverPremium</th>
                                            <th>@insuranceData.RTIPremium</th>
                                            <th>@insuranceData.autodebitstatus</th>
                                            <th>@insuranceData.premiumAmountBeforeTax</th>
                                            <td>@insuranceData.grossPremium</td>
                                            <td>@insuranceData.idv</td>
                                            <td>@insuranceData.odPercentage</td>
                                            <td>@insuranceData.ncBPercentage</td>
                                            <td>@insuranceData.ncBAmount</td>
                                            <td>@insuranceData.discountPercentage</td>
                                            <td>@insuranceData.ODpremium</td>
                                            <td>@insuranceData.aPPremium</td>
                                            <td>@insuranceData.pAPremium</td>
                                            <td>@insuranceData.legalLiability</td>
                                            <td>@insuranceData.netLiability</td>
                                            <td>@insuranceData.add_ON_Premium</td>
                                            <td>@insuranceData.otherPremium</td>
                                            <td>@insuranceData.netPremium</td>
                                            <td>@insuranceData.serviceTax</td>

                                        </tr>
                                    }
                                }
                            }
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>




<!-- End Indus Pullouts-->
<!--******************************* Side popUp Insurance***********************-->


<div class="modal fade" id="insHistory" role="dialog">
    <div class="modal-dialog modal-lg" style="width:1200px;">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header" style="padding: 5px; text-align: center;">
                <button type="button" class="close crossBtnCorner" data-dismiss="modal"><img src="~/public/images/close1.png"></button>
                <h4 class="modal-title">INSURANCE INFORMATION</h4>
            </div>
            <div class="modal-body" style="padding: 5px;">

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>

<!--************************** PSF Data ***************************-->
<div class="modal fade" id="PsfPullModal" style="top:0%" role="dialog">
    <div class="modal-dialog modal-lg psfMainContent" style="width:90%">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header" style="padding: 5px; text-align: center;">
                <button type="button" class="close" data-dismiss="modal"><img src="~/public/images/close1.png"></button>
                <h4 class="modal-title">PSF INFORMATION</h4>
            </div>
            <div class="modal-body" style="padding: 5px;">
                <div class="row" style="margin: auto; background-color:#e5e5e5;border:1px solid #3333;">
                    @if (Model.psfPullOuts != null)
                    {
                        @:<div class="col-md-2 frmobile-card left-panel">
                            if (Model.psfPullOuts.Count > 0)
                            {
                                foreach (var psf in Model.psfPullOuts)
                                {
                                    roboclass = psf.isrobocall == 1 ? "fa fa-android" : "";
                                    @:<div class="main-content" id="jobCard_@psf.CubeId" onclick="getPsfDetails(@psf.CubeId)"><span></span><div class="jCard">@psf.JobCardNo:@psf.PSFDay<i class="@roboclass" aria-hidden="true"></i></div></div>
                                }
                            }
                            else
                            {
                                @:<div class="main-content" style="cursor:none;">No Disposition Found</div>
                            }
                        @:</div>
                        <div class="col-md-9 rigth-panel">
                            <div class="row" style=" text-align: center;">
                                <div class="col-md-3 col-sm-3 col-xs-6">
                                    <div style="display:none;" class="pcontent animated  bounceInLeft">
                                        <span id="pcustName"></span>
                                        <div class="pfooter">Customer&nbsp;Name</div>
                                    </div>
                                </div>
                                <div class="col-md-3 col-sm-3 col-xs-6">
                                    <div style="display:none;" class="pcontent animated  bounceInLeft">
                                        <span id="pchassis"></span>
                                        <div class="pfooter">Chassis&nbsp;No.</div>
                                    </div>
                                </div>
                                <div class="col-md-3 col-sm-3 col-xs-6">
                                    <div style="display:none;" class="pcontent animated  bounceInLeft">
                                        <span id="pbilldate"></span>
                                        <div class="pfooter">Bill&nbsp;Date</div>
                                    </div>
                                </div>
                                <div class="col-md-3 col-sm-3 col-xs-6">
                                    <div style="display:none;" class="pcontent animated  bounceInLeft">
                                        <span id="psaledate"></span>
                                        <div class="pfooter">Sale&nbsp;Date</div>
                                    </div>
                                </div>
                            </div>
                            <div class="row" style=" text-align: center;margin-top:3px;">
                                <div class="col-md-3 col-sm-3 col-xs-6">
                                    <div style="display:none;" class="pcontent animated  bounceInLeft">
                                        <span id="pservicetype"></span>
                                        <div class="pfooter">Service&nbsp;Type</div>
                                    </div>
                                </div>
                                <div class="col-md-3 col-sm-3 col-xs-6">
                                    <div style="display:none;" class="pcontent animated bounceInLeft">
                                        <span id="pservicelocation"></span>
                                        <div class="pfooter">Service&nbsp;Location</div>
                                    </div>
                                </div>
                                <div class="col-md-3 col-sm-3 col-xs-12">
                                    <div style="display:none;" class="pcontent animated bounceInLeft">
                                        <span id="plastdisposition"></span>
                                        <div class="pfooter">Last&nbsp;Disposition</div>
                                    </div>
                                </div>
                                <div class="col-md-3 col-sm-3 col-xs-12">
                                    <div style="display:none;" class="pcontent animated bounceInLeft">
                                        <span id="feedbackpsfstatcust"></span>
                                        <div class="pfooter">PSF&nbsp;Status</div>
                                    </div>
                                </div>
                            </div>
                            <div class="row" id="detailsDiv" style="margin-top:5px;display:none;">
                                <div class="col-md-12 col-md-offset-4 col-xs-12">
                                    <span style="text-decoration:none" class="btn btn-link" id="btnViewDetails" onclick="getPSFDispoDetails();">View Disposition Details<i class="fa fa-arrow-circle-down"></i></span>
                                </div>
                            </div>
                            <img src="~/public/img/fe.gif" class="" style="display: none;margin-left: auto;margin-right: auto;width: 25%;" id="psfloader" />

                            @if (Session["DealerCode"].ToString() == "INDUS" || Session["DealerCode"].ToString() == "KATARIA" || Session["DealerCode"].ToString() == "SPEEDAUTO" || Session["DealerCode"].ToString() == "JAYABHERIAUTO")
                            {
                                <div class="DispoContainer15Day animated bounceInDown" style="display:none;color:black"></div>

                                <div class="DispoContainer animated bounceInDown" style="display:none;color:black">
                                    <div class="row" style="margin-top:15px;" id="divDetailsOverView">
                                        <div class="col-md-4 col-sm-4 col-xs-12">
                                            <div class="form-group">
                                                <span class="custom-label">Overall Feedback:</span>
                                                <span id="overallfeedSat" style="padding:5px 8px 5px 8px;border-radius: 5px;"></span><span style="display:none;font-size:14pt;" id="satIcon">&#128515;</span>
                                                <span id="overallfeedDisSat" style="padding:5px 8px 5px 8px;border-radius: 5px;"></span><span style="display:none;font-size:14pt;" id="disSatIcon">&#128524;</span>
                                            </div>
                                        </div>
                                        @*<div class="col-md-3">
                                                <div class="form-group">
                                                    <span class="custom-label">Feedback Date:</span>
                                                    <span id="feedDate">09-09-2020</span>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <span class="custom-label">CRE Remarks:</span>
                                                    <span id="creRemarks"></span>
                                                </div>
                                            </div>*@
                                    </div>

                                    <div class="row animated bounceInLeft" style="margin-top:2px; margin-bottom:5px;" id="divnatureOfComplaint">
                                        <div class="col-md-4 col-sm-4 col-xl-12">
                                            <span class="custom-label">Nature Of Complaints:</span>
                                            <span style="font-weight:400;" id="natureOfComplaints"></span>
                                        </div>
                                    </div>

                                    <div class="row" style="margin-top:10px;" id="divOverAllFeed">
                                        <div class="col-md-8 col-sm-8 col-xs-12">
                                            <span style="font-weight:600;font-size:16px;">How is the vehicle performance after vehicle done?</span>
                                        </div>
                                        <div class="col-md-4 col-sm-4 col-xs-12">
                                            <span id="vehiPerform"></span>
                                        </div>
                                    </div>

                                    <div style="display:none;" class="animated bounceInDown" id="divFeedBad">
                                        <div class="container-fluide" id="techincal_container">
                                            <div class="row">
                                                <div class="col-md-8 col-sm-8 col-xs-12 qusans" id="techDiv">
                                                    <span id="techincal_main" class="feedbad">Technical</span>
                                                </div>
                                                <div class="col-md-4 col-sm-8 col-xs-12 qusans" id="div_techans">
                                                    <span id="techans"></span>
                                                </div>
                                            </div>
                                            <div class="row" id="div_techSubqus">

                                            </div>
                                        </div>
                                        <div class="container-fluide" id="techincal_container">
                                            <div class="row">
                                                <div class="col-md-8 col-sm-8 col-xs-12 qusans" id="nontechDiv">
                                                    <span id="techincal_main" class="feedbad">Non Technical</span>
                                                </div>
                                                <div class="col-md-4 col-sm-8 col-xs-12 qusans" id="div_nontechans">
                                                    <span id="nontechans"></span>
                                                </div>
                                            </div>
                                            <div class="row" id="div_nontechSubqus">

                                            </div>
                                        </div>
                                    </div>

                                    <div class="container-fluide" id="divFeedGoodBad">

                                        <div class="row">
                                            <div class="colo-md-8 col-sm-8 col-xs-12 qusans">
                                                <span>Were all the demanded repairs completed  as requested by you?</span>
                                            </div>
                                            <div class="col-md-4 col-sm-8 col-xs-12 qusans" id="div_demandedrepairsCompleted">
                                                <span id="demandedrepairsCompleted"></span>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-8 col-sm-8 col-xs-12 qusans">
                                                <span>Did the Service Advisor explain and show you the escalation sticker?</span>
                                            </div>
                                            <div class="col-md-4 col-sm-8 col-xs-12 qusans" id="div_serviceadv">
                                                <span id="serviceadv"></span>
                                            </div>
                                        </div>

                                        @*<div class="row">
                                                <div class="colo-md-8 col-sm-8 col-xs-12 qusans">
                                                    <span>Did the Service Advisor collect the Instant Feedback Card from you  while delivering the vehicle?</span>
                                                </div>
                                                <div class="col-md-4 col-sm-8 col-xs-12 qusans" id="div_safeed">
                                                    <span id="safeed"></span>
                                                </div>

                                            </div>*@

                                        <div class="row">
                                            <div class="colo-md-8 col-sm-8 col-xs-12 qusans">
                                                <span>Was the vehicle delivered as per the promised delivery time?</span>
                                            </div>
                                            <div class="col-md-4 col-sm-8 col-xs-12 qusans" id="div_promiseddeliveryTime">
                                                <span id="promiseddeliveryTime"></span>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="colo-md-8 col-sm-8 col-xs-12 qusans">
                                                <span>Were you Satisfied  with the  washing quality of your car ?</span>
                                            </div>
                                            <div class="col-md-4 col-sm-8 col-xs-12 qusans" id="div_washingQuality">
                                                <span id="washingQuality"></span>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="colo-md-8 col-sm-8 col-xs-12 qusans">
                                                <span>Was the work done on the  vehicle  and service charges, explained  at the time of   vehicle  delivery?</span>
                                            </div>
                                            <div class="col-md-4 col-sm-8 col-xs-12 qusans" id="div_vehicleserviceCharges">
                                                <span id="vehicleserviceCharges"></span>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="colo-md-8 col-sm-8 col-xs-12 qusans">
                                                <span>Did you receive a call from the service advisor enquiring about the quality of service?</span>
                                            </div>
                                            <div class="col-md-4 col-sm-8 col-xs-12 qusans" id="div_qos">
                                                <span id="qos"></span>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="colo-md-8 col-sm-8 col-xs-12 qusans">
                                                <span>How would you rate your overall Service Experience with the service centre based on your recent visit:</span>
                                            </div>
                                            <div class="col-md-4 col-sm-8 col-xs-12 qusans" id="div_overallExpo">
                                                <span id="overallExpo"></span>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="colo-md-8 col-sm-8 col-xs-12 qusans">
                                                <span>Are you satisfied with the quality of your Service Advisor?</span>
                                            </div>
                                            <div class="col-md-4 col-sm-8 col-xs-12 qusans" id="div_rateSA">
                                                <span id="rateSA"></span>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            }
                            else if (Session["DealerCode"].ToString() == "KALYANIMOTORS")
                            {
                                <div style="margin-top:15px">
                                    <div class="DispoContainer animated bounceInDown" style="display:none;color:black">
                                        <div class="row animated bounceInLeft" style="margin-top:2px; margin-bottom:5px;" id="div_complaintCategory">
                                            <div class="col-md-4 col-sm-4 col-xl-12">
                                                <span class="custom-label">Complaint Category : </span>
                                                <span style="font-weight:400;" id="complaintCategory"></span>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="colo-md-8 col-sm-8 col-xs-12 qusans">
                                                <span><label class="countpsfPull"> </label> Keeping in mind your interactions and experiences at our Service Center, how would you rate Kalyani Motors among the competitive dealers?</span>
                                            </div>
                                            <div class="col-md-4 col-sm-8 col-xs-12 qusans" id="div_modeOfServiceDone">
                                                <span id="qosmodeOfServiceDone"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="DispoContainer animated bounceInDown" style="display:none;color:black">
                                        @if (ViewBag.CustCategory != "BODYSHOP")
                                        {
                                            <div class="row">
                                                <div class="colo-md-8 col-sm-8 col-xs-12 qusans">
                                                    <span><label class="countpsfPull"> </label> How do you rate your initial experience and appointment process from the service reminder to till the vehicle visited to our Service Center? Even explain us on how was our service team approach, your wait time, was this appointment system helpful?</span>
                                                </div>
                                                <div class="col-md-4 col-sm-8 col-xs-12 qusans" id="div_qFordQ1">
                                                    <span id="qosqFordQ1"></span>
                                                </div>
                                            </div>
                                        }

                                        @if (ViewBag.CustCategory == "BODYSHOP")
                                        {
                                            <div class="row">
                                                <div class="colo-md-8 col-sm-8 col-xs-12 qusans">
                                                    <span><label class="countpsfPull"> </label> Is your vehicle body repair done through Insurance or self-paid?</span>
                                                </div>
                                                <div class="col-md-4 col-sm-8 col-xs-12 qusans" id="div_qFordQ1">
                                                    <span id="bodyrepairthrough"></span>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="colo-md-8 col-sm-8 col-xs-12 qusans">
                                                    <span><label class="countpsfPull"> </label> How do you rate overall experience on insurance claim start from the claim intimation, estimation, vehicle survey, insurance coverage, etc?</span>
                                                </div>
                                                <div class="col-md-4 col-sm-8 col-xs-12 qusans" id="div_qFordQ1">
                                                    <span id="experienceOnIns"></span>
                                                </div>
                                            </div>
                                        }

                                    </div>
                                    <div class="DispoContainer animated bounceInDown" style="display:none;color:black">
                                        <div class="row">
                                            <div class="colo-md-8 col-sm-8 col-xs-12 qusans">
                                                <span><label class="countpsfPull"> </label> How do you rate our service advisor based on SA's ability to listen, understanding, attention, time spent, behavior, explanation, etc.?</span>
                                            </div>
                                            <div class="col-md-4 col-sm-8 col-xs-12 qusans" id="div_qFordQ2">
                                                <span id="qosqFordQ2"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="DispoContainer animated bounceInDown" style="display:none;color:black">

                                        @if (ViewBag.CustCategory != "BODYSHOP")
                                        {
                                            <div class="row">
                                                <div class="colo-md-8 col-sm-8 col-xs-12 qusans">
                                                    <span><label class="countpsfPull"> </label> How do you rate the quality of the work performed on your vehicle?</span>
                                                </div>
                                                <div class="col-md-4 col-sm-8 col-xs-12 qusans" id="div_qFordQ3">
                                                    <span id="qosqFordQ3"></span>
                                                </div>
                                            </div>
                                        }

                                        @if (ViewBag.CustCategory == "BODYSHOP")
                                        {
                                            <div class="row">
                                                <div class="colo-md-8 col-sm-8 col-xs-12 qusans">
                                                    <span><label class="countpsfPull"> </label> How do you rate the quality of the painting & denting work performed on your vehicle</span>
                                                </div>
                                                <div class="col-md-4 col-sm-8 col-xs-12 qusans" id="div_qFordQ3">
                                                    <span id="qualityofwork"></span>
                                                </div>
                                            </div>
                                        }

                                    </div>
                                    <div class="DispoContainer animated bounceInDown" style="display:none;color:black">
                                        <div class="row">
                                            <div class="colo-md-8 col-sm-8 col-xs-12 qusans">
                                                <span><label class="countpsfPull"> </label> Ask customer if rated Good, Fair & Poor. Could you please state the reason for the same?</span>
                                            </div>
                                            <div class="col-md-4 col-sm-8 col-xs-12 qusans" id="div_afterServiceComments">
                                                <span id="qosafterServiceComments"></span>
                                            </div>
                                        </div>
                                    </div>
                                    @if (ViewBag.CustCategory != "BODYSHOP")
                                    {
                                        <div class="DispoContainer animated bounceInDown" style="display:none;color:black">
                                            <div class="row">
                                                <div class="colo-md-8 col-sm-8 col-xs-12 qusans">
                                                    <span><label class="countpsfPull"> </label> How do you rate the washing & cleanliness of your vehicle?</span>
                                                </div>
                                                <div class="col-md-4 col-sm-8 col-xs-12 qusans" id="div_qFordQ5">
                                                    <span id="qosqFordQ5"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="DispoContainer animated bounceInDown" style="display:none;color:black">
                                            <div class="row">
                                                <div class="colo-md-8 col-sm-8 col-xs-12 qusans">
                                                    <span><label class="countpsfPull"> </label> How do you rate "Value for Money" of our service?</span>
                                                </div>
                                                <div class="col-md-4 col-sm-8 col-xs-12 qusans" id="div_qFordQ6">
                                                    <span id="qosqFordQ6"></span>
                                                </div>
                                            </div>
                                        </div>
                                    }

                                    <div class="DispoContainer animated bounceInDown" style="display:none;color:black">
                                        <div class="row">
                                            <div class="colo-md-8 col-sm-8 col-xs-12 qusans">
                                                <span>
                                                    <label class="countpsfPull"> </label> How strongly would you recommend Kalyani Motors to a friends, colleague or relatives?
                                                </span>
                                            </div>
                                            <div class="col-md-4 col-sm-8 col-xs-12 qusans" id="div_qFordQ7">
                                                <span id="qosqFordQ7"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="DispoContainer animated bounceInDown" style="display:none;color:black">
                                        <div class="row">
                                            <div class="colo-md-8 col-sm-8 col-xs-12 qusans">
                                                <span><label class="countpsfPull"> </label> Which of the following do you think we need an improvement in our service center?</span>
                                            </div>
                                            <div class="col-md-4 col-sm-8 col-xs-12 qusans" id="div_qM2_ReasonOfAreaOfImprovement">
                                                <span id="qosqM2_ReasonOfAreaOfImprovement"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="DispoContainer animated bounceInDown" style="display:none;color:black">
                                        <div class="row">
                                            <div class="colo-md-8 col-sm-8 col-xs-12 qusans">
                                                <span>
                                                    <label class="countpsfPull"> </label> Who is this complaint attributed to?
                                                </span>
                                            </div>
                                            <div class="col-md-4 col-sm-8 col-xs-12 qusans" id="div_qFordQ9">
                                                <span id="qosqFordQ9"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }
                            else if (Session["OEM"].ToString() == "HYUNDAI" || Session["DealerCode"].ToString() == "JDAUTONATION")
                            {
                                <div class="DispoContainer animated bounceInDown" style="display:none;color:black;margin-top:20px;">
                                    <div class="row">
                                        <div class="col-md-8 col-sm-8 col-xs-12">
                                            <span style="font-weight:600;font-size:16px;">Feedback Form Selected</span>
                                        </div>
                                        <div class="col-md-4 col-sm-4 col-xs-12">
                                            <span id="feedformSelecetd"></span>
                                        </div>
                                    </div>
                                    <div id="questionDiv_hyundai">

                                    </div>
                                </div>
                            }
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 4User Div End -->
<!-- 4User Div End -->
@******************* MODAL POP UP START *********************@
<div class="modal fade" id="AddressUpdatePopup" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <label>Add New Address</label>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12" style="padding-left: 0px;padding-right:0px; border-style: solid; border-color: #64aeef; margin-bottom: 7px;">
                        <div class="col-md-6" style="margin-bottom: 7px;">
                            <label>Update Address: </label>
                            <textarea id="newAddress" class="form-control paddr_line1 characterLimit" rows="3" placeholder="Please enter Company Name/Flat No &amp; Building name."></textarea>
                        </div>
                        <div class="col-md-2">
                            <label>State</label><br>
                            @Html.DropDownList("pstateId", Model.citystatesList, "--Select--", new { @class = "form-control paddr_line5", @style = "", @id = "pstateId", @onchange = "getCityByStateSelection('pstateId','paddrrCity');" })
                        </div>
                        <div class="col-md-2">
                            <label>City</label>
                            <select class="form-control paddr_line4" id="paddrrCity"></select>
                        </div>
                        <div class="col-md-2">
                            <label>PinCode</label>
                            <input type="text" class="form-control paddr_line6 numberOnly" id="ppincode" maxlength="6" rows="1" value="0" placeholder="Please enter PinCode">
                        </div>
                        <div class="col-md-2">
                            <label>Is Primary</label>
                            <input type="checkbox" id="IsPrimary" name="checkBoxPrimary" value="checkBoxPrimary" />
                        </div>
                    </div>
                    <div class="col-md-12">
                        <label>Available Address Details</label>
                        <div class="table-responsive divscroll">
                            <table id="allAddress" style="border-style:solid;border-color: #64aeef;" class="table table-striped table-bordered dt-responsive nowrap table-fixed" cellspacing="0" border="2">
                                <thead class="makefixed">
                                    <tr style="font-size: small;">
                                        <th>Preffered</th>
                                        <th>Address</th>
                                        <th>City</th>
                                        <th>Pincode</th>
                                        <th>Update On</th>
                                        <th>Updated By</th>
                                        @if (Session["UserRole"].ToString() == "CREManager")
                                        {
                                            <th>Delete</th>
                                        }

                                    </tr>
                                </thead>
                                <tbody style="font-size: smaller; color:black" id="popUpBody"></tbody>
                            </table>
                        </div>
                    </div>
                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary paddr_submit" data-dismiss="modal" onclick="updateNewAddress();">Add</button>
                <button type="button" class="btn btn-primary paddr_submit" onclick="reset();">Reset</button>

            </div>
        </div>
    </div>
</div>
@******************* MODAL POP UP END *********************@


@*Akash Added*@
<div id=" pmsLabourCheck_div">
    <div class="modal fade" id="pmsLabour" role="dialog">
        <div class="modal-dialog modal-lg">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header" style="text-align:center">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title"><b>PMS LABOUR & PARTS AMOUNT</b></h4>

                </div>
                <div class="modal-body" style=" padding:20px ;">
                    <div class="panel panel-primary">
                        <div class="panel-heading" style="padding:0px;"> </div>
                        <div class="panel-body mbheight">


                            <div class="row">


                                <div class="col-md-4 col-md-offset-1">
                                    <div class="form-group">
                                        <label for="">City</label>
                                        @Html.DropDownList("pmsLabourCity", new SelectList(Model.pmscitylist, "id", "cityname"), "--Select--", new { @id = "pmsLabourCity", @class = "form-control" })

                                    </div>
                                </div>
                                <div class="col-md-4 col-md-offset-1">
                                    <div class="form-group">

                                        <label for="">Model</label>
                                        @Html.DropDownList("pmsLabourModel", new SelectList(Model.pmsmodels, "id", "model"), "--Select--", new { onchange = "pmsMileage()", @id = "pmsLabourModel", @class = "form-control" })

                                    </div>
                                </div>

                            </div>
                            <div class="row">
                                <div class="col-md-4 col-md-offset-1">
                                    <div class="form-group">

                                        <label for="">Mileage</label>

                                        <select name="pmsLabourMileage" id="pmsLabourMileage" disabled="disabled" class="form-control">
                                            <option value="">--Select--</option>
                                        </select>

                                    </div>
                                </div>
                                <div class="col-md-4 col-md-offset-1">
                                    <div class="form-group">
                                        <label for="">Fuel Type</label>

                                        <select name="pmsLabourfuelType" id="pmsLabourfuelType" class="form-control">
                                            <option value="">--Select--</option>
                                            <option value="Petrol">Petrol</option>
                                            <option value="Diesel">Diesel</option>

                                        </select>

                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-2 col-md-offset-3">
                                    <div class="form-group">

                                        <label for=""></label>
                                        <input type="button" id="btnpmsLabourReset" onclick="pmsLabourReset();" value="Reset" class="form-control btn btn-primary" />

                                    </div>
                                </div>
                                <div class="col-md-2 col-md-offset-1">
                                    <div class="form-group">

                                        <label for=""></label>

                                        <input type="button" id="btnpmsLabourSubmit" onclick="pmsLabourSubmit();" value="Submit" class="form-control btn btn-success" />

                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>


<div id=" pmsLabourCheck1_div">
    <div class="modal fade" id="pmsLabour1" role="dialog">
        <div class="modal-dialog modal-lg">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header" style="text-align:center">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title" style="text-align:center;"><b>PMS LABOUR & PARTS AMOUNT</b></h4>

                </div>
                <div class="modal-body" style=" padding:20px ;">
                    <div class="panel panel-primary">
                        <div class="panel-heading" style="padding:0px;"> </div>
                        <div class="panel-body mbheight">
                            <div class="row">
                                <div class="col-md-2">
                                    <div class="form-group">

                                        <label for="labourAmount" style="text-align: center; width: 100px">Total Labor</label>

                                        <input type="text" style="border: 2px solid #00BFFF; text-align: center; width: 100px " id="labourAmount" name="labourAmount" class="form-control numberOnly" disabled="disabled" />

                                    </div>

                                </div>

                                <div class="col-md-2">
                                    <div class="form-group">

                                        <label for="labourAmount" style="text-align: center; width: 100px">Basic</label>

                                        <input onkeyup="calculateLabour();" type="text" style="border: 2px solid #FF0000; text-align: center; width: 100px " id="basic" name="basic" class="form-control numberOnly" />

                                    </div>

                                </div>

                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label for="wheelAlignment" style="text-align: center; width: 100px">Wheel Alignment</label>
                                        <input onkeyup="calculateLabour();" type="text" style="border: 2px solid #FF0000; text-align: center; width: 100px " id="wheelAlignment" name="wheelAlignment" class="form-control numberOnly" />

                                    </div>
                                </div>

                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label for="wheelBalancing" style="text-align: center; width: 100px">Wheel Balancing</label>
                                        <input onkeyup="calculateLabour();" type="text" style="border: 2px solid #FF0000; text-align: center; width: 100px " id="wheelBalancing" name="wheelBalancing" class="form-control numberOnly" />

                                    </div>
                                </div>

                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label for="wheelBalancing" style="text-align: center; width: 100px">Hygiene</label>
                                        <input onkeyup="calculateLabour();" type="text" style="border: 2px solid #FF0000; text-align: center; width: 100px " id="hygiene" name="hygiene" class="form-control numberOnly" />

                                    </div>
                                </div>

                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label for="partsAmount" style="text-align: center; width: 100px; padding-top:18px">Total Parts</label>
                                        <input type="text" style="border: 2px solid #00BFFF; text-align: center; width: 100px " id="partsAmount" name="partsAmount" class="form-control numberOnly" disabled="disabled" />

                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label for="belt" style="text-align: center; width: 100px">Water pump drive belt</label>
                                        <input onkeyup="calculateParts();" type="text" style="border: 2px solid #FF0000; text-align: center; width: 100px " id="belt" name="belt" class="form-control numberOnly" />

                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label for="coolant" style="text-align: center; width: 100px">Engine coolant MGC(in Its)</label>
                                        <input onkeyup="calculateParts();" type="text" style="border: 2px solid #FF0000; text-align: center; width: 100px " id="coolant" name="coolant" class="form-control numberOnly" />

                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label for="engineOil" style="text-align: center; width: 100px; padding-top: 18px">Engine Oil (in Its)</label>
                                        <input onkeyup="calculateParts();" type="text" style="border: 2px solid #FF0000; text-align: center; width: 100px " id="engineOil" name="Engine Oil" class="form-control" />

                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label for="oilFilter" style="text-align: center; width: 100px; padding-top: 18px">Engine Oil filter</label>
                                        <input onkeyup="calculateParts();" type="text" style="border: 2px solid #FF0000; text-align: center; width: 100px " id="oilFilter" name="oilFilter" class="form-control numberOnly" />
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-2">
                                    <div class="form-group">

                                        <input type="hidden" style="width: 100px;" class="form-control numberOnly" />

                                    </div>
                                </div>

                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label for="sparkPlug" style="text-align: center; width: 100px; padding-top: 18px;">Spark Plug</label>

                                        <input onkeyup="calculateParts();" type="text" style="border: 2px solid #FF0000; text-align: center; width: 100px;" id="sparkPlug" name="sparkPlug" class="form-control numberOnly" />

                                    </div>
                                </div>

                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label for="airFilter" style="text-align: center; width: 100px">Air cleaner filter Element</label>
                                        <input onkeyup="calculateParts();" type="text" style="border: 2px solid #FF0000; text-align: center; width: 100px " id="airFilter" name="airFilter" class="form-control numberOnly" />
                                    </div>
                                </div>

                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label for="fuelFilter" style="text-align: center; width: 100px; padding-top: 18px">Fuel filter</label>
                                        <input onkeyup="calculateParts();" type="text" style="border: 2px solid #FF0000; text-align: center; width: 100px " id="fuelFilter" name="oilFilter" class="form-control numberOnly" />
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label for="brakeFluid" style="text-align: center; width: 100px">Brake fluid MGBF(in Its)</label>
                                        <input onkeyup="calculateParts();" type="text" style="border: 2px solid #FF0000; text-align: center; width: 100px " id="brakeFluid" name="brakeFluid" class="form-control numberOnly" />

                                    </div>
                                </div>
                            </div>

                            <!--only for kataria-->
                            <div id="katariaServiceEstDiv" style="display:none">
                                <div class="row">
                                    <div class="col-md-2">
                                        <div class="form-group">

                                            <input type="hidden" style="width: 100px;" class="form-control numberOnly" />

                                        </div>
                                    </div>

                                    <div class="col-md-2">
                                        <div class="form-group">
                                            <label for="gasketDrainPlug" style="text-align: center; width: 100px;">Gasket Drain Plug</label>

                                            <input onkeyup="calculateParts();" type="text" style="border: 2px solid #FF0000; text-align: center; width: 100px;" id="gasketDrainPlug" name="gasketDrainPlug" class="form-control numberOnly" />

                                        </div>
                                    </div>

                                    <div class="col-md-2">
                                        <div class="form-group">
                                            <label for="oilFilterGasket" style="text-align: center; width: 100px; padding-top: 18px;">Oil Filter Gasket</label>
                                            <input onkeyup="calculateParts();" type="text" style="border: 2px solid #FF0000; text-align: center; width: 100px " id="oilFilterGasket" name="oilFilterGasket" class="form-control numberOnly" />
                                        </div>
                                    </div>

                                    <div class="col-md-2">
                                        <div class="form-group">
                                            <label for="clutchFluid" style="text-align: center; width: 100px; padding-top: 18px">Clutch Fluid</label>
                                            <input onkeyup="calculateParts();" type="text" style="border: 2px solid #FF0000; text-align: center; width: 100px " id="clutchFluid" name="clutchFluid" class="form-control numberOnly" />
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <div class="form-group">
                                            <label for="transmissionOil" style="text-align: center; width: 100px; padding-top: 18px;">Transmission Oil</label>
                                            <input onkeyup="calculateParts();" type="text" style="border: 2px solid #FF0000; text-align: center; width: 100px " id="transmissionOil" name="transmissionOil" class="form-control numberOnly" />

                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label for="other1" style="text-align: center; width: 100px">Other1</label>
                                        @*<input type="text" style="border: 2px solid #FF0000; text-align: center; width: 100px " id="other1" name="other1" class="form-control numberOnly" autocomplete="on" />*@
                                        <input onkeyup="getFinalLiability();" type="text" style="border: 2px solid #FF0000; text-align: center; width: 100px " id="other1" name="other1" class="form-control numberOnly" />

                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label for="other2" style="text-align: center; width: 100px">Other2</label>
                                        @*<input type="text" style="border: 2px solid #FF0000; text-align: center; width: 100px " id="other2" name="other2" class="form-control numberOnly" autocomplete="on" />*@
                                        <input onkeyup="getFinalLiability();" type="text" style="border: 2px solid #FF0000; text-align: center; width: 100px " id="other2" name="other2" class="form-control numberOnly" />


                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        @*<label><b>TOTAL</b></label>*@
                                        @*<p style="font-size:20px;">TOTAL</p>*@

                                        <label for="total" style="text-align: center; width: 100px;">Total</label>
                                        <input type="text" style="border: 2px solid #00BFFF; text-align: center; width: 100px " id="total" name="total" class="form-control numberOnly" disabled="disabled" />

                                    </div>
                                </div>
                            </div>

                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="ORAIsmsPopuId" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header" style="text-align:center;background-color: #106A86;color: #ffff;">
                <button type="button" class="close" data-dismiss="modal"><img src="~/public/images/close1.png"></button>
                <h4 class="modal-title"><b>SMS OPTIONS</b></h4>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="form-group" style="padding: 5px 17px;">
                        <div class="radio-inline">
                            <label>@Html.RadioButton("TypeOfMsgORAI", "SMS", new { @id = "smsRadio", @onclick = "typeOfMsgORAI(this);" })SMS</label>
                        </div>
                        <div class="radio-inline">
                            @if (Session["DealerCode"].ToString() == "BRIDGEWAYMOTORS" || Session["DealerCode"].ToString() == "BHANDARIAUTOMOBILE")
                            {
                                <label>@Html.RadioButton("TypeOfMsgORAI", "WhatsApp", new { @id = "wtsAppRadio", @onclick = "typeOfMsgORAI(this);" })Whatsapp Business</label>
                            }
                            else
                            {
                                <label>@Html.RadioButton("TypeOfMsgORAI", "WhatsApp", new { @id = "wtsAppRadio", @onclick = "typeOfMsgORAI(this);" })Whatsapp ORAI</label>

                            }
                        </div>
                        <div class="radio-inline">
                            <label>@Html.RadioButton("TypeOfMsgORAI", "WhatsAppNormal", new { @id = "wtsAppRadioNormal", @onclick = "typeOfMsgORAI(this);" })WhatsApp-Normal</label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="comment">SMS Type:</label>
                            @Html.DropDownList("ddl_SMSType", Enumerable.Empty<SelectListItem>(), "--Select--", new { @class = "form-control", @style = "text-transform:capitalize;", @id = "ddl_ORAISMSType", @onchange = "workshopChangedORAI(this.id);" })

                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="sel1">Location</label>
                            @Html.DropDownList("ddl_location", new SelectList(Model.locationList, "name", "name"), "--Select--", new { @class = "form-control", @onchange = "ajaxCallToLoadWorkShopByCity('ORAIddl_location','ORAIddl_workshop');", @id = "ORAIddl_location" })
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="sel1">Workshop</label>

                            @Html.DropDownList("ddl_workshop", Enumerable.Empty<SelectListItem>(), "--Select--", new { @class = "form-control", @onchange = "workshopChangedORAI(this.id);ajaxCallToLoadPhoneNumberByWorkshop('ORAIddl_workshop','txtwyzuserManagerphonenum')", @id = "ORAIddl_workshop" })

                        </div>
                    </div>
                </div>

                <div class="col-md-12 " id="ORAIdateTimeDiv" style="display:none">
                    <div class="col-md-3" id="bookingdaeORAIDiv" style="display:none;">
                        <div class="form-group">
                            <label>Select Booking Date</label>
                            <input type="text" id="txtoraibookingDateTo" placeholder="Date" name="txtbookingDateTo" class="form-control datePicker" readonly />
                        </div>
                    </div>

                    <div class="col-md-3" id="oraitimeDiv" style="display:none">
                        <div class="form-group">
                            <label>Select Booking Time</label>
                            <input type="text" id="txtoraibookingTime" placeholder="Booking Time" name="txtbookingTime" class="form-control timepicker_7" readonly />
                        </div>
                    </div>

                </div>
                <div class="col-md-12" style="display:none;" id="orai_btn">
                    <div class="form-group" style="margin-left:15px">
                        <button type="button" id="ORAIwtsappTemplate" name="wtsappTemplate" onclick="getTemplateForWhatsappORAI();" class="btn btn-sm btn-info">Get Template</button><br />
                        <label for="wtsappTemplate" style="color:red;font-size:9pt;font-family:Consolas">First click on <i>Get Template</i> before sending...</label>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="col-md-12">
                        <div class="form-group">
                            <label for="comment">SMS Template:</label>
                            <textarea class="form-control" rows="5" id="ORAIsmstemplate"></textarea>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" id="sendMsgORAI" class="btn btn-default" data-dismiss="modal" disabled="disabled" onclick="sendMessageORAI();"><img src='~/public/images/sms_logo.jpg' style="width: 20px;">&nbsp;Send</button>
            <button type="button" id="btn_whatsapporai" style="display:none;" class="btn btn-default whatsapp" onclick="OpenWhatsApp(this)" data-dismiss="modal"><img src='~/public/images/whatsapp_logo.png' style="width: 20px;">&nbsp;Message</button>
        </div>
    </div>
</div>
</div>

<!-- Post sale Pullouts-->
<div class="modal fade" id="PostsalesPullModal" style="top:0%" role="dialog">
    <div class="modal-dialog modal-lg psfMainContent" style="width:90%">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header" style="padding: 5px; text-align: center;">
                <button type="button" class="close" data-dismiss="modal"><img src="~/public/images/close1.png"></button>
                <h4 class="modal-title">POST SALES INFORMATION</h4>
            </div>
            <div class="modal-body" style="padding: 5px;">
                <div class="row" style="margin: auto; background-color:#e5e5e5;border:1px solid #3333;">
                    @if (Model.psfPullOuts != null)
                    {
                        @:<div class="col-md-2 frmobile-card left-panel">
                            if (Model.psfPullOuts.Count > 0)
                            {
                                foreach (var postsales in Model.psfPullOuts)
                                {
                                    @:<div class="main-content" id="postsalesday_@postsales.CubeId" onclick="getPostsalesDetails(@postsales.CubeId)"><span></span><div class="psales">@postsales.PSFDay</div></div>
                                }
                            }
                            else
                            {
                                @:<div class="main-content" style="cursor:none;">No Disposition Found</div>
                            }
                        @:</div>
                        <div class="col-md-9 rigth-panel">
                            <div id="postsalesview">
                                <div class="row" style=" text-align: center;">
                                    <div class="col-md-3 col-sm-3 col-xs-6">
                                        <div style="display:none;" class="pcontent animated  bounceInLeft">
                                            <span id="psoutlet"></span>
                                            <div class="pfooter">Outlet&nbsp;Name</div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 col-sm-3 col-xs-6">
                                        <div style="display:none;" class="pcontent animated  bounceInLeft">
                                            <span id="pschassis"></span>
                                            <div class="pfooter">Chassis&nbsp;No.</div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 col-sm-3 col-xs-6">
                                        <div style="display:none;" class="pcontent animated  bounceInLeft">
                                            <span id="psdeliverydate"></span>
                                            <div class="pfooter">Delivery&nbsp;Date</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row" style=" text-align: center;margin-top:3px;">
                                    <div class="col-md-3 col-sm-3 col-xs-6">
                                        <div style="display:none;" class="pcontent animated  bounceInLeft">
                                            <span id="psdsename"></span>
                                            <div class="pfooter">DSE&nbsp;Name</div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 col-sm-3 col-xs-6">
                                        <div style="display:none;" class="pcontent animated  bounceInLeft">
                                            <span id="pscrename"></span>
                                            <div class="pfooter">CRE&nbsp;Name</div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 col-sm-3 col-xs-6">
                                        <div style="display:none;" class="pcontent animated  bounceInLeft">
                                            <span id="psldd"></span>
                                            <div class="pfooter">LastDisposition&nbsp;Date</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row" style="margin-top: 15px; display: none; color: black" id="postsalesfeedbackicon">
                                    <div class="col-md-6 col-sm-6 col-xs-6">
                                        <label>Overall Feedback:</label>
                                        <span id="overallfeedSatps" style="padding:5px 8px 5px 8px;border-radius: 5px;"></span><span style="display:none;font-size:14pt;" id="satIconps">&#128515;</span>
                                        <span id="overallfeedDisSatps" style="padding:5px 8px 5px 8px;border-radius: 5px;"></span><span style="display:none;font-size:14pt;" id="disSatIconps">&#128524;</span>
                                    </div>
                                    <div class=" col-md-6 col-sm-6 col-xl-12">
                                        <label>CRE Remarks:</label><span id="creps"></span>
                                    </div>
                                    <div class="row">
                                        <div class=" col-md-6 col-sm-6 col-xl-12">
                                            <label>Customer Remarks:</label><span id="cusps"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="PostSalesDispoContainer animated bounceInDown" style="display:none;color:black">

                                <div class="row" style="margin-top:15px;" id="divpsDetailsOverView">
                                    <div class="col-md-8 col-sm-8 col-xs-12 psques">
                                        <span id="psquestion"></span>
                                    </div>
                                </div>
                                <div class="row" style="margin-top:15px;" id="divDetailsOverViewps">
                                    <div class="col-md-8 col-sm-8 col-xs-12 psanswer">
                                        <span id="psquesans"></span>
                                    </div>
                                </div>

                            </div>

                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>

<!-- End Post sale Pullouts-->






@section scripts
   {
    @Scripts.Render("~/bundles/CallLoggingJS")

            <script>
                //StopWatch
                var timer = null;
                var min_txt = document.getElementById("min");
                console.log("min_txt = ",min_txt);
                var min = Number(min_txt.innerHTML);
                var sec_txt = document.getElementById("sec");
                console.log("sec_txt = ", sec_txt);
                var sec = Number(sec_txt.innerHTML);
                var msec_txt = document.getElementById("msec");
                var msec = Number(msec_txt.innerHTML);
                function stopTimeMilliseconds(timer) {
                    if (timer) {
                        console.log("timer = ",timer);
                        clearInterval(timer);
                        return timer;
                    }
                    else return timer;
                }
                function startTimeMilliseconds() {
                    var currDate = new Date();
                    return currDate.getTime();
                }
                function getElapsedTimeMilliseconds(startMilliseconds) {
                    if (startMilliseconds > 0) {
                        var currDate = new Date();
                        elapsedMilliseconds = (currDate.getTime() - startMilliseconds);
                        return elapsedMilliseconds;
                    }
                    else {
                        return elapsedMilliseconds = 0;
                    }
                }

                function startWatch() {
                    // START TIMER
                    timer = stopTimeMilliseconds(timer);
                    var startMilliseconds = startTimeMilliseconds();
                    timer = setInterval(function () {
                        var elapsedMilliseconds = getElapsedTimeMilliseconds(startMilliseconds);
                        if (msec < 10) {
                            msec_txt.innerHTML = "00" + msec;
                        }
                        else if (msec < 100) {
                            msec_txt.innerHTML = "0" + msec;
                        }
                        else {
                            msec_txt.innerHTML = msec;
                        }
                        if (sec < 10) {
                            sec_txt.innerHTML = "0" + sec;
                        }
                        else {
                            sec_txt.innerHTML = sec;
                        }
                        min_txt.innerHTML = min;
                        msec = elapsedMilliseconds;
                        if (min >= 59 && sec >= 59 && msec > 900) {
                            timer = stopTimeMilliseconds(timer);
                            return true;
                        }
                        if (sec > 59) {
                            sec = 0;
                            min++;
                        }
                        if (msec > 999) {
                            msec = 0;
                            sec++;
                            startWatch();
                        }
                    }, 10);
                }
                function stopWatch() {
                    //STOP TIMER
                    timer = stopTimeMilliseconds(timer);
                    return true;
                }
                function resetWatch() {
                    // REZERO TIMER
                    timer = stopTimeMilliseconds(timer);
                    msec_txt.innerHTML = "000";
                    msec = 0;
                    sec_txt.innerHTML = "00";
                    sec = 0;
                    min_txt.innerHTML = "0";
                    min = 0;
                    return true;
                }

                function onSubmitHandler() {
                    stopWatch();
                    var min_txt = document.getElementById("min");
                    var min = Number(min_txt.innerHTML);
                    var sec_txt = document.getElementById("sec");
                    var sec = Number(sec_txt.innerHTML);
                    var msec_txt = document.getElementById("msec");
                    var msec = Number(msec_txt.innerHTML);
                    var total = "0:" + min + ":" + sec;
                    $('#txttotaltimespent').val(total);
                    resetWatch();
                    /*formId is form24 */
                }
                startWatch();


                var mDatePickerInitialized = false;

                function IntitalizeManualDatepicker() {

                    var mDate = $('#policyEditedduedate').text().trim();

                    if (mDate != '') {
                        $('#man-assignedDatepicker').datepicker("setDate", mDate);
                    }
                }

                $(document).on("click", "#ins-cal-sel", function () {

                    $('#insurancedatepickermodal').modal('show');


                    if (!(mDatePickerInitialized)) IntitalizeManualDatepicker();

                   mDatePickerInitialized = true;

                })
                $(document).on("click", "#ins-cal-sel1", function () {

                    $('#insurancedatepickermodal').modal('show');


                    if (!(mDatePickerInitialized)) IntitalizeManualDatepicker();

                    mDatePickerInitialized = true;

                })


                $(document).on("click", "#btn-save-manualAssignedDate", function () {

                    let vehicleId = $("#vehical_Id").val();
                    let manAssgnDate = $("#hdn-in-manualDate").val();

                    //updateManualDate(manAssgnDate, vehicleId);
                    $('#mainLoader').fadeIn('slow');
                    $.ajax({

                        url: "@Url.Action("UpdateAssignedManualDate", "CallLogging")",
                        type: "POST",
                        data: { "vehicleId": vehicleId, "manualAssignedDate": manAssgnDate },
                        success: function (data) {

                            Lobibox.notify('info', {
                                msg: 'Manual Assigned Date updated successfully'
                            });

                            $("#policyEditedduedate").text(manAssgnDate);
                        },
                        error: function (err) {

                            Lobibox.notify('warning', {
                                msg: "Error updating Manual Assigned Date."
                            });

                        },
                        complete: function () {
                            $('#mainLoader').fadeOut('slow');
                            $('#insurancedatepickermodal').modal('toggle');
                        }
                    });
                });




        @*var insHistoryData = @Html.Raw(Json.Encode(Model.cust.insurances));*@

                $(document).ready(function ()
                {
                    checksmsenable();
                    smsEnableDisableButton();

                    $('#man-assignedDatepicker').datepicker({
                        inline: true,
                        altField: '#hdn-in-manualDate',
                        changeMonth: true,
                        changeYear: true,
                        dateFormat: 'dd-mm-yy',
                        minDate: new Date(),
                        maxDate: '+1Y',
                    });



            var oem = $('#PkOEM').val();
            var dealecodead = $('#PkDealercode').val();

            if (dealecodead == "ADVAITHHYUNDAI") {
                $('#dndDivadvaithhide').css({'display':'none'});
            }
            var fieldenabled = $('#fieldenabled').val();
            if (fieldenabled == "True")
            {
                $('#idvId').val('@insuIDV');

                var fieldDate = '@fieldscheduledate';
                var fieldTime = '@appointmntFieldtime';
                var fieldloc = '@locfield';

                if (fieldDate != " " && fieldTime != " " && fieldloc != 0) {
                insagentId = '@agentinsuranceId';

                //$('#driverValueIns').val(insagentId);
                    var displyMsg = "  Scheduled date" + fieldDate + "  Time " + fieldTime;
                    $('#displayfieldapptmntTime').text(displyMsg);
                        //ajaxCallForSchedular();
                                //ajaxCallForSchedularChanged();

                    }
                }
          });

        $('tr.parent')
            .attr("title", "Click to expand/collapse")
            .click(function () {
                $(this).siblings('.child-' + this.id).toggle();
            });
        $('tr[class^=child-]').hide().children('td');


            $('#btnPolicyDropSubmit').click(function (e) {

                if ($('#policyDropAddressId').val() == "" || $('#pincodeIdpolicy').val() == "" || $('#policydropdateis').val() == "" || $('#policydropfieldLocation').val() == "" || $('#startValueIns1').val() == "" || $('#endValueIns1').val() == "" || $('#driverValueIns1').val() == "0") {
                    if ($('#policyDropAddressId').val() == "") {
                        Lobibox.notify('warning', {
                            msg: 'Please enter/select address.'
                        });

                        return false;
                    }

                    if ($('#pincodeIdpolicy').val() == "") {
                        Lobibox.notify('warning', {
                            msg: 'Please enter pincode.'
                        });
                        return false;
                    }

                    if ($('#policydropdateis').val() == "") {
                        Lobibox.notify('warning', {
                            msg: 'Please select field date.'
                        });
                        return false;
                    }

                    if ($('#policydropfieldLocation ').val() == "") {
                        Lobibox.notify('warning', {
                            msg: 'Please select field location.'
                        });
                        return false;
                    }

                    if ($('#startValueIns1').val() == "") {
                        Lobibox.notify('warning', {
                            msg: 'Please selelect field start time.'
                        });

                        return false;
                    }


                    if ($('#endValueIns1').val() == "") {
                        Lobibox.notify('warning', {
                            msg: 'Please selelect field end time.'
                        });

                        return false;
                    }

                    if ($('#driverValueIns1 ').val() == "0") {
                        Lobibox.notify('warning', {
                            msg: 'Please selelect field agent.'
                        });

                        return false;
                    }
                }

                var disctData = {};

                disctData["address"] = $('#policyDropAddressId').val();
                disctData["pincode"] = $('#pincodeIdpolicy').val();
                disctData["fielddate"] = $('#policydropdateis').val();
                disctData["locId"] = $('#policydropfieldLocation').val();
                disctData["endTime"] = $('#endValueIns1').val();
                disctData["agentId"] = $('#driverValueIns1').val();
                disctData["startTime"] = $('#startValueIns1').val();
                disctData["creRemarks"] = $('#crePolicyRemarks').val();
                disctData["custRemakrs"] = $('#cusPolicyRemarks').val();


                $('#mainLoader').fadeIn('slow');
                $.ajax({
                    type: 'POST',
                    url: siteRoot + "/CallLogging/savePolicyDrop/",
                    datatype: 'json',
                    cache: false,
                    data: { disctData: disctData },
                    success: function (res) {
                        if (res.success == true) {

                            $('#mainLoader').fadeOut('slow');
                            Lobibox.notify('success', {
                                msg: 'Recorded successfully'
                            });

                            $('#policyDropAddressId').val('');
                            $('#pincodeIdpolicy').val('');
                            $('#policydropdateis').val('');

                            $('#policydropfieldLocation').val('');
                            $("#policydropfieldLocation").multiselect('refresh');

                            $('#startValueIns1').val('');
                            $('#endValueIns1').val('');
                            $('#driverValueIns1').val('0');

                            $('#crePolicyRemarks').val('');
                            $('#cusPolicyRemarks').val('');

                            $('#tableschIDpolicy').empty();

                            if ($.fn.DataTable.isDataTable("#tableschIDpolicy")) {
                                var table = $("#tableschIDpolicy").DataTable();
                                table.clear();
                                table.destroy();
                            }
                            $("#tableschIDpolicy thead").remove();

                            $('#policyDrop').modal('hide');
                        }
                        else {
                            Lobibox.notify('warning', {
                                continueDelayOnInactiveTab: true,
                                msg: res.exception
                            });
                        }
                    },
                    error: function (ex) {
                        alert(ex);
                    }
                });
        });


        function putfieldSelValue(thisId, targetId) {

            var thisValue = $('#' + thisId).val();

            //if (thisValue.lenght==1 || thisValue.lenght == 2) {
            //    $('#' + targetId).val(parseInt(thisValue));
            //}
            //else {

            //}
            $('#' + targetId).val(thisValue);
            var afterPut = $('#' + targetId).val();
        }
        function checksmsenable() {
            if (!$("#sendbookingsmschk").is(":checked")) {
                $('#issmsenbledsave').val("false");
            }
            else {
                $('#issmsenbledsave').val("true");

            }
                }

                

                

                $('#fixedsocial').hide();

                

    </script>
}
